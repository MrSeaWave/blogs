{"posts":[{"title":"GoodNotesè½¯ä»¶","text":"ä»Šå¤©å®‰åˆ©ä¸€æ¬¾è½¯ä»¶ï¼šGoodNotes æƒ³å¿…æ‰‹å¤´ä¸Šæœ‰ ipad çš„äººå¯èƒ½æˆ–å¤šæˆ–å°‘éƒ½å¬è¿‡ä»–çš„å¤§åï¼Œæ²¡é”™ï¼Œä»–å°±æ˜¯å¯ä»¥è®©ä½ çš„ Ipad ä¸åœ¨æ˜¯å¨±ä¹å·¥å…·ï¼Œä»è€Œè½¬å‹ä¸ºå­¦æœ¯å‹å·¥å…·çš„ä¸€æ¬¾åŸºäº Apple Pencil çš„ç”µå­ç¬”è®°çš„è½¯ä»¶ã€‚ å¤§å®¶åœ¨çœ‹ä¹¦ï¼Œå­¦ä¹ ï¼Œç©æ¸¸æˆæ—¶æˆ–å¤šæˆ–å°‘éƒ½éœ€è¦ç¬”è®°åŠŸèƒ½ï¼Œå¯ä»¥è¯´ç¬”è®°åœ¨ä¸¤ä¸ªç¯èŠ‚èµ·ä½œç”¨ï¼š æ–¹ä¾¿è®°å½•è¿‡åçš„æŸ¥é˜…ã€‚ä¹¦å†™è¿‡ç¨‹æ€ä¹ˆè®°çš„ä¹Ÿè®¸ä¸é‡è¦ï¼Œäº‹åæ–¹ä¾¿æŸ¥æ‰¾ç¿»çœ‹æ‰æ˜¯ç‹é“ï¼› è¿½æ±‚ç¬”è®°ä¹¦å†™çš„è¿‡ç¨‹ã€‚æœ‰äº›ç¬”è®°è®°å®Œäº†ç”šâ¾„ä¸â¼€å®šä¼šå›å»çœ‹ï¼Œä½†æ˜¯â¼€ç¬”â¼€ç”»å†™ä¸‹æ¥çš„è¿‡ç¨‹èƒ½åŠ æ·±è®°å¿†ã€‚ å¯¹äºç¬¬ä¸€ç±»ç¬”è®°ï¼Œæˆ‘ä¼šä½¿ç”¨é”®ç›˜æˆ–è€…è¯­éŸ³è¾“å…¥ä»è€Œå°½å¿«å®Œæˆè®°å½•ï¼› å¯¹äºç¬¬äºŒç±»ç¬”è®°ï¼Œåˆ™ä½¿ç”¨æ‰‹å†™å½¢å¼çš„ç”µå­ç¬”è®°ã€‚æ¯”å¦‚çœ‹ä¹¦ï¼Œè®¡ç®—å…¬å¼ï¼Œå­¦ä¹ è¯­è¨€ï¼Œéœ€è¦èŠ±æ—¶é—´åå¤å»è®°å¿†ï¼Œé‚£ä¹ˆæ‰‹å†™è¿™ç§çœ‹ä¼¼å¾ˆæ…¢çš„æ–¹å¼ï¼Œåè€Œå¾ˆé«˜æ•ˆã€‚ç›¸æ¯”äºå™¼é‡Œå•ªå•¦åœ¨å±å¹•ä¸Šæ‰“å­—ï¼Œä¸€ç¬”ä¸€ç”»å†™å­—çš„è¿‡ç¨‹ä¹Ÿæ˜¯è®°å¿†å’Œæ€è€ƒçš„è¿‡ç¨‹ã€‚å³ä½¿åæœŸä¸å»å›çœ‹ï¼Œå­¦ä¹ æ•ˆæœä¹Ÿæ¯”æ‰“å­—å¥½å¾—å¤ªå¤šã€‚åœ¨æˆ‘ä»¬è¿½æ±‚é€Ÿåº¦ã€å‡†ç¡®ã€æ•ˆç‡çš„è¿‡ç¨‹ä¸­ï¼Œçº¸ç¬”çš„ä»·å€¼ä»ç„¶ä¸èƒ½è¢«å¦å®šã€‚ çº¸è´¨çš„ä¹¦ç±åšé‡éš¾æ‰¾è¿˜ä¸å¥½ä¿®æ”¹ï¼Œçº¯æ‰“å­—çš„ç¬”è®°åˆæ²¡æœ‰æ‰‹å†™çš„è´¨æ„Ÿå’Œçµæ„Ÿï¼Œ iPad æ­é… Pencil å¯ä»¥å¾ˆå¥½åœ°ç»“åˆç”µå­äº§å“å’Œæ‰‹å†™çš„ä¼˜åŠ¿ï¼Œç®—æ˜¯åœ¨å…¶ä¸­æ‰¾åˆ°äº†ç›¸å¯¹å¹³è¡¡çš„ç‚¹ã€‚æ—¢èƒ½å¤Ÿä¿ç•™â¼¿å†™çš„æ„Ÿå®˜ä½“éªŒï¼Œâ¼œå…¼é¡¾äº†ç”µâ¼¦ç¬”è®°çš„è½»ä¾¿â¾¼æ•ˆã€‚ è€Œé™¤äº†ç¡¬ä»¶ä»¥å¤–ï¼Œé€‚åˆè‡ªå·±çš„è½¯ä»¶å¯ä»¥è®©ç¬”è®°è¿™ä»¶äº‹äº‹åŠåŠŸå€ã€‚ å› æ­¤ä»Šå¤©å®‰åˆ©äº†è¿™æ¬¾è½¯ä»¶ï¼šGoodNotesã€‚ ä¸‹é¢ä¸¾ä¸ªä¾‹å­ï¼Œæ¥ä½è¯ä¸‹è¿™æ¬¾è½¯ä»¶ï¼š è‡ªç”±çš„ä¹¦å†™ä½“éªŒå¯¹äº Notion è¿™æ ·çš„éæ‰‹å†™å·¥å…·ï¼Œæœ‰èƒŒåå¼ºå¤§çš„ UI åšæ”¯æ’‘ï¼Œä½ æ¯ä¸€ä¸ªè¾“å…¥ã€æ¯ä¸€æ¬¡åˆ›å»ºéƒ½ä¸ä¼šç ´åé¡µé¢çš„ä¸¥è°¨åº¦å’Œç¾æ„Ÿï¼Œä¼¼ä¹åœ¨ä½¿ç”¨çš„æ—¶å€™ä¹Ÿä¼šæ›´åŠ ã€Œéƒ‘é‡å…¶äº‹ã€ï¼Œè¿˜æœ‰å…¶ç‹¬ç‰¹çš„æ•°æ®åº“åŠŸèƒ½ã€‚ç†æ€§ç”¨æˆ·çš„é€‰æ‹©ï¼Œ ä½†æ˜¯ç›¸æ¯”ä¹‹ä¸‹ GoodNotes åˆ™æ¯”è¾ƒæ„Ÿæ€§è®¸å¤šï¼Œæ‰‹å†™çš„å½¢å¼å¯ä»¥è®©äººä¸å¿…è¿‡åˆ†åœ¨æ„å†…å®¹æ˜¯å¦å‡†ç¡®æ— è¯¯ï¼ˆGoodNotes åœ¨ iPad ä¸Šæ‹¥æœ‰æ‹¥æœ‰å®Œå…¨åª²ç¾çº¸ç¬”çš„æµç•…ä¹¦å†™æ„Ÿå—ï¼Œå°¤å…¶æ˜¯åœ¨è´´äº†ç±»çº¸è†œä¹‹åï¼Œä¹¦å†™ä½“éªŒæ›´ä¸Šä¸€ä¸ªå°é˜¶ï¼‰ã€‚ GoodNotes æœ‰å››ç§ç¬”å¯ä¾›é€‰æ‹©ã€‚ é’¢ç¬”æœ‰å‹æ„Ÿï¼Œä½†æ˜¯å‹æ„Ÿå˜åŒ–ä¸å¦‚ç”»ç¬”æ˜æ˜¾ï¼› åœ†ç ç¬”æ²¡æœ‰å‹æ„Ÿï¼Œæ— è®ºå¤šå¤§åŠ›æ°”å†™ç¬”è¿¹ç²—ç»†éƒ½æ˜¯ä¸€æ ·çš„ï¼› ç”»ç¬”ä¹Ÿæœ‰å‹æ„Ÿï¼Œä½†ç¬”è¿¹ç²—ç»†éšä¸‹ç¬”åŠ›åº¦çš„å˜åŒ–æ›´åŠ æ˜æ˜¾ã€‚ è§å…‰ç¬”å¯ä»¥ç”¨æ¥åšæ ‡è®°ï¼Œæ²¡æœ‰å‹æ„Ÿã€‚ å…·ä½“çš„ç¬”è¿¹æ•ˆæœå¦‚ä¸‹å›¾ï¼š ï¼ˆå° Tip: æ’å…¥ PDF æˆ– å›¾ç‰‡åï¼Œä½¿ç”¨è§å…‰ç¬”æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨ç½®äºæ–‡å­—ä¸‹æ–¹ã€‚ ï¼‰ å½“ç„¶æœ‰äº†ç¬”ä¹‹åå¯æ˜¯å…ä¸äº†ä¸€ç§å°±åšæ©¡çš®æ“¦çš„ä¸œè¥¿ï¼Œæ¯•ç«Ÿä¸æ˜¯æ¯ä¸ªäººéƒ½èƒ½åšåˆ°ä¸‹è¿‡ç¬”ä¹‹åä¸ä½œä»»ä½•ä¿®æ”¹çš„ã€‚ ä¼˜ç§€çš„æ–‡æ¡£ç®¡ç†æ–¹æ³•åšäº†ç¬”è®°ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦å¯¹å®ƒä»¬è¿›è¡Œæ”¶çº³ï¼Œä¿è¯ä¹‹åèƒ½æ›´æ–¹ä¾¿åœ°æ‰¾åˆ°å¯¹åº”çš„å†…å®¹ã€‚å…¶ä¸­ GoodNotes çš„æ–‡ä»¶ç®¡ç†é€»è¾‘ä¸äº¤äº’ï¼Œå’Œå¤§å®¶å¸¸ç”¨çš„ç”µè„‘ç³»ç»Ÿä¿æŒä¸€è‡´ï¼šæ‹–æ‹½å®ç°ç§»åŠ¨ã€å¯éšæ„åˆ‡æ¢è§†å›¾å’Œåˆ—è¡¨å±•ç¤ºã€æ–‡ä»¶å¤¹æ”¯æŒå±‚å±‚åµŒå¥—â€¦..ï¼Œå­¦ä¹ æˆæœ¬ä½ï¼Œä¸Šæ‰‹ç®€å•ï¼Œæ–‡ä»¶æƒ…å†µä¸€ç›®äº†ç„¶ã€‚ æ–‡ä»¶å¤¹ç®¡ç† ç›´æ¥æœç´¢å¦‚æœæ²¡æœ‰è¿›è¡Œæ”¶çº³ï¼ŒGoodNotes æä¾›äº†ä¸€ä¸ªç®€å•çš„æ–¹æ³•ï¼Œå°±æ˜¯ã€Œæœç´¢ã€ã€‚ å®ƒèƒ½è¯†åˆ«æˆ‘ä»¬æ‰‹å†™çš„æ–‡å­—â€”â€”åªè¦ä¸æ˜¯å¤ªæ½¦è‰ã€‚ æ”¶è—é‡è¦çš„é¡µé¢/ç¬”è®°æœ¬ç¬”è®°æ”¶è—åœ¨ç¬”è®°é¡µé¢ï¼Œç‚¹å‡»å·¦ä¸Šè§’çš„ã€æ”¶è—ã€‘æŒ‰é’®ã€‚ ç¬”è®°æœ¬æ”¶è—åœ¨ç¬”è®°æœ¬é¡µé¢ä¸Šï¼Œç‚¹å‡»ç¬”è®°æœ¬å³ä¸Šè§’çš„ã€â­ï¸ã€‘ï¼Œå³å¯ã€‚ åˆ¶ä½œç›®å½•æœ‰çš„æ—¶å€™ï¼Œä¸€ä¸ªç¬”è®°æœ¬å†™å¤šäº†ï¼ŒåæœŸæŸ¥æ‰¾ä¼šæ¯”è¾ƒå›°éš¾ã€‚è¿™æ—¶å€™ï¼Œå¯ä»¥åˆ¶ä½œç›®å½•ï¼Œå¿«é€Ÿå®šä½ã€‚ ï¼ˆ1ï¼‰åœ¨æŸä¸€é¡µç¬”è®°ä¸Šï¼Œç‚¹å‡»å³ä¸Šè§’çš„ã€â€¦ã€‘ï¼Œç„¶åé€‰æ‹©ã€å°†æ­¤é¡µé¢æ·»åŠ åˆ°å¤§çº²ã€‘ã€‚ ï¼ˆ2ï¼‰æ¥ä¸‹æ¥ï¼Œç„¶åé€‰æ‹©ã€å¤§çº²ã€‘ï¼Œå³å¯çœ‹åˆ°ã€ç´¢å¼•ã€‘ã€‚ç‚¹å‡»å…¶ä¸­æŸä¸€ä¸ªï¼Œå¯ä»¥å¿«é€Ÿåˆ°è¾¾å¯¹åº”çš„é¡µé¢ã€‚ å¤šå¹³å°åŒæ­¥GoodNotes ç°åœ¨æ”¯æŒäº†æºæ–‡ä»¶çš„è¿ç§»ã€‚æ¯”èµ·åªèƒ½ä¿å­˜ä¸ºå›¾ç‰‡æˆ–è€… PDF çš„ç¬”è®°å·¥å…·ï¼Œæºæ–‡ä»¶çš„è¿ç§»è®©èµ„æ–™ä¿å­˜ã€å…±äº«éƒ½å˜å¾—æ›´ç®€å•äº†ï¼Œç»“åˆ iCloud çš„å…±äº«ç”Ÿæ€ï¼Œå†ä¹Ÿä¸å¿…æ‹…å¿ƒåæœŸçš„ä¿®æ”¹å’Œæ•´åˆï¼Œæ€ä¹ˆå˜éƒ½èƒ½æ— ç¼è¡”æ¥ã€‚ ï¼ˆåœ¨ ipad ä¸Šè¿˜å¯ä»¥è®¾å®šå…¶ä½™çš„äº‘å­˜å‚¨ã€‚ åˆ†å±åŒæ—¶æ»¡è¶³é˜…è¯»å’Œä¹¦å†™éœ€æ±‚GoodNotes å¯ä»¥æ”¯æŒåŒæ—¶æ˜¾ç¤ºä¸¤ä¸ªç¬”è®°ã€‚ä»¥å‰ä¸€è¾¹ç”¨ PDF expert çœ‹æ•™æã€PPT æˆ–è€…è¯•å·é¢˜å‹ç­‰ï¼Œå·¦è¾¹åšæ ‡æ³¨ï¼Œå³è¾¹ç”¨ GoodNotes è®°ç¬”è®°ã€‚ä½†è¿™æ ·åšä¼šå¯¼è‡´å·¦å³ä¸¤è¾¹çš„æ ‡æ³¨é£æ ¼ä¸ä¸€æ ·ï¼Œæœ‰çš„æ—¶å€™å·¦å³åˆ‡æ¢å·¥å…·è¿˜ååº”ä¸è¿‡æ¥ã€‚ä½†æ˜¯ç°åœ¨åŒä¸ª APP å¯ä»¥æ”¯æŒåŒæ—¶æ˜¾ç¤ºä¸¤ä¸ªç¬”è®°ï¼Œåˆ†å±æ“ä½œå¤§å¤§æé«˜äº†ç»Ÿä¸€æ€§ï¼Œæ–‡ä»¶ç®¡ç†ä¹Ÿæ›´æ–¹ä¾¿äº†ã€‚ é¢å¤–äº®ç‚¹æ“ä½œåˆ¶ä½œæ¨¡ç‰ˆè™½ç„¶ GoodNotes æœ‰æä¾›éå¸¸å¤šçš„æ¨¡æ¿ï¼Œä½†æ˜¯ï¼Œæ ¹æ®è‡ªå·±çš„éœ€è¦ï¼Œæœ‰æ—¶å€™éœ€è¦é‡æ–°å¼€å‘ã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åˆ¶ä½œå±äºè‡ªå·±çš„ä¸ªæ€§ç¬”è®°æœ¬ã€‚ ç´ æå¯ä»¥æ”¶è—ä½ å–œçˆ±çš„å›¾ç‰‡ã€è´´çº¸ã€æ–‡å­—ç­‰ç´ æå¹¶éšæ—¶å–ç”¨ã€‚ï¼ˆè¡¨æƒ…åŒ…å¤§æˆ·å¯ç”¨ æœ‰äº†ç´ æå¯ä»¥åˆ¶ä½œæ¼‚äº®çš„æ‰‹è´¦ï¼š å…±äº«GoodNotes ç›®å‰è¿˜è‡ªå¸¦æ–‡ä»¶åä½œï¼Œå…±äº«ç¬”å¢¨çš„åŠŸèƒ½ã€‚ ç»ƒå­—æ²¡é”™ï¼Œè¿™æ¬¾è½¯ä»¶è¿˜å¯æä¾›ç»ƒå­—åŠŸèƒ½ã€‚å¦‚ä¸‹:","link":"/articles/2021/07/09/GoodNotes/"},{"title":"apiDoc æ•™ç¨‹","text":"apiDoc - è¶…ç®€å•çš„æ–‡æ¡£ç”Ÿæˆå™¨ï¼Œæœ¬æ–‡å°†è®²è¿°å¦‚ä½•ä½¿ç”¨å®ƒã€‚ å¸‚é¢ä¸Šå¸¸ç”¨çš„ API æ–‡æ¡£ç®¡ç†æ–¹å¼æœ‰ apiDocã€Swagger2ã€DocClearã€‚ Swagger2 æœ‰ä¸€ä¸ªæ¯”è¾ƒæ˜æ˜¾çš„ç¼ºç‚¹ï¼šä»£ç ä¾µå…¥ï¼Œå¼€å¯æ³¨è§£æ—¶ä¼šå½±å“åŸæœ¬çš„ç³»ç»Ÿæ€§èƒ½ã€‚ åŒæ · DocClear ä¹Ÿæœ‰ä¸€ä¸ªæ¯”è¾ƒæ˜æ˜¾çš„ç¼ºç‚¹ï¼šDocClear æœ¬èº«åªæ˜¯ä¸€ä¸ªæ¥å£ä¿¡æ¯ç®¡ç†å¹³å°ï¼Œæ‰€æœ‰çš„æ¥å£ä¿¡æ¯éœ€è¦å¼€å‘äººå‘˜åœ¨å¹³å°å†…è¿›è¡Œå½•å…¥ã€‚ apiDoc ä½œä¸º API æ–‡æ¡£å·¥å…·æ˜¯ä¸€æ¬¾é€šè¿‡æºä»£ç ä¸­çš„ API æ³¨é‡Šåˆ›å»ºæ–‡æ¡£ï¼Œæ”¯æŒ Javaã€JSã€PHPã€Tython ç­‰è¯­è¨€ï¼Œæ²¡æœ‰ Swagger2 é‚£æ ·ä»£ç ä¾µå…¥ï¼Œè€Œæ˜¯é€šè¿‡ apiDoc çš„ç¨‹åºå¯¹æˆ‘ä»¬çš„æºä»£ç æ–‡ä»¶è¿›è¡Œæ‰«æï¼Œè·å–æ–‡ä»¶å†…çš„ apiDoc æ³¨é‡Šä¿¡æ¯æ¥åˆ›å»º API æ–‡æ¡£ï¼Œè¿›è€Œç”Ÿæˆé™æ€çš„ API æ–‡æ¡£é¡µé¢ã€‚æ¥ä¸‹æ¥å°±ä»å¤´åˆ°å°¾ç»™å¤§å®¶è®²è§£ä¸€ä¸‹ apiDoc å¦‚ä½•ä½¿ç”¨ã€‚ å¿«é€Ÿå¼€å§‹ è£…ç¯å¢ƒ 1npm install apidoc -g æ–°å»ºä¸€ä¸ªé¡¹ç›® src/file.jsï¼Œä¸ç”¨çº ç»“è¿™äº›æ³¨é‡Šå«ä¹‰, åé¢ä¼šè¯¦è§£ 12345678910111213141516171819202122// src/file.js/** * @api {Get} /user/get getUserInfo * @apiGroup User * * @apiParam {String} name æ–‡ç« å * @apiParamExample {json} Request-Example * { * &quot;userName&quot;: &quot;Eve&quot; * } * * @apiSuccessExample {json} Response-Example * { * &quot;userName&quot;: &quot;Eve&quot;, * &quot;createTime&quot;: &quot;1568901681&quot; * &quot;updateTime&quot;: &quot;1568901681&quot; * } */function getUserInfo(username) { // å‡å¦‚è¿™ä¸ªå‡½æ•°æ˜¯æ ¹æ®ç”¨æˆ·åè¿”å›ç”¨æˆ·ä¿¡æ¯çš„} apidoc.json 12345{ &quot;name&quot;: &quot;apidoc-demo&quot;, &quot;description&quot;: &quot;You write something here to describe your project&quot;, &quot;title&quot;: &quot;The title of this doc&quot;} æ‰§è¡Œå‘½ä»¤ï¼Œ-iæ˜¯æŒ‡æ³¨é‡Šæ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹, -oæ˜¯æŒ‡æ–‡æ¡£è¾“å‡ºçš„ä½ç½® 1$ apidoc -i src/ -o apidoc/ æ¥ä¸‹æ¥æˆ‘ä»¬ä¼šå‘ç°å¤šäº†ä¸€ä¸ªæ–‡ä»¶å¤¹**apidoc**. è¿™æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ä¸€ä¸ªæ–‡ä»¶å¤¹ç›®å½• åŒå‡»æ‰“å¼€index.html å¦‚ s ä¸Šç®€å•ä¸‰æ­¥å³å¯ç”Ÿæˆä¸€ä»½ API æ–‡æ¡£, ç®—æ˜¯æŒºå‚»ç“œå¼çš„ï¼Œæ¥ä¸‹æ¥å°†ä»‹ç»å…·ä½“å­—æ®µå«ä¹‰ã€‚ é…ç½®(apidoc.json)è¯¦è§£æ¯æ¬¡å¯¼å‡ºæ¥å£æ–‡æ¡£éƒ½å¿…é¡»è¦è®© apidoc è¯»å–åˆ° apidoc.json æ–‡ä»¶(å¦‚æœæœªæ·»åŠ é…ç½®æ–‡ä»¶ï¼Œå¯¼å‡ºæŠ¥é”™)ï¼Œä½ å¯ä»¥åœ¨ä½ é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ·»åŠ  apidoc.json æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸»è¦åŒ…å«ä¸€äº›é¡¹ç›®çš„æè¿°ä¿¡æ¯ï¼Œæ¯”å¦‚æ ‡é¢˜ã€ç®€çŸ­çš„æè¿°ã€ç‰ˆæœ¬ç­‰ï¼Œä½ ä¹Ÿå¯ä»¥åŠ å…¥ä¸€äº›å¯é€‰çš„é…ç½®é¡¹ï¼Œæ¯”å¦‚é¡µçœ‰ã€é¡µè„šã€æ¨¡æ¿ç­‰ã€‚ é…ç½®é¡¹ï¼š å‚æ•° æè¿° name å·¥ç¨‹åç§°å¦‚æœ apidoc.json æ–‡ä»¶ä¸­æ²¡æœ‰é…ç½®è¯¥å‚æ•°ï¼Œapidoc ä¼šå°è¯•ä» pakcage.json æ–‡ä»¶ä¸­è¯»å– version ç‰ˆæœ¬å¦‚æœ apidoc.json æ–‡ä»¶ä¸­æ²¡æœ‰é…ç½®è¯¥å‚æ•°ï¼Œapidoc ä¼šå°è¯•ä» pakcage.json æ–‡ä»¶ä¸­è¯»å– description å·¥ç¨‹æè¿°å¦‚æœ apidoc.json æ–‡ä»¶ä¸­æ²¡æœ‰é…ç½®è¯¥å‚æ•°ï¼Œapidoc ä¼šå°è¯•ä» pakcage.json æ–‡ä»¶ä¸­è¯»å– title æµè§ˆå™¨æ ‡é¢˜ url api è·¯å¾„å‰ç¼€ä¾‹å¦‚:https://api.github.com/v1 sampleUrl å¦‚æœè®¾ç½®äº†è¯¥å‚æ•°ï¼Œé‚£ä¹ˆåœ¨æ–‡æ¡£ä¸­ä¾¿å¯ä»¥çœ‹åˆ°ç”¨äºæµ‹è¯•æ¥å£çš„ä¸€ä¸ªè¡¨å•(è¯¦æƒ…å¯ä»¥æŸ¥çœ‹å‚æ•°@apiSampleReques) header.title é¡µçœ‰å¯¼èˆªæ ‡é¢˜ header.filename é¡µçœ‰æ–‡ä»¶å(markdown) (å¦‚ï¼šheader.md) footer.title é¡µè„šå¯¼èˆªæ ‡é¢˜ footer.filename é¡µè„šæ–‡ä»¶å(markdown) (å¦‚ï¼šfooter.md) order æ¥å£åç§°æˆ–æ¥å£ç»„åç§°çš„æ’åºåˆ—è¡¨å¦‚æœæœªå®šä¹‰ï¼Œé‚£ä¹ˆæ‰€æœ‰åç§°ä¼šè‡ªåŠ¨æ’åº&quot;order&quot;: [ &quot;Error&quot;, &quot;Define&quot;, &quot;PostTitleAndError&quot;, PostError&quot;] æ›´å¤šè¯¦æƒ… apidoc æ³¨é‡Šå‚æ•°@apiã€å¿…å¡«å­—æ®µã€‘å¦åˆ™ï¼Œapidoc ä¼šå¿½ç•¥è¯¥æ¡æ³¨é‡Š 1@api {method} path [title] å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° method yes è¯·æ±‚ç±»å‹:DELETE, GET, POST, PUT, ...æ›´å¤š path yes è¯·æ±‚è·¯å¾„ title no æ¥å£æ ‡é¢˜ ä¾‹ï¼š 123/** * @api {get} /user/getUserById/:id è·å–ç”¨æˆ·æ•°æ® - æ ¹æ®id */ @apiDefineå®šä¹‰æ³¨é‡Šæ¨¡å—(ç±»ä¼¼äºä»£ç ä¸­å®šä¹‰ä¸€ä¸ªå¸¸é‡)ï¼Œå¯¹äºä¸€äº›é€šç”¨å¯å¤ç”¨çš„æ³¨é‡Šæ¨¡å—(ä¾‹å¦‚:æ¥å£é”™è¯¯å“åº”æ¨¡å—)ï¼Œåªéœ€è¦åœ¨æºä»£ç ä¸­å®šä¹‰ä¸€æ¬¡ï¼Œä¾¿å¯ä»¥åœ¨å…¶ä»–æ³¨é‡Šæ¨¡å—ä¸­éšä¾¿å¼•ç”¨ï¼Œæœ€ååœ¨æ–‡æ¡£å¯¼å‡ºæ—¶ä¼šè‡ªåŠ¨æ›¿æ¢æ‰€å¼•ç”¨çš„æ³¨é‡Šæ¨¡å—ï¼Œå®šä¹‰ä¹‹åæ‚¨å¯ä»¥é€šè¿‡@apiUseæ¥å¼•å…¥æ‰€å®šä¹‰çš„æ³¨é‡Šæ¨¡å—ã€‚(æ³¨:å¯ä»¥åŒæ—¶ä½¿ç”¨@apiVersionæ¥å®šä¹‰æ³¨é‡Šæ¨¡å—çš„ç‰ˆæœ¬) 12@apiDefine name [title] [description] å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° name yes æ³¨é‡Šæ¨¡å—åç§°(å”¯ä¸€)ï¼Œä¸åŒ@apiVersion å¯ä»¥å®šä¹‰ç›¸åŒåç§°çš„æ³¨é‡Šæ¨¡å— title no æ³¨é‡Šæ¨¡å—æ ‡é¢˜ description no æ³¨é‡Šæ¨¡å—è¯¦ç»†æè¿°(è¯¦ç»†æè¿°å¦èµ·ä¸€è¡Œï¼Œå¯åŒ…å«å¤šè¡Œ) 123456789/** * @apiDefine MyError * @apiError UserNotFound The &lt;code&gt;id&lt;/code&gt; of the User was not found. *//** * @api {get} /user/:id * @apiUse MyError */ 123456789/** * @apiDefine admin User access only * This optional description belong to to the group admin. *//** * @api {get} /user/:id * @apiPermission admin */ @apiDeprecatedæ ‡æ³¨ä¸€ä¸ªæ¥å£å·²ç»è¢«å¼ƒç”¨ 1@apiDeprecated [text] å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° text yes å¤šè¡Œæ–‡å­—æè¿° 12345678910/** * @apiDeprecated *//** * @apiDeprecated use now (#Group:Name). * * Example: to set a link to the GetDetails method of your group User * write (#User:GetDetails) */ @apiDescriptionapi æ¥å£çš„è¯¦ç»†æè¿° 1@apiDescription [text] å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° text yes å¤šè¡Œæ–‡å­—æè¿° 123456/** * @apiDescription This is the Description. * It is multiline capable. * * Last line of Description. */ @apiErroré”™è¯¯è¿”å›å‚æ•° 1@apiError [(group)] [{type}] field [description] å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° (group) no æ‰€æœ‰çš„å‚æ•°éƒ½ä¼šé€šè¿‡è¿™ä¸ªå‚æ•°è¿›è¡Œåˆ†ç»„ï¼Œå¦‚æœæœªè®¾ç½®ï¼Œé»˜è®¤å€¼ä¸º Error 4xx {type} no è¿”å›ç±»å‹ï¼Œä¾‹å¦‚{Boolean}ï¼Œ {Number}ï¼Œ {String}ï¼Œ {Object}ï¼Œ{String[]}ï¼ˆå­—ç¬¦ä¸²æ•°ç»„ï¼‰ï¼Œâ€¦ field yes è¿”å› id description no å‚æ•°æè¿° 12345678/** * @api {get} /user/getUserById/:id è·å–ç”¨æˆ·æ•°æ® - æ ¹æ®id * @apiError UserNotFound The &lt;code&gt;id&lt;/code&gt; of the User was not found. *//** * @apiError (é”™è¯¯åˆ†ç»„) {Object} xxx xxxxxxxx */ @apiErrorExampleæ¥å£é”™è¯¯è¿”å›ç¤ºä¾‹(æ ¼å¼åŒ–è¾“å‡º) 12@apiErrorExample [{type}] [title] example å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° type no å“åº”ç±»å‹ title yes ç¤ºä¾‹æ ‡é¢˜ example yes ç¤ºä¾‹è¯¦æƒ…(å…¼å®¹å¤šè¡Œ) 12345678/** *@api {get} /user/getUserById/:id è·å–ç”¨æˆ·æ•°æ® - æ ¹æ®id * @apiErrorExample {json} Error-Response: * HTTP/1.1 404 Not Found * { * &quot;error&quot;: &quot;UserNotFound&quot; * } */ @apiExampleæ¥å£æ–¹å¼è¯·æ±‚ç¤ºä¾‹ 12@apiExample [{type}] title example å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° type no è¯·æ±‚å†…å®¹æ ¼å¼ title yes ç¤ºä¾‹æ ‡é¢˜ example yes ç¤ºä¾‹è¯¦æƒ…(å…¼å®¹å¤šè¡Œ) 12345/** * @api {get} /user/getUserById/:id * @apiExample {curl} Example usage: * curl -i http://127.0.0.1/user/getUserById/1 */ @apiGroupå®šä¹‰æ¥å£æ‰€å±çš„æ¥å£ç»„ï¼Œè™½ç„¶æ¥å£å®šä¹‰é‡Œä¸éœ€è¦è¿™ä¸ªå‚æ•°ï¼Œä½†æ˜¯æ‚¨åº”è¯¥åœ¨æ¯ä¸ªæ¥å£æ³¨é‡Šé‡Œéƒ½æ·»åŠ è¿™ä¸ªå‚æ•°ï¼Œå› ä¸ºå¯¼å‡ºçš„æ¥å£æ–‡æ¡£ä¼šä»¥æ¥å£ç»„çš„å½¢å¼å¯¼èˆªå±•ç¤ºã€‚ 1@apiGroup name å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° name yes æ¥å£ç»„åç§°(ç”¨äºå¯¼èˆª,ä¸æ”¯æŒä¸­æ–‡) 1234/** * @api {get} /user/:id * @apiGroup User */ @apiHeaderæè¿°æ¥å£è¯·æ±‚å¤´éƒ¨éœ€è¦çš„å‚æ•°(åŠŸèƒ½ç±»ä¼¼@apiParam) 1@apiHeader [(group)] [{type}] [field=defaultValue] [description] å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° (group) no æ‰€æœ‰çš„å‚æ•°éƒ½ä¼šä»¥è¯¥å‚æ•°å€¼è¿›è¡Œåˆ†ç»„(é»˜è®¤ Parameter) {type} no è¿”å›ç±»å‹(ä¾‹å¦‚:{Boolean}, {Number}, {String}, {Object}, {String[]}) field yes å‚æ•°åç§°(å®šä¹‰è¯¥å¤´éƒ¨å‚æ•°ä¸ºå¿…å¡«) [field] yes å‚æ•°åç§°(å®šä¹‰è¯¥å¤´éƒ¨å‚æ•°ä¸ºå¯é€‰) =defaultValue no å‚æ•°é»˜è®¤å€¼ description no å‚æ•°æè¿° 1234/** * @api {get} /user/:id * @apiHeader {String} access-key Users unique access-key. */ @apiHeaderExampleè¯·æ±‚å¤´éƒ¨å‚æ•°ç¤ºä¾‹ 12@apiHeaderExample [{type}] [title] example å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° type no è¯·æ±‚å†…å®¹æ ¼å¼ title no è¯·æ±‚ç¤ºä¾‹æ ‡é¢˜ example yes è¯·æ±‚ç¤ºä¾‹è¯¦æƒ…(å…¼å®¹å¤šè¡Œ) 1234567/** * @api {get} /user/getUserById/:id * @apiHeaderExample {json} Header-Example: * { * &quot;Accept-Encoding&quot;: &quot;Accept-Encoding: gzip, deflate&quot; * } */ @apiIgnoreå¦‚æœä½ éœ€è¦ä½¿ç”¨è¯¥å‚æ•°ï¼Œè¯·æŠŠå®ƒæ”¾åˆ°æ³¨é‡Šå—çš„æœ€å‰é¢ã€‚å¦‚æœè®¾ç½®äº†è¯¥å‚æ•°ï¼Œé‚£ä¹ˆè¯¥æ³¨é‡Šæ¨¡å—å°†ä¸ä¼šè¢«è§£æ(å½“æœ‰äº›æ¥å£è¿˜æœªå®Œæˆæˆ–æœªæŠ•å…¥ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥å­—æ®µ) 1@apiIgnore [hint] å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° hint no ææ¥å£å¿½ç•¥åŸå› æè¿° 1234/** * @apiIgnore Not finished Method * @api {get} /user/:id */ @apiNameæ¥å£åç§°ï¼Œæ¯ä¸€ä¸ªæ¥å£æ³¨é‡Šé‡Œéƒ½åº”è¯¥æ·»åŠ è¯¥å­—æ®µï¼Œåœ¨å¯¼å‡ºçš„æ¥å£æ–‡æ¡£é‡Œä¼šå·²è¯¥å­—æ®µå€¼ä½œä¸ºå¯¼èˆªå­æ ‡é¢˜ï¼Œå¦‚æœä¸¤ä¸ªæ¥å£çš„@apiVersionå’Œ@apiNameä¸€æ ·ï¼Œé‚£ä¹ˆæœ‰ä¸€ä¸ªæ¥å£çš„æ³¨é‡Šå°†ä¼šè¢«è¦†ç›–(æ¥å£æ–‡æ¡£é‡Œä¸ä¼šå±•ç¤º) 1@apiName name å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° name yes æ¥å£åç§°(ç›¸åŒæ¥å£ç‰ˆæœ¬ä¸‹æ‰€æœ‰æ¥å£åç§°åº”è¯¥æ˜¯å”¯ä¸€çš„) 1234/** * @api {get} /user/:id * @apiName GetUser */ @apiParamæ¥å£è¯·æ±‚ä½“å‚æ•° 1@apiParam [(group)] [{type}] [field=defaultValue] [description] å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° (group) no æ‰€æœ‰çš„å‚æ•°éƒ½ä¼šä»¥è¯¥å‚æ•°å€¼è¿›è¡Œåˆ†ç»„(é»˜è®¤ Parameter) {type} no è¿”å›ç±»å‹(ä¾‹å¦‚:{Boolean}, {Number}, {String}, {Object}, {String[]}) {type{size}} no è¿”å›ç±»å‹,åŒæ—¶å®šä¹‰å‚æ•°çš„èŒƒå›´{string{â€¦5}}æ„ä¸ºå­—ç¬¦ä¸²é•¿åº¦ä¸è¶…è¿‡ 5{string{2â€¦5}}æ„ä¸ºå­—ç¬¦ä¸²é•¿åº¦ä»‹äº 25 ä¹‹é—´ {number{100-999}}æ„ä¸ºæ•°å€¼ä»‹äº 100999 ä¹‹é—´ {type=allowedValues} no å‚æ•°å¯é€‰å€¼{string=â€œsmallâ€}æ„ä¸ºå­—ç¬¦ä¸²ä»…å…è®¸å€¼ä¸ºâ€smallâ€{string=â€œsmallâ€,â€œhugeâ€}æ„ä¸ºå­—ç¬¦ä¸²å…è®¸å€¼ä¸ºâ€smallâ€ã€â€œhugeâ€{number=1,2,3,99}æ„ä¸ºæ•°å€¼å…è®¸å€¼ä¸º 1ã€2ã€3ã€99{string {â€¦5}=â€œsmallâ€,â€hugeâ€æ„ä¸ºå­—ç¬¦ä¸²æœ€å¤§é•¿åº¦ä¸º 5 å¹¶ä¸”å€¼å…è®¸ä¸º:â€œsmallâ€ã€â€œhugeâ€ field yes å‚æ•°åç§°(å®šä¹‰è¯¥è¯·æ±‚ä½“å‚æ•°ä¸ºå¿…å¡«) [field] yes å‚æ•°åç§°(å®šä¹‰è¯¥è¯·æ±‚ä½“å‚æ•°ä¸ºå¯é€‰) =defaultValue no å‚æ•°é»˜è®¤å€¼ description no å‚æ•°æè¿° 1234567891011121314151617181920212223/** * @api {get} /user/:id * @apiParam {Number} id Users unique ID. *//** * @api {post} /user/ * @apiParam {String} [firstname] Optional Firstname of the User. * @apiParam {String} lastname Mandatory Lastname. * @apiParam {String} country=&quot;DE&quot; Mandatory with default value &quot;DE&quot;. * @apiParam {Number} [age=18] Optional Age with default 18. * * @apiParam (Login) {String} pass Only logged in users can post this. * In generated documentation a separate * &quot;Login&quot; Block will be generated. * * @apiParam {Object} [address] Optional nested address object. * @apiParam {String} [address[street]] Optional street and number. * @apiParam {String} [address[zip]] Optional zip code. * @apiParam {String} [address[city]] Optional city. * @apiParam {Object} [data] data * @apiParam {Object} [data.a] data.a */ @apiParamExampleè¯·æ±‚ä½“å‚æ•°ç¤ºä¾‹ 12@apiParamExample [{type}] [title] example å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° type no è¯·æ±‚å†…å®¹æ ¼å¼ title no è¯·æ±‚ç¤ºä¾‹æ ‡é¢˜ example yes è¯·æ±‚ç¤ºä¾‹è¯¦æƒ…(å…¼å®¹å¤šè¡Œ) 1234567/** * @api {get} /user/:id * @apiParamExample {json} Request-Example: * { * &quot;id&quot;: 4711 * } */ @apiPermissionå…è®¸è®¿é—®è¯¥æ¥å£çš„è§’è‰²åç§° 1@apiPermission name å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° name yes å…è®¸è®¿é—®çš„è§’è‰²åç§°(å”¯ä¸€) 1234/** * @api {get} /user/:id * @apiPermission admin */ @apiPrivateå®šä¹‰ç§æœ‰æ¥å£ï¼Œå¯¹äºå®šä¹‰ä¸ºç§æœ‰çš„æ¥å£ï¼Œå¯ä»¥åœ¨ç”Ÿæˆæ¥å£æ–‡æ¡£çš„æ—¶å€™ï¼Œé€šè¿‡åœ¨å‘½ä»¤è¡Œä¸­è®¾ç½®å‚æ•° --private false|trueæ¥å†³å®šå¯¼å‡ºçš„æ–‡æ¡£ä¸­æ˜¯å¦åŒ…å«ç§æœ‰æ¥å£ 1@apiPrivate 1234/** * @api {get} /user/:id * @apiPrivate */ @apiSampleRequestè®¾ç½®äº†è¯¥å‚æ•°åï¼Œå¯¼å‡ºçš„ html æ¥å£æ–‡æ¡£ä¸­ä¼šåŒ…å«æ¨¡æ‹Ÿæ¥å£è¯·æ±‚çš„ form è¡¨å•ï¼›å¦‚æœåœ¨é…ç½®æ–‡ä»¶apidoc.jsonä¸­è®¾ç½®äº†å‚æ•°sampleUrlï¼Œé‚£ä¹ˆå¯¼å‡ºçš„æ–‡æ¡£ä¸­æ¯ä¸€ä¸ªæ¥å£éƒ½ä¼šåŒ…å«æ¨¡æ‹Ÿæ¥å£è¯·æ±‚çš„ form è¡¨å•ï¼Œå¦‚æœæ—¢è®¾ç½®äº†sampleUrlå‚æ•°ï¼ŒåŒæ—¶ä¸å¸Œæœ›å½“å‰è¿™ä¸ªæ¥å£åŒ…å«æ¨¡æ‹Ÿæ¥å£è¯·æ±‚çš„ form è¡¨å•ï¼Œå¯ä»¥ä½¿ç”¨@apiSampleRequest offæ¥å…³é—­ã€‚ 1@apiSampleRequest url å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° url yes æ¨¡æ‹Ÿæ¥å£è¯·æ±‚çš„ url@apiSampleRequest http://www.example.comæ„ä¸ºè¦†ç›–apidoc.jsonä¸­çš„sampleUrlå‚æ•°ï¼Œ@apiSampleRequest offæ„ä¸ºå…³é—­æ¥å£æµ‹è¯•åŠŸèƒ½ ä¾‹ï¼šå‘é€æµ‹è¯•è¯·æ±‚åˆ°:http://api.github.com/user/:id 1234Configuration parameter sampleUrl: &quot;http://api.github.com&quot;/** * @api {get} /user/:id */ è¯·æ±‚å‘é€åˆ°http://test.github.com/some_path/user/:idã€‚å®ƒå°†è¦†ç›– sampleUrlã€‚ 12345Configuration parameter sampleUrl: &quot;http://api.github.com&quot;/** * @api {get} /user/:id * @apiSampleRequest http://test.github.com/some_path/ */ è¯·æ±‚å‘é€åˆ°http://api.github.com/test/user/:idã€‚å®ƒæ‰©å±•äº† sampleUrlã€‚ 12345Configuration parameter sampleUrl: &quot;http://api.github.com&quot;/** * @api {get} /user/:id * @apiSampleRequest /test */ ç¦ç”¨æ­¤ api æ–¹æ³•çš„ api è¯·æ±‚ã€‚ 12345Configuration parameter sampleUrl: &quot;http://api.github.com&quot;/** * @api {get} /user/:id * @apiSampleRequest off */ è¯·æ±‚å‘é€åˆ°http://api.github.com/some_path/user/:idï¼Œå› ä¸ºæœªè®¾ç½® sampleUrlï¼Œæ‰€ä»¥ä»…æ¿€æ´»æ­¤æ–¹æ³•çš„è¯·æ±‚ã€‚ 12345Configuration parameter sampleUrl is not set/** * @api {get} /user/:id * @apiSampleRequest http://api.github.com/some_path/ */ @apiSuccessæ¥å£æˆåŠŸè¿”å›å‚æ•° 1@apiSuccess [(group)] [{type}] field [description] å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° (group) no æ‰€æœ‰çš„å‚æ•°éƒ½ä¼šä»¥è¯¥å‚æ•°å€¼è¿›è¡Œåˆ†ç»„,é»˜è®¤å€¼:Success 200 {type} no è¿”å›ç±»å‹(ä¾‹å¦‚:{Boolean}, {Number}, {String}, {Object}, {String[]}) field yes è¿”å›å€¼(è¿”å›æˆåŠŸç ) =defaultValue no å‚æ•°é»˜è®¤å€¼ description no å‚æ•°æè¿° 12345/** * @api {get} /user/:id * @apiSuccess {String} firstname Firstname of the User. * @apiSuccess {String} lastname Lastname of the User. */ åŒ…å«(group): 12345/** * @api {get} /user/:id * @apiSuccess (200) {String} firstname Firstname of the User. * @apiSuccess (200) {String} lastname Lastname of the User. */ è¿”å›å‚æ•°ä¸­æœ‰å¯¹è±¡: 1234567/** * @api {get} /user/:id * @apiSuccess {Boolean} active Specify if the account is active. * @apiSuccess {Object} profile User profile information. * @apiSuccess {Number} profile.age Users age. * @apiSuccess {String} profile.image Avatar-Image. */ è¿”å›å‚æ•°ä¸­æœ‰æ•°ç»„ï¼š 123456/** * @api {get} /users * @apiSuccess {Object[]} profiles List of user profiles. * @apiSuccess {Number} profiles.age Users age. * @apiSuccess {String} profiles.image Avatar-Image. */ @apiSuccessExampleè¿”å›æˆåŠŸç¤ºä¾‹ 12@apiSuccessExample [{type}] [title] example å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° type no è¿”å›å†…å®¹æ ¼å¼ title no è¿”å›ç¤ºä¾‹æ ‡é¢˜ example yes è¿”å›ç¤ºä¾‹è¯¦æƒ…(å…¼å®¹å¤šè¡Œ) 123456789/** * @api {get} /user/:id * @apiSuccessExample {json} Success-Response: * HTTP/1.1 200 OK * { * &quot;firstname&quot;: &quot;John&quot;, * &quot;lastname&quot;: &quot;Doe&quot; * } */ @apiUseå¼•å…¥æ³¨é‡Šæ¨¡å—ï¼Œå¦‚æœå½“å‰æ¨¡å—å®šä¹‰äº†@apiVersion,é‚£ä¹ˆç‰ˆæœ¬ç›¸åŒæˆ–ç‰ˆæœ¬æœ€è¿‘çš„æ³¨é‡Šæ¨¡å—ä¼šè¢«å¼•å…¥ 1@apiUse name å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° name yes å¼•å…¥æ³¨é‡Šæ¨¡å—çš„åç§° 12345678910/** * @apiDefine MySuccess * @apiSuccess {string} firstname The users firstname. * @apiSuccess {number} age The users age. *//** * @api {get} /user/:id * @apiUse MySuccess */ @apiVersionå®šä¹‰æ¥å£/æ³¨é‡Šæ¨¡å—ç‰ˆæœ¬ 1@apiVersion version å‚æ•°åˆ—è¡¨: å‚æ•° å¿…å¡« æè¿° version yes ç‰ˆæœ¬å·(æ”¯æŒsemverç‰ˆæœ¬è§„èŒƒ) 1234/** * @api {get} /user/:id * @apiVersion 1.6.2 */ Tips: æŠŠæ¥å£ä¸­çš„é€šç”¨éƒ¨åˆ†åˆ©ç”¨@apiDefineæ‘˜å‡ºæ¥ï¼Œæ”¾åœ¨ä¸€ä¸ªå…¬å…±æ–‡ä»¶``define.jsä¸­ï¼Œä¹‹åå¯ä»¥åˆ©ç”¨@apiUse`å»è°ƒç”¨ã€‚ å†å² api å¯ä»¥å­˜æ”¾åœ¨history.jsä¸­ ç”Ÿæˆ API æ–‡æ¡£å½“ç„¶ä½ æ³¨é‡Šå‚æ•°å†™å¥½äº†ä¹‹åå®ƒä¹Ÿä¸ä¼šå¸®ä½ è‡ªåŠ¨ç”Ÿæˆï¼Œä½ éœ€è¦è‡ªå·±è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 1$ apidoc -i [é¡¹ç›®å®Œæ•´è·¯å¾„] -o apidoc/ å‚æ•°åˆ—è¡¨: å‚æ•° æè¿° -c, --config æŒ‡å®šä½¿ç”¨çš„é…ç½®æ–‡ä»¶. (é»˜è®¤æ ¹ç›®å½•çš„ apidoc.json apidoc.json ) ä¾‹ï¼š apidoc -c path/to/apidoc.json -e, --exclude-filters è¾“å‡ºæ–‡ä»¶æ—¶æ’é™¤æ–‡ä»¶ã€‚ (é»˜è®¤: []) ä¾‹: apidoc -e node_modules -f, --file-filters RegEx-Filterï¼Œé€‰æ‹©è¦è§£æçš„æ–‡ä»¶ï¼ˆå¯ä»¥ä½¿ç”¨è®¸å¤š-fï¼‰ã€‚é»˜è®¤.cs .dart .erl .go .java .js .php .py .rb .ts. ç¤ºä¾‹ï¼ˆä»…è§£æ.js å’Œ.ts æ–‡ä»¶ï¼‰ï¼š apidoc -f &quot;.*\\\\.js$&quot; -f &quot;.*\\\\.ts$&quot; -i, --input è¾“å…¥/æºç›®å½•åã€‚é¡¹ç›®æ–‡ä»¶çš„ä½ç½®ã€‚ä¾‹ï¼šapidoc -i myapp/ -o, --output è¾“å‡ºç›®å½•åã€‚æ”¾ç½®ç”Ÿæˆçš„æ–‡æ¡£çš„ä½ç½®ï¼Œä¾‹ï¼šapidoc -o apidoc/ -t, --template ä½¿ç”¨æ¨¡æ¿è¾“å‡ºæ–‡ä»¶ã€‚æ‚¨å¯ä»¥åˆ›å»ºå’Œä½¿ç”¨è‡ªå·±çš„æ¨¡æ¿ã€‚ä¾‹ï¼šapidoc -t mytemplate/ -h, --help æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ å‚è€ƒé“¾æ¥ apidoc apiDoc - è¶…ç®€å•çš„æ–‡æ¡£ç”Ÿæˆå™¨ apiDoc æ•™ç¨‹","link":"/articles/2021/07/15/apidoc/"},{"title":"å¦‚ä½•ä» Apple ç¾åŒºå®˜ç½‘è´­ä¹°ç¤¼å“å¡","text":"æ·˜å®ä¸Šæ€•æœ‰é»‘å¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç°åœ¨å¯ä»¥é€šè¿‡ç¾åŒºå®˜æ–¹çš„é€šé“è´­ä¹°ç¤¼å“å¡ï¼Œå½“ç„¶ï¼Œä½ éœ€è¦è‡³å°‘æœ‰ä¸ª åŒå¸ä¿¡ç”¨å¡ ã€‚æŒ‰ç†åº”è¯¥ visa å¡éƒ½èƒ½ç”¨ã€‚å¤§å®¶å¯ä»¥è¯•è¯•çœ‹ã€‚ PS ï¼šè¿™ä¸ªæ–¹æ³•ä¸æ˜¯é©¬ä¸Šä¼šæ”¶åˆ°ï¼Œéœ€è¦ä¸€ç‚¹æ—¶é—´ï¼Œå®˜æ–¹å†™çš„æ˜¯ 4 å°æ—¶ä»¥å†…ï¼Œæˆ‘å¤§æ¦‚ä¸åˆ° 1 ä¸ªå°æ—¶å°±æ”¶åˆ°äº†ã€‚ Step_1 è´­ä¹°åœ°å€https://www.apple.com/shop/gift-cards/itunes-electronic Step_2 å¡«å†™è´­ä¹°ä¿¡æ¯ Step_3 ç™»é™† apple ID Step_4 å¡«å†™æ”¯ä»˜ä¿¡æ¯ç¾å›½åœ°å€ç”Ÿæˆå™¨ Step_5 è·å–ç¤¼å“å…‘æ¢ç  Step_6 åœ¨æ‰‹æœºä¸Šè¾“å…¥å…‘æ¢ç æ‰“å¼€Apple Storeç™»å½•ç¾åŒºè´¦å·ï¼Œç‚¹å‡»å¤´åƒã€‚","link":"/articles/2021/04/02/apple-gift-card/"},{"title":"Charles æ‰‹æœºæŠ“åŒ…è®¾ç½®","text":"æœ¬æ–‡ä¸»è¦è®²è¿°çš„æ˜¯å¦‚ä½•ä½¿ç”¨ Charles å¯¹æ‰‹æœºè¿›è¡ŒæŠ“åŒ…ã€‚ å¦‚æœæ˜¯ä½¿ç”¨ Charles æŠ“åŒ…ã€‚ä¸€å®šè¦ä¿è¯æ‰‹æœºå’Œç”µè„‘è¿çš„æ˜¯ä¸€ä¸ªç½‘ã€‚ æ‰‹æœºæŠ“åŒ…è®¾ç½®ï¼Œéœ€è¦è¿›è¡Œ 3 æ­¥ï¼› ç¬¬ä¸€æ­¥ï¼Œåœ¨ Charles é‡Œè®¾ç½®å…è®¸æ‰‹æœºè”ç½‘çš„æƒé™ï¼›ä½ éœ€è¦æŠŠ Charles è®¾ç½®ä¸ºå…è®¸çš„çŠ¶æ€å¹¶ä¸”è®¾ç½®å…è®¸çš„ç«¯å£å·ï¼Œè¿™æ ·æ‰‹æœºç«¯æ‰èƒ½æ­£å¸¸çš„æ¥å…¥ï¼› ç¬¬äºŒæ­¥ï¼ŒæŠŠæ‰‹æœºæŒ‰ç…§ Charles çš„ IP å’Œç«¯å£è¿›è¡Œé…ç½®ï¼› ç¬¬ä¸‰æ­¥ï¼Œæ‰‹æœºé…å¯¹æˆåŠŸåï¼ŒCharles è¿˜ä¼šå¼¹çª—æ˜¯å¦å…è®¸ï¼›ï¼ˆCharles è™½ç„¶å¼€æ”¾äº†ç«¯å£ï¼Œä½†å¹¶ä¸çŸ¥é“æ˜¯é‚£ä¸€å°æ‰‹æœºä¼šé…å…¥ï¼Œæ­¤çª—å£èµ·åˆ°æç¤ºå’Œå®‰å…¨é˜²æŠ¤çš„ä½œç”¨ï¼›ï¼‰ ç»è¿‡ä¸Šé¢çš„ä¸‰æ­¥ï¼ŒCharles å°±å¯ä»¥å¯¹æ‰‹æœºè¿›è¡ŒæŠ“åŒ…äº†ã€‚ ç¬¬ä¸€æ­¥ï¼šè®¾ç½® Charles ä¸ºå…è®¸çŠ¶æ€ï¼Œå¹¶è®¾ç½®å¥½æ¥å…¥ç«¯å£ ç¬¬äºŒæ­¥ï¼šæ‰‹æœºé€šè¿‡è®¾ç½® http ä»£ç†æœåŠ¡å™¨ï¼Œè¿æ¥åˆ°ç”µè„‘æŠŠæ‰‹æœºæŒ‰ç…§ Charles çš„ IP å’Œç«¯å£è¿›è¡Œé…ç½®ï¼Œå½“æ‰‹æœºè¿æ¥ wifi æ—¶ï¼Œwifi çš„ HTTP ä»£ç†é€‰æ‹©æ‰‹åŠ¨é‚£é¡¹ï¼ˆå®‰å“ç±»ä¼¼ï¼‰ ç¬¬ä¸‰æ­¥ï¼Œæ‰‹æœºé…å¯¹æˆåŠŸåï¼ŒCharles å¼¹çª—è¯¢é—®æ˜¯å¦å…è®¸è®¾ç½®å¥½ä¹‹åï¼Œæˆ‘ä»¬æ‰“å¼€ iPhone ä¸Šçš„ä»»æ„éœ€è¦ç½‘ç»œé€šè®¯çš„ç¨‹åºï¼Œå°±å¯ä»¥çœ‹åˆ° Charles å¼¹å‡º iPhone è¯·æ±‚è¿æ¥çš„ç¡®è®¤èœå• å¦‚ä¸Šå›¾çš„å¼¹çª—ï¼Œç‚¹å‡»å…è®¸å³å¯ï¼›æ­¤æ—¶å·²ç»é…å¯¹æˆåŠŸï¼Œå¼€å§‹æ„‰å¿«çš„æŠ“åŒ…äº†ã€‚ charles è¿æ¥ä¸ä¸Šæ‰‹æœºçš„å¤„ç†æ–¹å¼1ã€æ£€æŸ¥ç”µè„‘å’Œæ‰‹æœºæœ‰æ²¡æœ‰è¿æ¥çš„åŒä¸€ä¸ª wifiï¼Œå¿…é¡»è¿æ¥çš„æ˜¯ä¸€ä¸ªç½‘ 2ã€æ›´æ¢ charles å’Œç§»åŠ¨ç«¯è®¾å¤‡çš„ç«¯å£ï¼Œé»˜è®¤æ˜¯ 8888ï¼Œå¯ä»¥æ”¹æˆå…¶ä»–çš„è¯•è¯• 3ã€æœ‰å¯èƒ½è·¯ç”±å™¨è®¾ç½®çš„ ap é—´ä¸èƒ½ç›¸äº’è®¿é—®ï¼Œéœ€è¦ç™»å½•è·¯ç”±å™¨ï¼Œéœ€è¦ç™»å½•è·¯ç”±å™¨ã€‚è¿›è¡Œæ±‚æ”¹ã€‚ 4ã€å…³é—­ç”µè„‘çš„é˜²ç«å¢™ã€‚è¯•è¯• é¦–å…ˆï¼Œå¦‚æœï¼Œé˜²ç«å¢™å…³äº†è¿˜æ˜¯ä¸è¡Œï¼Œé‚£ä¹ˆè¯·æŠŠæ‰‹æœº wifi æ–­æ‰åé‡æ–°è¿æ¥ï¼Œè¿™æ ·ä¸€èˆ¬å°±å¯ä»¥è§£å†³é—®é¢˜äº†ã€‚ å¦‚æœä»¥ä¸Šæ–¹æ³•è¿˜æ˜¯ä¸è¡Œçš„è¯ï¼Œé‚£ä¹ˆè¯·å°†æ‰‹æœº wifi ä½ç½®çš„ ip åœ°å€è®¾ç½®æˆé™æ€ ipï¼Œç„¶åé‡å¯ charles å·¥å…·ã€‚ 5ã€åœ¨ charles ä¸Šæ·»åŠ æ‰‹æœºçš„ ip è¯•è¯• å‚è€ƒé“¾æ¥ Charles æ‰‹æœºæŠ“åŒ…è®¾ç½®","link":"/articles/2021/09/01/charles-proxy/"},{"title":"Chromium å†å²ç‰ˆæœ¬ç¦»çº¿å®‰è£…åŒ… - ä¸‹è½½æ–¹æ³•","text":"Chrome(Chromium) å†å²æ—§ç‰ˆæœ¬ç¦»çº¿å®‰è£…åŒ…ä¸‹è½½æ–¹æ³•ã€‚ Chrome ç¦»çº¿åŒ… - æœ€æ–°ç‰ˆï¼ˆå®˜æ–¹ï¼‰ é¡µé¢ï¼šhttps://www.google.com/intl/en/chrome/browser/desktop/index.html?standalone=1 ç‚¹å‡»Accept and Downloadä¼šä¸‹è½½ç¦»çº¿åŒ…ï¼ˆç•Œé¢ä¸åœ¨çº¿å®‰è£…ç±»ä¼¼ï¼Œä½†ç¡®å®æ˜¯ç¦»çº¿åŒ…ï¼‰ Chrome ç¦»çº¿åŒ… - å†å²ç‰ˆæœ¬ï¼ˆå®˜æ–¹ï¼‰ä¸‹è½½ï¼šhttps://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html ä¸Šè¿°é“¾æ¥æ¥è‡ª Chromium å®˜ç½‘ï¼Œå« Macã€Linuxã€Windowsã€Androidã€ChromiumOS ç­‰ å‚è€ƒè¿™é‡Œ https://chromium.googlesource.com/chromiumos/manifest-versions/+/master/paladin/buildspecs/ æ¥ä¸‹è½½å¯¹åº”çš„ç¦»çº¿ç‰ˆæœ¬åŒ… å‚è€ƒè¿™é‡Œhttps://vikyd.github.io/download-chromium-history-version/#/ æ¥ä¸‹è½½å¯¹åº”çš„ç¦»çº¿ç‰ˆæœ¬åŒ…","link":"/articles/2021/04/01/chrome-history-download/"},{"title":"ä¿®å¤ CI æ„å»ºåšå®¢é€ æˆçš„æ›´æ–°æ—¶é—´é”™è¯¯","text":"å½“ä½¿ç”¨ Travis CI or Github Actions è‡ªåŠ¨åŒ–éƒ¨ç½²æ—¶ï¼Œå‘ç°éƒ¨ç½²æˆåŠŸåï¼Œæ‰€æœ‰æ–‡ç« çš„æ›´æ–°æ—¶é—´éƒ½å˜æˆäº†æ­¤æ¬¡æäº¤ä¿®æ”¹çš„æ—¶é—´ï¼Œä½†æœ‰äº›æ–‡ç« åœ¨ä¸Šä¸€æ¬¡æäº¤åæ˜¯æ²¡æœ‰å‘ç”Ÿè¿‡ä»»ä½•ä¿®æ”¹çš„ã€‚ è¿™æ˜¯å› ä¸º git åœ¨æ¨é€æ›´æ–°æ—¶ï¼Œå¹¶ä¸è®°å½•ä¿å­˜æ–‡ä»¶çš„è®¿é—®æ—¶é—´ã€ä¿®æ”¹æ—¶é—´ç­‰å…ƒä¿¡æ¯ï¼Œï¼ˆåŸå› åœ¨è¿™é‡Œï¼‰æ‰€ä»¥æ¯æ¬¡ä½¿ç”¨ git æŠŠé¡¹ç›® clone ä¸‹æ¥æ—¶ï¼Œæ–‡ä»¶çš„æ—¶é—´éƒ½æ˜¯å…‹éš†æ—¶çš„æ—¶é—´ã€‚åˆå› ä¸ºå¦‚æœæ²¡æœ‰åœ¨ front-matter ä¸­æŒ‡å®š updatedï¼ŒHexo ä¼šé»˜è®¤ä½¿ç”¨æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ä½œä¸ºæ–‡ç« çš„æ›´æ–°æ—¶é—´ï¼Œæ‰€ä»¥ä¼šå‡ºç°æ‰€æœ‰æ–‡ç« çš„æ›´æ–°æ—¶é—´éƒ½å‘ç”Ÿå˜åŒ–çš„æƒ…å†µã€‚ æ€»çš„æ¥è¯´ï¼Œä½¿ç”¨ git clone ä¸‹æ¥çš„æ–‡ä»¶çš„æ—¶é—´éƒ½ä¸æ˜¯åŸæ¥æ–‡ä»¶çš„æ—¶é—´ï¼Œè€Œè‡ªåŠ¨åŒ–éƒ¨ç½²æ¯æ¬¡éƒ½éœ€è¦ clone æºç æ‰èƒ½è¿›è¡Œåé¢çš„ç”Ÿæˆå’Œéƒ¨ç½²æ“ä½œï¼Œæ‰€ä»¥ç›®å‰å¦‚æœæƒ³æ­£ç¡®æ˜¾ç¤ºæ›´æ–°æ—¶é—´ã€‚éœ€è¦ï¼š æ–¹æ³•ä¸€ï¼šä½¿ç”¨ updated å±æ€§å­—æ®µåœ¨æ–‡ç« ä¸­çš„front-matterä¸­æ·»åŠ updated: æ›´æ–°æ—¶é—´é¡¹ front-matter12345title: ä¿®å¤ CI æ„å»ºåšå®¢é€ æˆçš„æ›´æ–°æ—¶é—´é”™è¯¯author: Seatoc: truedate: 2021-01-07 15:53:16updated: 2021-01-07 15:53:16 ä»¥åä¿®æ”¹æ–‡ä»¶çš„è¯ä¹Ÿåªéœ€ä¿®æ”¹updatedé¡¹å¯¹åº”æ—¥æœŸå³å¯ï¼Œä½†æ˜¯è¿™æ ·æœ‰ä¸ªå¼Šç«¯ï¼Œå®Œå…¨éœ€è¦é è‡ªå·±è‡ªè§‰å»ä¿®æ”¹æ›´æ–°æ—¶é—´ï¼Œè‡ªå·±ä¸€æ—¦å¿˜æ‰ï¼Œé‚£ä¹ˆæ›´æ–°æ—¶é—´çš„æ„ä¹‰ä¹Ÿå°±è¡ç„¶æ— å­˜äº†ï¼Œå› æ­¤è¿™é‡Œæ¨èç¬¬äºŒç§æ–¹æ³•ã€‚ æ–¹æ³•äºŒï¼šä½¿ç”¨ git æ¨é€æ—¶é—´å¦‚æœä½ ç”¨çš„æ˜¯Travis Ciçš„è¯ï¼Œåªéœ€è¦åœ¨.travis.ymlæ·»åŠ å¦‚ä¸‹é…ç½®ï¼š .travis.yml123before_install: # Restore last modified time - 'git ls-files -z | while read -d '''' path; do touch -d &quot;$(git log -1 --format=&quot;@%ct&quot; &quot;$path&quot;)&quot; &quot;$path&quot;; done' å¦‚æœä½ ç”¨çš„æ˜¯Github Actionsçš„è¯ï¼Œåªéœ€è¦åœ¨å¯¹åº”çš„ymlæ·»åŠ å¦‚ä¸‹é…ç½®ï¼š actions123456jobs: &lt;jobs_id&gt;: steps: - name: Restore file modification time run: | git ls-files -z | while read -d '' path; do touch -d &quot;$(git log -1 --format=&quot;@%ct&quot; &quot;$path&quot;)&quot; &quot;$path&quot;; done å½“ç„¶git ls-files å¦‚æœä¸å¥½ç”¨å¯ä»¥æ”¹æˆ findï¼š bash1find source/_posts -name '*.md' | while read file; do touch -d &quot;$(git log -1 --format=&quot;@%ct&quot; &quot;$file&quot;)&quot; &quot;$file&quot;; done å®é™…ä¸Šï¼Œclone ä¸‹æ¥çš„æ–‡ä»¶çš„æ—¶é—´è¿˜æ˜¯å…‹éš†æ—¶çš„æ—¶é—´ï¼Œç„¶åé€šè¿‡ä¸Šé¢çš„å‘½ä»¤ï¼Œå®ƒå°† clone ä¸‹æ¥çš„æ–‡ä»¶çš„æ—¶é—´æ”¹æˆäº†è¯¥æ–‡ä»¶æœ€è¿‘ä¸€æ¬¡å˜åŠ¨çš„æ¨é€æ—¶é—´ï¼ˆä¹Ÿå³æ–‡ä»¶æœ€åä¸€æ¬¡ä¿®æ”¹çš„ push æ—¶é—´ï¼‰ã€‚ æ³¨ï¼šå¦‚æœgithub actionsä¸­ä½¿ç”¨actions/checkout@v2ï¼Œè¯·è®¾å®šå®ƒçš„å‚æ•°fetch-depth: 0ï¼Œå› ä¸º0è¡¨ç¤ºè·å–æ‰€æœ‰åˆ†æ”¯å’Œæ ‡ç­¾çš„æ‰€æœ‰å†å²è®°å½•ã€‚é»˜è®¤å€¼ä¸º1 å°çŸ¥è¯†ï¼š bash12345678# è·å– git ä»“åº“ä¸­æ‰€æœ‰æ–‡ä»¶çš„æœ€æ–°ä¿®æ”¹æ—¶é—´git ls-tree -r --name-only HEAD | while read filename; do echo &quot;$(git log -1 --format=&quot;%ad&quot; -- $filename) $filename&quot;done# è·å– git ä»“åº“ä¸­æ‰€æœ‰æ–‡ä»¶çš„æœ€åˆåˆ›å»ºæ—¶é—´git ls-tree -r --name-only HEAD | while read filename; do echo &quot;$(git log --format=&quot;%ad&quot; -- $filename | tail -1) $filename&quot;done å‚è€ƒé“¾æ¥ GIT è·å–æ–‡ä»¶æœ€åˆåˆ›å»ºåŠæœ€æ–°ä¿®æ”¹æ—¥æœŸ How to retrieve the last modification date of all files in a git repositoryï¼šä»‹ç»äº†å¦‚ä½•è·å– git ä»“åº“ä¸­ï¼Œæ‰€æœ‰æ–‡ä»¶çš„æœ€æ–°ä¿®æ”¹æ—¶é—´ã€‚ Finding the date/time a file was first added to a Git repositoryï¼šä»‹ç»äº†å¦‚ä½•è·å– git ä»“åº“ä¸­ï¼Œæ‰€æœ‰æ–‡ä»¶æœ€åˆçš„åˆ›å»ºæ—¶é—´ã€‚ Hexo ç›¸å…³é—®é¢˜å’Œä¼˜åŒ– The update time of the article is incorrect ä¿®å¤ CI æ„å»ºåšå®¢é€ æˆçš„æ›´æ–°æ—¶é—´é”™è¯¯","link":"/articles/2021/01/07/ci-hexo-update-time/"},{"title":"è°·æ­Œæµè§ˆå™¨å†å²ç‰ˆæœ¬ä¸‹è½½","text":"æœ¬æ–‡å°†ä»‹ç»è°·æ­Œæµè§ˆå™¨å†å²ç‰ˆæœ¬å¦‚ä½•ä¸‹è½½åŠå…¶ä»£ç ä»“åº“åŸç†ä»‹ç»ã€‚ æ‰“å¼€ç½‘é¡µ https://mrseawave.github.io/chromium-history-page/ ï¼Œé€‰æ‹©å¯¹åº”çš„ OSï¼Œä¸ version ç‚¹å‡»è¿›è¡Œä¸‹è½½å³å¯ã€‚ ç½‘é¡µæºç ï¼šhttps://github.com/MrSeaWave/chromium-history-page dataSourceï¼šhttps://github.com/MrSeaWave/chromium-history-dataSource crawler(BASE): https://github.com/MrSeaWave/chromium-history-crawler åŸç†ä»‹ç»crawler ä»“åº“ä»£ç è§£æ Step_1å¯»æ‰¾æ‰€æœ‰çš„ version&amp;&amp;version å¯¹åº”çš„ position getPositionByVersion1$ node ./src/getPositionByVersion.js versionUrl + versionPositionUrl====&gt;ç”Ÿæˆ all-version.json, version-position.json versionUrl ï¼šçˆ¬è™«è·å–æ‰€æœ‰ version versionPositionUrl: é€šè¿‡æŒ‡å®šçš„ version è·å–ç‰¹å®šçš„ position all-version.json: all-version.json1234567[ &quot;90.0.4399.1&quot;, &quot;90.0.4399.0&quot;, &quot;90.0.4398.1&quot;, &quot;90.0.4398.0&quot; // ...] version-position.json: version-position.json1234567{ &quot;90.0.4399.1&quot;: &quot;846615&quot;, &quot;90.0.4399.0&quot;: &quot;846615&quot;, &quot;90.0.4398.1&quot;: &quot;846545&quot;, &quot;90.0.4398.0&quot;: &quot;846545&quot; // ...} Step_2å¯»æ‰¾ä¸åŒ os å¯¹åº”çš„ positionï¼šposition/position-Mac.json etc. getPositionWithOsList1$ node ./src/getPositionWithOsList.js positionUrl====&gt;position/position-Mac.json position-Mac.json: position-Mac.json1234567[ &quot;15734&quot;, &quot;15749&quot;, &quot;15839&quot;, &quot;15942&quot; // ...] Step_3ç»“åˆstep_1ä¸step_2çš„æ•°æ®ç”Ÿæˆæœ€ç»ˆæ–‡ä»¶ï¼šver-pos-os/version-position-Mac.json verPosOsGen.js1$ node ./src/verPosOsGen version-position.json &amp;&amp; position/position-os.json ===&gt; ver-pos-os/version-position-Mac.json etc. ver-pos-os.json: ver-pos-os.json1234567{ &quot;90.0.4398.1&quot;: &quot;846545&quot;, &quot;90.0.4398.0&quot;: &quot;846545&quot;, &quot;90.0.4396.2&quot;: &quot;845872&quot;, &quot;90.0.4396.1&quot;: &quot;845872&quot; // ...} json stepsjson-steps123all-version.json -&gt; version-position.json -&gt; -&gt; ver-pos-[os].json position-[os].json -&gt; Step_4 æ•°æ®å­˜å‚¨ï¼šå°†ä¸Šè¿°stepsä¸­ç”Ÿæˆçš„jsonæ–‡ä»¶å¤¹ä¸‹çš„æ•°æ®å¤åˆ¶åˆ°chromium-history-dataSourceä»“åº“ä¸­ï¼Œç•™ä½œå¤‡ä»½ã€‚ ç½‘é¡µå‘å¸ƒï¼šå°†ver-pos-os/version-position-Mac.jsonå¤åˆ¶åˆ°å‰ç«¯ä»£ç ä»“åº“:chromium-history-page publicæ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶ä¸”å‘å¸ƒå‰ç«¯ä»£ç è‡³chromium-history-pageçš„gh-pagesåˆ†æ”¯ä¸Š è‡³æ­¤æ‰“å¼€ç½‘é¡µå³å¯çœ‹åˆ°è°·æ­Œæµè§ˆå™¨çš„å†å²ç‰ˆæœ¬ã€‚ğŸš€ğŸš€ğŸš€ å‚è€ƒé“¾æ¥ ä»“åº“ä»£ç å‚è€ƒï¼šchromium-history-version-crawler","link":"/articles/2021/04/06/download-chromium-history-version/"},{"title":"export ä¸ export default çš„åŒºåˆ«","text":"æœ¬æ–‡å°†ä»‹ç» export ä¸ export default çš„å·®å¼‚æ€§ã€‚ 1. export default åœ¨ä¸€ä¸ªæ¨¡å—é‡Œåªèƒ½æœ‰ä¸€ä¸ªï¼Œä½†æ˜¯ export å¯ä»¥æœ‰å¤šä¸ª123456789// model.jslet e1 = 'export 1';let e2 = 'export 2';let e3 = 'export 3';let e4 = 'export 4';export { e2 };export { e3 };export { e4 };export default e1; 1234567// ä½¿ç”¨æ¨¡å—çš„run.jsimport e1, { e2, e3, e4 } from './model.js';console.log(e1);console.log(e2);console.log(e3);console.log(e4); 1234567run.jsè¿è¡Œç»“æœ$ node run.jsexport 1export 2export 3export 4 å¦‚æœåœ¨model.jså†æ·»åŠ ä¸€ä¸ªexport default 12let e5 = 'export e5';export default e5; 123456$ node run.jsfile:///Users/xxx/workspace/model.js:11export default e5 ^^^^^^^^^^^SyntaxError: Identifier '.default' has already been declared 2. æ¨¡å—ä¸­é€šè¿‡export å¯¼å‡ºçš„(å±æ€§æˆ–è€…æ–¹æ³•)å¯ä»¥ä¿®æ”¹ï¼Œä½†æ˜¯é€šè¿‡export defaultå¯¼å‡ºçš„ä¸å¯ä»¥ä¿®æ”¹åŸºæœ¬ç±»å‹ï¼š 123456789// model.jslet e1 = 'export 1';let e2 = 'export 2';export function modifyFunc() { e1 = 'export 1 modified'; e2 = 'export 2 modified';}export { e2 };export default e1; 1234567// ä½¿ç”¨æ¨¡å—çš„run.jsimport e1, { e2, modifyFunc } from './model.js';console.log(e1);console.log(e2);modifyFunc();console.log(e1);console.log(e2); 12345$ node run.jsexport 1export 2export 1export 2 modified Babel ç¼–è¯‘åä»£ç  123456789101112131415161718'use strict';Object.defineProperty(exports, '__esModule', { value: true,});exports.modifyFunc = modifyFunc;exports.default = exports.e2 = void 0;let e1 = 'export 1';let e2 = 'export 2';exports.e2 = e2;function modifyFunc() { e1 = 'export 1 modified'; exports.e2 = e2 = 'export 2 modified';}var _default = e1;exports.default = _default; å¯¹è±¡ 123456789let e1 = { v1: 'v1' };let e2 = { v2: 'v2' };export function modifyFunc() { e1 = { v1: 'v1 modified' }; e1.v1 = 'v1 next modified'; e2 = { v22: 'v2 modified' };}export { e2 };export default e1; 1234567// ä½¿ç”¨æ¨¡å—çš„run.jsimport e1, { e2, modifyFunc } from './model.js';console.log(e1);console.log(e2);modifyFunc();console.log(e1);console.log(e2); 12345$ node run.js{ v1: 'v1' }{ v2: 'v2' }{ v1: 'v1' }{ v22: 'v2 modified' } Babel ç¼–è¯‘åä»£ç  12345678910111213141516171819202122232425262728'use strict';Object.defineProperty(exports, '__esModule', { value: true,});exports.modifyFunc = modifyFunc;exports.default = exports.e2 = void 0;// model.jslet e1 = { v1: 'v1',};let e2 = { v2: 'v2',};exports.e2 = e2;function modifyFunc() { e1 = { v1: 'v1 modified', }; e1.v1 = 'v1 next modified'; exports.e2 = e2 = { v22: 'v2 modified', };}var _default = e1;exports.default = _default; é¦–å…ˆéœ€è¦äº†è§£åˆ°ï¼š ES6 ä¸­æ¨¡å—é€šè¿‡exportå’Œexport defaultæš´éœ²å‡ºæ¥çš„å±æ€§æˆ–è€…æ–¹å¼å¹¶ä¸æ˜¯æ™®é€šçš„èµ‹å€¼æˆ–è€…å¼•ç”¨ï¼Œå®ƒä»¬æ˜¯å¯¹æ¨¡å—å†…éƒ¨å®šä¹‰çš„æ ‡å¿—ç¬¦ç±»ä¼¼æŒ‡é’ˆçš„ç»‘å®šã€‚ å¯¹äºä¸€ä¸ªå¯¼å‡ºçš„å±æ€§æˆ–è€…æ–¹æ³•ï¼Œåœ¨ä»€ä¹ˆåœ°æ–¹å¯¼å‡ºä¸é‡è¦ï¼Œåœ¨ä»€ä¹ˆæ—¶å€™å¯¼å…¥ä¹Ÿä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯:è®¿é—®è¿™è¿™ä¸ªç»‘å®šçš„æ—¶å€™çš„å½“å‰å€¼ã€‚ 123456789// model.jslet e1 = 'export 1';let e2 = 'export 2';export { e2 };export default e1;e1 = 'export 1 modified';setTimeout(() =&gt; { e2 = 'export 2 modified';}, 1000); 1234567// ä½¿ç”¨æ¨¡å—çš„run.jsimport e1, { e2 } from './model.js';console.log(e1);console.log(e2);setTimeout(() =&gt; { console.log('-----later-----', e2);}, 5000); 1234$ node run.jsexport 1export 2-----later----- export 2 modified Babel ç¼–è¯‘åä»£ç  12345678910111213141516'use strict';Object.defineProperty(exports, '__esModule', { value: true,});exports.default = exports.e2 = void 0;// model.jslet e1 = 'export 1';let e2 = 'export 2';exports.e2 = e2;var _default = e1;exports.default = _default;e1 = 'export 1 modified';setTimeout(() =&gt; { exports.e2 = e2 = 'export 2 modified';}, 1000); ä½†æ˜¯ï¼Œexportæ˜¯ç»‘å®šåˆ°æ ‡è¯†ç¬¦ï¼Œæ”¹å˜æ ‡å¿—ç¬¦çš„å€¼ï¼Œç„¶åè®¿é—®è¿™ä¸ªç»‘å®šï¼Œå¾—åˆ°çš„æ˜¯æ–°å€¼ï¼›export defaultç»‘å®šçš„æ˜¯æ ‡å¿—ç¬¦æŒ‡å‘çš„å€¼ï¼Œå¦‚æœä¿®æ”¹æ ‡å¿—ç¬¦æŒ‡å‘å¦ä¸€ä¸ªå€¼ï¼Œè¿™ä¸ªç»‘å®šçš„å€¼ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚ å¦‚æœæƒ³ä¿®æ”¹é»˜è®¤å¯¼å‡ºçš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨export {e1 as default}è¿™ç§æ–¹æ³•ã€‚ 1234// model.jslet e1 = 'export 1';export { e1 as default };e1 = 'export 1 modified'; 123// ä½¿ç”¨æ¨¡å—çš„run.jsimport e1 from './model.js';console.log(e1); 123$ node run.jsexport 1 modified Babel ç¼–è¯‘åä»£ç  12345678910'use strict';Object.defineProperty(exports, '__esModule', { value: true,});exports.default = void 0;// model.jslet e1 = 'export 1';exports.default = e1;exports.default = e1 = 'export 1 modified'; 3. export defaultä¸exportè¯­æ³•å·®å¼‚ã€‚ export var e1='...' æ˜¯åˆæ³•è¯­å¥ï¼Œä½†æ˜¯export default var e2='...'æ˜¯ä¸åˆæ³•çš„ï¼ˆletå’Œconstä¹Ÿä¸€æ ·ï¼‰ã€‚ export defaultå¯ä»¥ç›´æ¥æ·»åŠ æ ‡è¯†ç¬¦å¯¼å‡ºï¼Œä¾‹å¦‚export default e2;exportå¦‚æœè¦å¯¼å‡ºå·²ç»å£°æ˜çš„è¡¨ç¤ºç¬¦,å¿…é¡»ä½¿ç”¨{},ä¾‹å¦‚export {e1},æ³¨æ„ï¼šè¿™é‡Œ{}ä¸æ˜¯å£°æ˜ä¸€ä¸ªå¯¹è±¡ã€‚ å¯æŸ¥çœ‹ä¾‹å­æºç ","link":"/articles/2021/06/03/export-export-default/"},{"title":"å·¥ç¨‹åŒ–é…ç½® git commit è§„èŒƒ","text":"å¦‚æœä½ å›¢é˜Ÿçš„ git commit ä¿¡æ¯ç´Šä¹±ï¼Œå¤ªè¿‡ç³Ÿç³•ï¼Œè§‰å¾—æœ‰å¿…è¦ç»Ÿä¸€è§„èŒƒ commitæ ¼å¼ï¼Œåˆæˆ–è€…ä½ æ˜¯ä¸€ä¸ªå¼ºè¿«ç—‡æ‚£è€…ï¼Œæœ‰å¿…è¦è®© commit ä¿¡æ¯æ•´æ•´é½é½çš„å±•ç¤ºã€‚é‚£ä¹ˆï¼Œä½ å¯ä»¥å¾€ä¸‹ç…ç…ã€‚ æœ¬æ–‡ä½¿ç”¨çš„æ’ä»¶ç‰ˆæœ¬ pkg123456{ &quot;@commitlint/cli&quot;: &quot;^12.0.1&quot;, &quot;@commitlint/config-conventional&quot;: &quot;^12.0.1&quot;, &quot;husky&quot;: &quot;4.3.8&quot;, &quot;standard-version&quot;: &quot;^9.1.1&quot;} git commit è§„èŒƒæ ¼å¼ç°åœ¨æ¯”è¾ƒå¤§ä¼—åŒ–çš„ commit æ ¼å¼æ— éæœ‰ä¸¤ç§ï¼š git12$ &lt;commit-type&gt;[(commit-scope)]: &lt;commit-message&gt;$ &lt;commit-icon&gt;: &lt;commit-message&gt; &lt;commit-type&gt; å¸¸è§ä¸ºï¼š choreï¼šæ„å»ºé…ç½®ç›¸å…³ã€‚ docsï¼šæ–‡æ¡£ç›¸å…³ã€‚ featï¼šæ·»åŠ æ–°åŠŸèƒ½ã€‚ fixï¼šä¿®å¤ bugã€‚ perfï¼šæ€§èƒ½ç›¸å…³ã€‚ refactorï¼šä»£ç é‡æ„ï¼Œä¸€èˆ¬å¦‚æœä¸æ˜¯å…¶ä»–ç±»å‹çš„ commitï¼Œéƒ½å¯ä»¥å½’ä¸ºé‡æ„ã€‚ revertï¼šåˆ†æ”¯å›æº¯ã€‚ styleï¼šæ ·å¼ç›¸å…³ã€‚ testï¼šæµ‹è¯•ç›¸å…³ã€‚ [(commit-scope)] å¯é€‰ï¼Œè¡¨ç¤ºèŒƒå›´ï¼Œä¾‹å¦‚ï¼šrefactor(cli)ï¼Œè¡¨ç¤ºå…³äº cli éƒ¨åˆ†çš„ä»£ç é‡æ„ã€‚ &lt;commit-message&gt; æäº¤è®°å½•çš„ä¿¡æ¯ï¼Œæœ‰äº›è§„èŒƒå¯èƒ½ä¼šè¦æ±‚é¦–å­—æ¯å¤§å†™ã€‚ &lt;commit-icon&gt; ç”¨å›¾æ ‡æ¥æ›¿ä»£ &lt;commit-type&gt; æ‰€è¡¨ç¤ºçš„åŠŸèƒ½ã€‚ å…·ä½“è§„èŒƒä¿¡æ¯æ ¼å¼åœ¨è¿™é‡ŒæŸ¥çœ‹ï¼ˆè¿™é‡Œä¸åšè¿‡å¤šé˜è¿°ï¼‰ ç”¨äº commit è§„èŒƒçš„å·¥å…· commitizen commitlint gitmoji æœ¬æ–‡ä¸»è¦è®²è¿°ç¬¬äºŒç§(commitlint)ä½¿ç”¨æ–¹æ³•ï¼Œå¦‚æƒ³ä½¿ç”¨æ›´å¤šè¯·æŸ¥çœ‹demo commitlint ä½¿ç”¨yarn1$ yarn add @commitlint/config-conventional @commitlint/cli --D åœ¨ä¸“é—¨çš„ commitlint é…ç½®æ–‡ä»¶ commitlint.config.js ä¸­é…ç½®å¦‚ä¸‹ï¼š commitlint.config.js123module.exports = { extends: ['@commitlint/config-conventional'],}; ç±»ä¼¼äº eslintï¼Œcommitlint è¿˜æ”¯æŒç±»ä¼¼äº .commitlintrc.jsã€.commitlintrc.jsonã€.commitlintrc.yml åç§°çš„é…ç½®æ–‡ä»¶ï¼Œåˆæˆ–è€…åœ¨ package.json ä¸­æ·»åŠ  commitlint å­—æ®µã€‚ ç„¶åå®‰è£… huskyï¼Œè¿™æ˜¯ä¸ºäº†æ·»åŠ  git hooksï¼Œä½¿å¾— git commit ä¹Ÿèƒ½å¤Ÿç¬¦åˆ commit è§„èŒƒã€‚ yarn1$ yarn add husky --dev åœ¨ package.json ä¸­é…ç½® husky é’©å­ï¼š (v1.0.1ç‰ˆæœ¬ä»¥åä¸ºHUSKY_GIT_PARAMSï¼Œv0.14.3ä¸ºGIT_PARAMS) package.json1234567{ &quot;husky&quot;: { &quot;hooks&quot;: { &quot;commit-msg&quot;: &quot;commitlint -e $HUSKY_GIT_PARAMS&quot; } }} ä¸Šé¢çš„æ“ä½œå¦‚æœéƒ½æˆåŠŸçš„è¯ï¼Œé‚£ä¹ˆä½ ä½¿ç”¨ git commit å‘½ä»¤æ—¶ï¼Œå°±å¿…é¡»è€è€å®å®çš„ä½¿ç”¨ç¬¦åˆ commitlint è§„èŒƒçš„ä¿¡æ¯äº† standard-version ä½¿ç”¨yarn1$ yarn add standard-version -D standard-versionæ˜¯å¸®åŠ©é¡¹ç›®è‡ªåŠ¨ç”ŸæˆChangeLogã€å‡ç‰ˆæœ¬ã€æ‰“tagçš„å·¥å…·ï¼Œå®ƒåŸºäºsemverå’ŒConventional Commitsè§„èŒƒã€‚ï¼ˆPSï¼šé…åˆgit commitè§„èŒƒåŒ–é£Ÿç”¨æ›´åŠ ã€‚ å½“æ‰§è¡Œserver-versionå‘½ä»¤åï¼Œå®ƒä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ“ä½œï¼š å–å¾—å½“å‰ç‰ˆæœ¬ï¼ˆæ¯”å¦‚package.jsoné‡Œé¢çš„versionå­—æ®µï¼‰ï¼Œå‡ç‰ˆæœ¬ï¼š1.0.0 =&gt; 1.1.0 æˆ–è€… 1.0.0 =&gt; 2.0.0ç­‰ï¼ˆå¦‚ä½•å‡çº§å¯ä»¥ç”±å‚æ•°æ§åˆ¶ï¼‰ åŸºäºcommitsç”ŸæˆChangeLogæ–‡ä»¶ æäº¤ä¸€ä¸ªcommitï¼ŒåŒ…å«ChangeLogå’Œç‰ˆæœ¬å˜æ›´çš„æ–‡ä»¶ æ‰“tag ä»¥ä¸ŠåŠŸèƒ½éƒ½æ˜¯å¯é…ç½®è·³è¿‡çš„ï¼Œå¯¹åº”ï¼šbumpã€changelogã€commitã€tagã€‚æ¯”å¦‚åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‰ç…§å¦‚ä¸‹é…ç½®ï¼Œå°±å¯ä»¥è·³è¿‡æ‰“tagæ“ä½œï¼š 12345{ &quot;skip&quot;: { &quot;tag&quot;: true }} ä¸ºstandard-versionæ·»åŠ é…ç½®æœ‰ä¸¤ç§æ–¹å¼ï¼š ç›®å‰ä½¿ç”¨çš„é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼Œå…¶å®ƒé…ç½®å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š .versionrc.js1234567891011121314151617181920212223242526272829303132333435363738394041424344// https://github.com/conventional-changelog/conventional-changelog-config-spec/blob/master/versions/2.1.0/README.mdmodule.exports = { // è·³è¿‡ä¸€äº›æ“ä½œ bumpã€changelogã€commitã€tag skip: { // ä¸è·³è¿‡æ‰“tagæ“ä½œ tag: false, }, //typesä¸ºConventional Commitsæ ‡å‡†ä¸­å®šä¹‰ï¼Œç›®å‰æ”¯æŒ //https://github.com/conventional-changelog/commitlint/tree/master/%40commitlint/config-conventional types: [ { type: 'feat', section: 'æ–°ç‰¹æ€§' }, { type: 'fix', section: 'Bugä¿®å¤' }, { type: 'docs', section: 'æ–‡æ¡£' }, { type: 'chore', section: 'é…ç½®é¡¹', hidden: true }, { type: 'style', section: 'æ ¼å¼', hidden: true }, { type: 'refactor', section: 'é‡æ„', hidden: true }, { type: 'perf', section: 'æ€§èƒ½', hidden: true }, { type: 'test', section: 'æµ‹è¯•', hidden: true }, { type: 'build', section: 'æ„å»º', hidden: true }, { type: 'ci', section: 'CI', hidden: true }, { type: 'revert', section: 'å›æ»š', hidden: true }, ], //compare é“¾æ¥ æ¨èè‡ªè¡Œä¿®æ”¹ä¸ºä»“åº“åœ°å€ å¦‚ compareUrlFormat: '{{host}}/{{owner}}/{{repository}}/compare/{{previousTag}}...{{currentTag}}', //hashé“¾æ¥ æ¨èè‡ªè¡Œä¿®æ”¹ä¸ºä»“åº“åœ°å€ å¦‚ https://github.com/MrSeaWave/commit-standard-demo/commit/{{hash}} commitUrlFormat: '{{host}}/{{owner}}/{{repository}}/commit/{{hash}}', //issueé“¾æ¥ issueUrlFormat: '{{host}}/{{owner}}/{{repository}}/issues/{{id}}', //server-versionè‡ªåŠ¨commitçš„æ¨¡æ¿ releaseCommitMessageFormat: 'build: v{{currentTag}}ç‰ˆæœ¬å‘å¸ƒ', //éœ€è¦server-versionæ›´æ–°ç‰ˆæœ¬å·çš„æ–‡ä»¶ bumpFiles: [ { filename: 'MY_VERSION_TRACKER.txt', // The `plain-text` updater assumes the file contents represents the version. type: 'plain-text', }, { filename: 'package.json', // The `json` updater assumes the version is available under a `version` key in the provided JSON document. type: 'json', }, ],}; package.json é…ç½®: package.json12345678&quot;scripts&quot;: { ..., &quot;release&quot;: &quot;standard-version&quot;, &quot;release:major&quot;: &quot;standard-version --release-as major&quot;, &quot;release:minor&quot;: &quot;standard-version --release-as minor&quot;, &quot;release:patch&quot;: &quot;standard-version --release-as patch&quot;, &quot;release:prerelease&quot;: &quot;standard-version --prerelease&quot; } PS: standard-version æœ‰å¾ˆå¤šå…¶ä»–çš„ç‰¹æ€§ï¼Œè¿™é‡Œä¸è¿‡å¤šæ¶‰åŠï¼Œ æœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡Œå°è¯•ã€‚ä¹Ÿå¯ä»¥æŸ¥çœ‹æ­¤demo å‚è€ƒé“¾æ¥ Git çš„å­¦ä¸è®°ï¼šå·¥ç¨‹åŒ–é…ç½® commit è§„èŒƒ ä»£ç é£æ ¼è‡ªåŠ¨åŒ–","link":"/articles/2021/03/31/git-commit-ci/"},{"title":"Gitæäº¤ä¿¡æ¯è§„èŒƒ","text":"Git æ¯æ¬¡æäº¤ä»£ç ï¼Œéƒ½è¦å†™ Commit messageï¼ˆæäº¤è¯´æ˜ï¼‰ 1$ git commit -m &quot;hello world&quot; ä¸Šé¢ä»£ç çš„-m å‚æ•°ï¼Œå°±æ˜¯ç”¨æ¥æŒ‡å®š commit mesage çš„ã€‚ å¦‚æœä¸€è¡Œä¸å¤Ÿï¼Œå¯ä»¥åªæ‰§è¡Œgit commitï¼Œå°±ä¼šè·³å‡ºæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œè®©ä½ å†™å¤šè¡Œ. 1$ git commit Commit message çš„æ ¼å¼æ¯æ¬¡æäº¤ï¼ŒCommit message éƒ½åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼šHeaderï¼ŒBody å’Œ Footerã€‚ 12345&lt;Header&gt;&lt;Body&gt;&lt;Footer&gt; å…¶ä¸­ï¼ŒHeader æ˜¯å¿…éœ€çš„ï¼ŒBody å’Œ Footer å¯ä»¥çœç•¥ã€‚ HeaderHeader éƒ¨åˆ†åªæœ‰ä¸€è¡Œï¼ŒåŒ…æ‹¬ä¸‰ä¸ªå­—æ®µï¼štypeï¼ˆå¿…éœ€ï¼‰ã€scopeï¼ˆå¯é€‰ï¼‰ã€subjectï¼ˆå¿…éœ€ï¼‰ã€‚ 1&lt;type&gt;: &lt;subject&gt; typetype ç”¨äºè¯´æ˜ commit çš„ç±»åˆ«ï¼Œåªå…è®¸ä½¿ç”¨ä¸‹é¢ 7 ä¸ªæ ‡è¯†ã€‚ featï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰ fixï¼šä¿®è¡¥ bug docsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰ styleï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰ refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹ bug çš„ä»£ç å˜åŠ¨ï¼‰ testï¼šå¢åŠ æµ‹è¯• choreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ subjectsubject æ˜¯ commit ç›®çš„çš„ç®€çŸ­æè¿°ï¼Œä¸è¶…è¿‡ 50 ä¸ªå­—ç¬¦ã€‚ ä»¥åŠ¨è¯å¼€å¤´ï¼Œä½¿ç”¨ç¬¬ä¸€äººç§°ç°åœ¨æ—¶ï¼Œæ¯”å¦‚ changeï¼Œè€Œä¸æ˜¯ changed æˆ– changes ç¬¬ä¸€ä¸ªå­—æ¯å°å†™ ç»“å°¾ä¸åŠ å¥å·ï¼ˆ.ï¼‰ BodyBody éƒ¨åˆ†æ˜¯å¯¹æœ¬æ¬¡ commit çš„è¯¦ç»†æè¿°ï¼Œå¯ä»¥åˆ†æˆå¤šè¡Œã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªèŒƒä¾‹ã€‚ 1234567More detailed explanatory text, if necessary. Wrap it toabout 72 characters or so.Further paragraphs come after blank lines.- Bullet points are okay, too- Use a hanging indent æœ‰ä¸¤ä¸ªæ³¨æ„ç‚¹ã€‚ ä½¿ç”¨ç¬¬ä¸€äººç§°ç°åœ¨æ—¶ï¼Œæ¯”å¦‚ä½¿ç”¨ change è€Œä¸æ˜¯ changed æˆ– changesã€‚ åº”è¯¥è¯´æ˜ä»£ç å˜åŠ¨çš„åŠ¨æœºï¼Œä»¥åŠä¸ä»¥å‰è¡Œä¸ºçš„å¯¹æ¯”ã€‚ FooterFooter éƒ¨åˆ†åªç”¨äºä¸¤ç§æƒ…å†µï¼š å…³è” Issue å…³é—­ Issue å…³è” Issueæœ¬æ¬¡æäº¤å¦‚æœå’Œæ‘¸ä¸ª issue æœ‰å…³ç³»åˆ™éœ€è¦å†™ä¸Šè¿™ä¸ªï¼Œæ ¼å¼å¦‚ä¸‹ï¼š 1Issue #1, #2, #3 å…³é—­ Issueå¦‚æœå½“å‰æäº¤ä¿¡æ¯è§£å†³äº†æŸä¸ª issueï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ Footer éƒ¨åˆ†å…³é—­è¿™ä¸ª issueï¼Œå…³é—­çš„æ ¼å¼å¦‚ä¸‹ï¼š 1Close #1, #2, #3 Revertè¿˜æœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå¦‚æœå½“å‰ commit ç”¨äºæ’¤é”€ä»¥å‰çš„ commitï¼Œåˆ™å¿…é¡»ä»¥revert:å¼€å¤´ï¼Œåé¢è·Ÿç€è¢«æ’¤é”€ Commit çš„ Headerã€‚ 1234revert: feat(pencil): add 'graphiteWidth' optionThis reverts commit 667ecc1654a317a13331b17617d973392f415f02. Body éƒ¨åˆ†çš„æ ¼å¼æ˜¯å›ºå®šçš„ï¼Œå¿…é¡»å†™æˆ This reverts commit &amp;lt;hash&gt;.ï¼Œå…¶ä¸­çš„hashæ˜¯è¢«æ’¤é”€ commit çš„ SHA æ ‡è¯†ç¬¦ã€‚ å¦‚æœå½“å‰ commit ä¸è¢«æ’¤é”€çš„ commitï¼Œåœ¨åŒä¸€ä¸ªå‘å¸ƒï¼ˆreleaseï¼‰é‡Œé¢ï¼Œé‚£ä¹ˆå®ƒä»¬éƒ½ä¸ä¼šå‡ºç°åœ¨ Change log é‡Œé¢ã€‚å¦‚æœä¸¤è€…åœ¨ä¸åŒçš„å‘å¸ƒï¼Œé‚£ä¹ˆå½“å‰ commitï¼Œä¼šå‡ºç°åœ¨ Change log çš„Revertså°æ ‡é¢˜ä¸‹é¢ã€‚ ä¾‹å­12345678910feat: æ·»åŠ äº†åˆ†äº«åŠŸèƒ½ç»™æ¯ç¯‡åšæ–‡æ·»åŠ äº†åˆ†äº«åŠŸèƒ½- æ·»åŠ åˆ†äº«åˆ°å¾®åšåŠŸèƒ½- æ·»åŠ åˆ†äº«åˆ°å¾®ä¿¡åŠŸèƒ½- æ·»åŠ åˆ†äº«åˆ°æœ‹å‹åœˆåŠŸèƒ½Issue #1, #2Close #1 ä½¿ç”¨è½¯ä»¶è¿›è¡Œ commit è§„èŒƒåŒ– JS: commit-demo å‚è€ƒæ–‡æ¡£ Commit message å’Œ Change log ç¼–å†™æŒ‡å— æˆ‘çš„æäº¤ä¿¡æ¯è§„èŒƒ","link":"/articles/2021/03/31/git-commit-message/"},{"title":"gitä»“åº“çš„ä»£ç†","text":"å› ä¸ºç§ç§åŸå› ï¼Œgithubè®¿é—®å¾ˆå›°éš¾ï¼Œä»“åº“ä»£ç çš„æäº¤æ¯”è¾ƒå—é™ï¼Œå› æ­¤æƒ³åˆ°é€šè¿‡æŒ‚ä»£ç†çš„æ–¹å¼è®©ä»£ç å¯ä»¥æ­£å¸¸æäº¤ã€‚ é¦–å…ˆç¬¬ä¸€æ­¥ï¼Œè‚¯å®šéœ€è¦shdowsocksä»£ç†å·¥å…·ã€‚ å…¶æ¬¡ å…¨å±€è®¾å®šï¼š http1$ git config --global http.proxy http://127.0.0.1:1087 https1$ $ git config --global https.proxy https://127.0.0.1:1087 or åªé’ˆå¯¹ç‰¹å®šä»“åº“è®¾å®šï¼š http1$ git config http.proxy http://127.0.0.1:1087 https1$ git config https.proxy https://127.0.0.1:1087 æ³¨ï¼š127.0.0.1:1087æ˜¯å› ä¸º","link":"/articles/2021/04/02/git-proxy/"},{"title":"git-pull-default","text":"é—®é¢˜èƒŒæ™¯å½“ä½¿ç”¨ git ç‰ˆæœ¬ä¸º 2.27.0 ä»¥ä¸Šæ—¶ï¼Œä½¿ç”¨git pullå‘½ä»¤å‡ºç°ä»¥ä¸‹çš„è­¦å‘Šï¼š 123456789101112hint: Pulling without specifying how to reconcile divergent branches ishint: discouraged. You can squelch this message by running one of the followinghint: commands sometime before your next pull:hint:hint: git config pull.rebase false # merge (the default strategy)hint: git config pull.rebase true # rebasehint: git config pull.ff only # fast-forward onlyhint:hint: You can replace &quot;git config&quot; with &quot;git config --global&quot; to set a defaulthint: preference for all repositories. You can also pass --rebase, --no-rebase,hint: or --ff-only on the command line to override the configured default perhint: invocation. è¯¥è­¦å‘Šçš„ä¸­æ–‡ç‰ˆæœ¬æ–‡æ¡ˆæè¿°å¦‚ä¸‹ï¼š 12345678910warning: ä¸å»ºè®®åœ¨æ²¡æœ‰ä¸ºåç¦»åˆ†æ”¯æŒ‡å®šåˆå¹¶ç­–ç•¥æ—¶æ‰§è¡Œpullæ“ä½œã€‚æ‚¨å¯ä»¥åœ¨æ‰§è¡Œä¸‹ä¸€æ¬¡pullæ“ä½œä¹‹å‰æ‰§è¡Œä¸‹é¢ä¸€æ¡å‘½ä»¤æ¥æŠ‘åˆ¶æœ¬æ¶ˆæ¯ï¼šgit config pull.rebase false # åˆå¹¶ï¼ˆé»˜è®¤ç¼ºçœç­–ç•¥ï¼‰git config pull.rebase true # å˜åŸºgit config pull.ff only # ä»…å¿«è¿›æ‚¨å¯ä»¥å°† &quot;git config&quot; æ›¿æ¢ä¸º &quot;git config --global&quot; ä»¥ä¾¿ä¸ºæ‰€æœ‰ä»“åº“è®¾ç½®ç¼ºçœçš„é…ç½®é¡¹ã€‚æ‚¨ä¹Ÿå¯ä»¥åœ¨æ¯æ¬¡æ‰§è¡Œ pull å‘½ä»¤æ—¶æ·»åŠ  --rebaseã€--no-rebaseï¼Œæˆ–è€… --ff-only å‚æ•°è¦†ç›–ç¼ºçœè®¾ç½®ã€‚ è§£å†³æ–¹æ¡ˆå…ˆè¯´ç»“è®ºï¼š è‹¥æ— ç‰¹æ®Šéœ€æ±‚æ‰§è¡Œï¼šgit config pull.rebase false(é»˜è®¤) å¦‚ä½•è§£å†³é—®é¢˜åœ¨ä¸Šè¿°çš„è­¦å‘Šæ–‡æ¡ˆæè¿°ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°ä¸¤ä¸ªé‡è¦çš„ Git é…ç½®ä¿¡æ¯pull.rebaseå’Œpull.ffã€‚ pull.ffå…ˆæ¥äº†è§£ä¸€ä¸‹pull.ff åœ¨ã€ŠGit å®˜æ–¹æ–‡æ¡£-å‚è€ƒ-pull.ffã€‹æ–‡ç« ä¸­å¯ä»¥æŸ¥çœ‹åˆ°å®ƒçš„å®šä¹‰ï¼š å½“æŠŠpull.ffè®¾ç½®ä¸ºfalseæ—¶ï¼Œè¿™ä¸ªå˜é‡å‘Šè¯‰ Git åœ¨è¿™ç§æƒ…å†µä¸‹(ç›¸å½“äºæ‰§è¡Œå‘½ä»¤git pull --no-ff)ï¼Œå¦‚æœæ‰§è¡Œä¸å¸¦é€‰é¡¹çš„git pullå‘½ä»¤æ—¶å…ˆå°è¯•å¿«è¿›åˆå¹¶ï¼Œå¦‚æœä¸è¡Œå†è¿›è¡Œæ­£å¸¸åˆå¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„æäº¤ã€‚ å½“æŠŠpull.ffè®¾ç½®ä¸ºonlyæ—¶ï¼Œåªå…è®¸å¿«è¿›åˆå¹¶(ç›¸å½“äºæ‰§è¡Œå‘½ä»¤git pull --ff-only)ï¼Œå¦‚æœæ‰§è¡Œä¸å¸¦é€‰é¡¹çš„git pullå‘½ä»¤æ—¶ï¼Œå¦‚æœä¸èƒ½è¿›è¡Œå¿«è¿›åˆå¹¶åˆ™ç»ˆæ­¢å½“å‰æ“ä½œã€‚ å¦‚æœå°†pull.ffè®¾ç½®ä¸ºonlyï¼Œè€Œæ‰§è¡Œä¸å¸¦é€‰é¡¹çš„git pullå‘½ä»¤è¢«ç»ˆæ­¢ï¼Œå…¶å®å¯ä»¥ä½¿ç”¨å¸¦å‚æ•°çš„git pull --no-ffæˆ–è€…git pull --rebaseå‘½ä»¤æ¥æ‰§è¡Œpullæ“ä½œã€‚ pull.rebaseåœ¨ã€ŠGit å®˜æ–¹æ–‡æ¡£-å‚è€ƒ-pull.baseã€‹æ–‡ç« ä¸­å¯æŸ¥çœ‹pull.rebaseçš„å®šä¹‰ï¼Œæ­¤å¤„åªè§£é‡Šå½“é€‰é¡¹pull.rebaseçš„å‚æ•°ä¸ºtrueæˆ–è€…falseæ—¶çš„å®šä¹‰ï¼š å½“pull.rebaseä¸º true æ—¶ï¼Œè¿è¡Œä¸å¸¦é€‰é¡¹çš„å‘½ä»¤git pullç›¸å½“äºæ‰§è¡Œgit pull --rebaseã€‚ å½“pull.rebaseä¸º false æ—¶ï¼Œè¿è¡Œä¸å¸¦é€‰é¡¹çš„å‘½ä»¤git pullä¸ä¼šè¢«æ”¹å˜å«ä¹‰ï¼Œå³ä¸ä¼šå˜åŸºã€‚å¦‚æœæƒ³å˜åŸºï¼Œéœ€è¦åœ¨æ‰§è¡Œå‘½ä»¤æ—¶æ˜¾å¼åœ°åŠ ä¸Šé€‰é¡¹--rebaseï¼Œå³git pull --rebaseã€‚ ç†è§£git pullå‘½ä»¤çš„åŸç†åŠå…¶å„é€‰é¡¹çš„å«ä¹‰git pullå‘½ä»¤çš„åŸç†git fetchä¼šæŸ¥è¯¢git remoteä¸­æ‰€æœ‰çš„è¿œç¨‹ä»“åº“æ‰€åŒ…å«åˆ†æ”¯çš„æœ€æ–°æäº¤ï¼Œå¹¶å°†å…¶è®°å½•åˆ°.git/FETCH_HEADæ–‡ä»¶ä¸­ã€‚ .git/FETCH_HEADæ˜¯ä¸€ä¸ªç‰ˆæœ¬é“¾æ¥ï¼ŒæŒ‡å‘ç€ç›®å‰å·²ç»ä»è¿œç¨‹ä»“åº“å–ä¸‹æ¥çš„æ‰€æœ‰åˆ†æ”¯çš„æœ€æ–°æäº¤ã€‚ git pullå‘½ä»¤ç­‰ä»·äºï¼šå…ˆæ‰§è¡Œgit fetchï¼Œå†æ‰§è¡Œgit merge FETCH_HEADå°†è¿œç¨‹ä»“åº“å¯¹åº”åˆ†æ”¯çš„æœ€æ–°æäº¤åˆå¹¶åˆ°å½“å‰æœ¬åœ°åˆ†æ”¯ä¸­ã€‚ git fetch &amp;&amp; git merge git pullå‘½ä»¤ä¸­å„é€‰é¡¹çš„å«ä¹‰git pullå¸¸è§çš„é€‰é¡¹æ­é…ï¼š ä¸å¸¦ä»»ä½•é€‰é¡¹çš„git pullå‘½ä»¤ï¼šå…ˆå°è¯•å¿«è¿›åˆå¹¶ï¼Œå¦‚æœä¸è¡Œå†è¿›è¡Œæ­£å¸¸åˆå¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„æäº¤ã€‚ git pull --rebaseå‘½ä»¤ï¼šå…ˆå°è¯•å¿«è¿›åˆå¹¶ï¼Œå¦‚æœä¸è¡Œå†è¿›è¡Œå˜åŸºåˆå¹¶ã€‚ git pull --ff-onlyå‘½ä»¤ï¼šåªå°è¯•å¿«è¿›åˆå¹¶ï¼Œå¦‚æœä¸è¡Œåˆ™ç»ˆæ­¢å½“å‰åˆå¹¶æ“ä½œã€‚ git pull --no-ffå‘½ä»¤ï¼šç¦æ­¢å¿«è¿›åˆå¹¶ï¼Œå³ä¸ç®¡èƒ½ä¸èƒ½å¿«è¿›åˆå¹¶ï¼Œæœ€åéƒ½ä¼šè¿›è¡Œæ­£å¸¸åˆå¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„æäº¤ã€‚ ç†è§£git pullå‘½ä»¤å‡ºç°é—®é¢˜çš„åŸå›  æ‰§è¡Œä¸å¸¦ä»»ä½•é€‰é¡¹çš„git pullå‘½ä»¤æ—¶ï¼Œä¼šäº§ç”Ÿä¸‰ç§æ­§ä¹‰ï¼š git pull --ff-onlyã€git pull --no-ffã€git pull --rebaseï¼Œè€Œè¿™ä¸‰ç§ pull æ–¹å¼çš„åˆå¹¶ç­–ç•¥å·®å¼‚å¾ˆå¤§ï¼Œå³å¯¹æ•´ä¸ªåˆ†å¸ƒå¼é¡¹ç›®çš„ç‰ˆæœ¬ç®¡ç†æœ‰å¾ˆå¤§çš„å½±å“ä½œç”¨ã€‚ è€Œæˆ‘ä»¬æ‰§è¡Œä¸å¸¦ä»»ä½•é€‰é¡¹çš„git pullå‘½ä»¤æ—¶ï¼ŒGit å°±ä¸çŸ¥é“æˆ‘ä»¬åˆ°åº•æƒ³ç”¨å“ªç§åˆå¹¶ç­–ç•¥æ¥æ‰§è¡Œgit pullï¼Œå› æ­¤ Git ä¼šç»™å‡ºä¸Šè¿°çš„è­¦å‘Šæ–‡æ¡ˆï¼Œå»ºè®®æˆ‘ä»¬é€šè¿‡git configå‘½ä»¤æŒ‡å®šä¸å¸¦é€‰é¡¹çš„git pullå‘½ä»¤åº”è¯¥æŒ‰ç…§è¿™ä¸‰ç§åˆå¹¶ç­–ç•¥çš„å“ªç§æ¥æ‰§è¡Œã€‚ è§£å†³é—®é¢˜å†æ¬¡å›é¡¾é—®é¢˜æè¿°ï¼š 12345678910warning: ä¸å»ºè®®åœ¨æ²¡æœ‰ä¸ºåç¦»åˆ†æ”¯æŒ‡å®šåˆå¹¶ç­–ç•¥æ—¶æ‰§è¡Œpullæ“ä½œã€‚æ‚¨å¯ä»¥åœ¨æ‰§è¡Œä¸‹ä¸€æ¬¡pullæ“ä½œä¹‹å‰æ‰§è¡Œä¸‹é¢ä¸€æ¡å‘½ä»¤æ¥æŠ‘åˆ¶æœ¬æ¶ˆæ¯ï¼šgit config pull.rebase false # åˆå¹¶ï¼ˆé»˜è®¤ç¼ºçœç­–ç•¥ï¼‰git config pull.rebase true # å˜åŸºgit config pull.ff only # ä»…å¿«è¿›æ‚¨å¯ä»¥å°† &quot;git config&quot; æ›¿æ¢ä¸º &quot;git config --global&quot; ä»¥ä¾¿ä¸ºæ‰€æœ‰ä»“åº“è®¾ç½®ç¼ºçœçš„é…ç½®é¡¹ã€‚æ‚¨ä¹Ÿå¯ä»¥åœ¨æ¯æ¬¡æ‰§è¡Œ pull å‘½ä»¤æ—¶æ·»åŠ  --rebaseã€--no-rebaseï¼Œæˆ–è€… --ff-only å‚æ•°è¦†ç›–ç¼ºçœè®¾ç½®ã€‚ é¦–å…ˆç†è§£ä»€ä¹ˆæ˜¯åç¦»åˆ†æ”¯ï¼š å½“æœ¬åœ°çš„åˆ†æ”¯è½åäºè¿œç¨‹åˆ†æ”¯æ—¶ï¼Œæœ¬åœ°åˆ†æ”¯åˆè‡ªè¡Œä¿®æ”¹é¡¹ç›®æ–‡ä»¶ç”Ÿæˆäº†æ–°çš„æäº¤ï¼Œè¿™æ—¶æœ¬åœ°åˆ†æ”¯å†æ‰§è¡Œgit pullå‘½ä»¤å°±ä¸èƒ½å¿«è¿›åˆå¹¶ï¼Œå¹¶ä¸”è¿˜å®¹æ˜“å‘ç”Ÿå†²çªã€‚è¿™æ—¶çš„æœ¬åœ°åˆ†æ”¯ä¾¿ç§°ä¸ºåç¦»åˆ†æ”¯ï¼Œå› ä¸ºè¿™æ—¶çš„æœ¬åœ°åˆ†æ”¯çš„æœ€æ–°æäº¤è·Ÿè¿œç¨‹åˆ†æ”¯çš„æœ€æ–°æäº¤ä¸åŒï¼Œäº§ç”Ÿäº†åç¦»ã€‚ æ¥ç€ç†è§£ä»€ä¹ˆæ˜¯åˆå¹¶ç­–ç•¥ï¼š åˆå¹¶ç­–ç•¥ä¾¿æ˜¯ git merge --ff-onlyã€git merge --no-ffã€git merge --rebaseè¿™ä¸‰ç§å¸¸è§çš„åˆå¹¶ç­–ç•¥ï¼Œåˆ†åˆ«ä»£è¡¨ç€å¿«è¿›åˆå¹¶ã€éå¿«è¿›æ™®é€šåˆå¹¶ã€å˜åŸºåˆå¹¶ã€‚ é€šè¿‡ä¸Šè¿°çš„è§£æï¼Œç°åœ¨æˆ‘ä»¬ç†è§£äº†ä¸ºä»€ä¹ˆç†è§£git pullå‘½ä»¤å‡ºç°é—®é¢˜çš„åŸå› ï¼Œå› æ­¤åªè¦æˆ‘ä»¬åœ¨ Git ä¸­é…ç½®é€‰é¡¹pull.rebaseæˆ–pull.ffçš„å‚æ•°å³å¯ã€‚é…ç½®åï¼Œå³ä¾¿æˆ‘ä»¬å†æ‰§è¡Œä¸å¸¦ä»»ä½•é€‰é¡¹çš„git pullå‘½ä»¤ï¼Œä¹Ÿä¸ä¼šå†å‡ºç°ä¸Šè¿°çš„è­¦å‘Šæ–‡æ¡ˆå•¦ã€‚ è‹¥æ— ç‰¹æ®Šéœ€æ±‚æ‰§è¡Œï¼šgit config pull.rebase false(é»˜è®¤) å‚è€ƒé“¾æ¥ Git é—®é¢˜è§£å†³ï¼šwarning: Pulling without specifying how to reconcile divergent branches is discouraged. Git é—®é¢˜è§£å†³æ–¹æ¡ˆ:ä¸å»ºè®®åœ¨æ²¡æœ‰ä¸ºåç¦»åˆ†æ”¯æŒ‡å®šåˆå¹¶ç­–ç•¥æ—¶æ‰§è¡Œ pull æ“ä½œ(Pulling without specifying how to reconcile divergent branches) git åˆå¹¶æ“ä½œæ€»ç»“","link":"/articles/2021/11/15/git-pull-default/"},{"title":"git-repository","text":"æœ¬æ–‡è®²è¿°å¦‚ä½•ä¸Šä¼ æœ¬åœ°ä»£ç åˆ°è¿œç¨‹çš„ç©ºä»“åº“ã€‚ Create a new repository123456git clone https://github.com/MrSeaWave/tem.gitcd temtouch README.mdgit add README.mdgit commit -m &quot;add README&quot;git push -u origin master Push an existing folder123456cd existing_foldergit initgit remote add origin https://github.com/MrSeaWave/tem.gitgit add .git commit -m &quot;Initial commit&quot;git push -u origin master Push an existing Git repository12345cd existing_repogit remote rename origin old-origingit remote add origin https://github.com/MrSeaWave/tem.gitgit push -u origin --allgit push -u origin --tags","link":"/articles/2021/06/03/git-repository/"},{"title":"å¦‚ä½•ä½¿ç”¨Github Action è‡ªåŠ¨ lerna publish","text":"æœ¬æ–‡è®²è¿°çš„æ˜¯å¦‚ä½•åˆ©ç”¨Github Actionè‡ªåŠ¨åŒ–æ‰§è¡Œ lerna publishã€‚ åŠ¨æœºå¤§å®¶éƒ½æ˜ç™½ï¼Œäººæ˜¯å¾ˆæ‡’çš„ï¼Œè‡ªä»æ¥è§¦åˆ°Github Actionåæˆ‘å°±åœ¨æƒ³ï¼Œèƒ½ä¸èƒ½è§£æ”¾è‡ªå·±çš„åŒæ‰‹ï¼Œè®© Github å¸®æˆ‘æ¥è‡ªåŠ¨å‘åŒ…è‡³ npm ä»“åº“ã€‚ç”±æ­¤å¼•å‡ºäº†æœ¬æ–‡ã€‚ å‡è®¾ä½ å¯¹ Github Actions å·²ç»æœ‰äº†æœ€åŸºæœ¬çš„äº†è§£ã€‚å¦‚æœä¸å¤ªäº†è§£ï¼Œå¯ä»¥å‚è€ƒå¾€æœŸæ–‡ç« ï¼šgithub-actionså…¥é—¨ï¼Œ æ¯”å¦‚ï¼Œä½ çŸ¥é“ä¸‹é¢è¿™ä¸ªé…ç½®è¡¨ç¤ºå½“ push åˆ° master åˆ†æ”¯æ—¶ä¼šè§¦å‘ actionï¼Œä½œç”¨æ˜¯åœ¨ ubuntu ç¯å¢ƒä¸­æŠŠä»£ç  checkout å‡ºæ¥ï¼Œç„¶åä½¿ç”¨ node 14.X å…ˆåæ‰§è¡Œ npm i å’Œ npm run testã€‚ 123456789101112131415161718192021222324name: teston: push: branches: [ master ]jobs: test: runs-on: ubuntu-latest strategy: matrix: node-version: [14.x] steps: - name: checkout uses: actions/checkout@main - name: use Node.js uses: actions/setup-node@v2 with: node-version: ${{ matrix.node-version }} - name: install run: npm i - name: test run: npm run test é‚£ä¹ˆæ¥ä¸‹æ¥ç…§è‘«èŠ¦ç”»ç“¢å¼€å§‹é’ˆå¯¹publish è¿›è¡Œé’ˆå¯¹æ“ä½œã€‚ å¦‚ä½•è®¾ç½®å‡†å¤‡ Npm Tokenæˆ‘ä»¬éƒ½çŸ¥é“ï¼Œä»¥å¾€åœ¨å‘å¸ƒ npm åŒ…çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å…ˆè¿è¡Œ npm login ç™»å½•æˆ‘ä»¬è‡ªå·±çš„è´¦å·ï¼Œç”¨æ¥éªŒè¯æˆ‘ä»¬çš„èº«ä»½ï¼Œä½¿ç”¨ Github Action ä¹Ÿè¦éªŒè¯æˆ‘ä»¬çš„èº«ä»½ï¼Œä¸è¿‡éœ€è¦ç”¨å¦å¤–ä¸€ç§æ–¹å¼â€”&gt;ä½¿ç”¨ npm tokenã€‚ ç™»å½• npm åï¼Œæ‰¾åˆ°ä¸ªäººä¸­å¿ƒèœå•é‡Œé¢çš„ â€œAccess Tokensâ€ èœå•ï¼Œç„¶åç‚¹å‡»å³ä¸Šè§’çš„ â€œGenerate New Tokenâ€ ç”Ÿæˆ token æŒ‰é’®ï¼Œç”Ÿæˆä¸€ä¸ªæ–° token ï¼Œç„¶åæŠŠæ–° token å¤åˆ¶å‡ºæ¥ï¼Œæˆ‘ä»¬åé¢æ­¥éª¤è¦ç”¨åˆ°ã€‚ æ³¨ï¼šnpm access token æœ‰ä¸‰ç§ï¼Œä½†æ—¢æœ‰ publish æƒé™ä¸”å¯ç»•è¿‡ 2FA çš„åªæœ‰ automation tokenã€‚ æ”¾ç½® Npm Tokenæ‰¾åˆ°ä½ çš„ Github é¡¹ç›®ï¼Œç„¶åç‚¹å‡» Setting é€‰é¡¹ï¼Œå¦‚å›¾ï¼š ç„¶ååœ¨å·¦ä¾§èœå•ä¸­æ‰¾åˆ° Secrets ï¼Œåœ¨ç‚¹å‡» New repository secret æŒ‰é’®ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ç§˜é’¥ï¼Œè¿™é‡Œçš„ name èµ·åä¸º NPM_TOKENï¼Œä¸‹é¢è¦ç”¨åˆ°ï¼Œvalue åˆ™æ˜¯åˆšæ‰ npm ä¸­ç”Ÿæˆçš„ tokenï¼Œ å¦‚å›¾ï¼Œ è®¾å®šé’ˆå¯¹ CI ä½¿ç”¨çš„ npm scriptsä»¥ä¸‹ä¸º package.json ä¸­çš„scriptsè®¾å®šï¼š 12345{ &quot;scripts&quot;: { &quot;release&quot;: &quot;npm run build &amp;&amp; lerna publish --yes --no-verify-access&quot; }} é€šå¸¸åœ¨å‘å¸ƒä¹‹å‰ä¼šè¿›è¡Œæ‰“åŒ…ï¼Œæ‰€ä»¥è¿™é‡ŒæŠŠbuild è„šæœ¬æ”¾åœ¨ä¸€èµ·æ¥ä½¿ç”¨ã€‚ Lerna åœ¨ä½¿ç”¨ npm çš„ automation token ä¼šé‡åˆ°é—®é¢˜ï¼Œå¿…é¡»ä½¿ç”¨ --no-verify-access ç»•è¿‡ã€‚è¯¦æƒ…å‚è€ƒ issueã€‚ è®¾å®š Github Actionså‰ç½®æ¡ä»¶å·²ç»å®Œæˆï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åœ¨æˆ‘ä»¬çš„æœ¬åœ°é¡¹ç›®ä¸­ï¼Œåˆ›å»º .github\\workflows\\auto-publish.yml æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364# è‡ªåŠ¨å‘å¸ƒname: Auto Publishon: push: # é’ˆå¯¹æŒ‡å®šåˆ†æ”¯ branches: - master # é’ˆå¯¹æŒ‡å®šæ–‡ä»¶ä¿®æ”¹ï¼Œè¿™é‡Œå¯å‚è€ƒhttps://docs.github.com/en/actions/learn-github-actions/workflow-syntax-for-github-actions#onpushpull_requestpaths paths: - 'packages/**/*.js' - 'packages/**/*.scss' - '**/package*.json' # è®©ä½ èƒ½å¤Ÿæ‰‹åŠ¨è§¦å‘ï¼Œæ–¹ä¾¿æµ‹è¯•ï¼Œå‚è€ƒhttps://docs.github.com/en/actions/learn-github-actions/events-that-trigger-workflows#workflow_dispatch workflow_dispatch:jobs: auto-publish: runs-on: ubuntu-latest strategy: matrix: node-version: [14.x] steps: - name: Checkout uses: actions/checkout@main with: # 0 indicates all history for all branches and tagsï¼Œä¿ç•™æ‰€æœ‰å†å²ï¼Œä¸ºäº†è®©lerna publish æ—¶å¯ä»¥ç”Ÿæˆæœ‰æ•ˆçš„change log fetch-depth: '0' # è®¾å®šnode ç¯å¢ƒ - name: Use Node.js uses: actions/setup-node@v2 with: node-version: ${{ matrix.node-version }} registry-url: https://registry.npmjs.org/ # è®¾å®šå®‰è£…å·¥å…·--&gt; yarn - name: Global install Yarn ğŸ”¨ run: npm install -g yarn - name: Print Env ğŸ“„ run: | echo &quot;node&quot; node -v echo &quot;npm&quot; npm -v echo &quot;yarn&quot; yarn -v # å®‰è£…ä¾èµ– - name: Install dependencies ğŸ“¦ï¸ run: yarn install - name: Setup credentials # lerna publish åä¼šæäº¤ä»£ç åˆ°masteråˆ†æ”¯ï¼Œè¿™é‡Œæ˜¯ä¸ºäº†é…ç½® git ç”¨æˆ·ï¼ŒåŒºåˆ†ç”¨æˆ· run: | git config --global user.email action@github.com git config --global user.name Github Action # run: | # git config --global user.email MrDaemon@outlook.com # git config --global user.name Sea - name: Publish ğŸš€ run: npm run release # åˆ©ç”¨ automation token publish è‡³ npmï¼Œè¿™é‡ŒNPM_TOKEN å°±æ˜¯æˆ‘ä»¬ä¸Šæ–‡ä¸­è®¾å®šçš„ env: NODE_AUTH_TOKEN: ${{secrets.NPM_TOKEN}} åˆ°è¿™é‡Œå°±å…¨éƒ¨è®¾å®šå®Œæ¯•äº†ã€‚æ¥ä¸‹ä¾†åªéœ€è¦ï¼š åœ¨ master ä¸Šä¿®æ”¹æŒ‡å®šæ–‡ä»¶å¤¹ä»£ç ï¼Œå¹¶ pushã€‚ è§¦å‘ Github Actions çš„ auto-publish jobï¼Œå®ƒä¼šè¿è¡Œè„šæœ¬è‡ªåŠ¨å‘å¸ƒè‡³ npmã€‚ å¯å‚è€ƒï¼šMrSeaWave/lerna-demo å¯èƒ½ä½ ä¼šæœ‰å¦‚ä¸‹çš„ç–‘é—®ï¼Œlerna publish åä¹Ÿä¼šä¿®æ”¹ä»£ç ï¼ˆå¦‚ï¼špackage.json ä¿®æ”¹ï¼‰ï¼Œå¹¶ push åˆ° masterï¼Œé‚£ä¹ˆä¼šä¸ä¼šåœ¨è¿™ä¸ªè„šæœ¬ä¸Šä¸€ç›´å¥—å¨ƒï¼Œæ— é™å¾ªç¯çš„è¿è¡Œå‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯ä¸ä¼šçš„ï¼Œå®˜æ–¹è§£é‡Šå¦‚ä¸‹: å‚è€ƒé“¾æ¥ workflow-syntax-for-github-actions#onpushpull_requestpaths ç”¨ Lerna ç®¡ç†å…±åŒå‰ç«¯è¨­å®šï¼Œä¸¦é€é Github Actions è‡ªå‹•ç™¼å¸ƒè‡³ npm Github Actions å®ç”¨å‚è€ƒ","link":"/articles/2021/12/16/github-actions-auto-publish/"},{"title":"GitHub Actions å¦‚ä½•ä½¿ç”¨ç¼“å­˜","text":"å‰è¨€åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­ ã€Šgithub-actionså…¥é—¨ã€‹ã€Š å¦‚ä½•ä½¿ç”¨Github Action è‡ªåŠ¨ lerna publish ã€‹ä¸­ï¼Œä»‹ç»äº† Github Actions çš„ä¸€äº›ç”¨æ³•ï¼Œå…¶ä¸­åœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼Œä¼šå®‰è£…å¾ˆå¤šç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œè€Œè¿™äº›ä¾èµ–ä¼šå¾ˆè€—æ—¶ï¼Œå› æ­¤å¯ä»¥è€ƒè™‘æ˜¯å¦æœ‰ä¼˜åŒ–çš„ç©ºé—´ï¼Œå¹¶ä¸éœ€è¦æ¯æ¬¡éƒ½é‡æ–°ä¸‹è½½ï¼Œè€Œæ˜¯å¯ä»¥å°†è¿™äº›ä¾èµ–ç¼“å­˜èµ·æ¥ï¼ŒåŠ å¿«æ„å»ºé€Ÿåº¦ã€‚ è¿™é‡Œä¸“é—¨å¼€ä¸€ç¯‡æ–‡ç« ï¼Œæ¥è®°å½• Github Actions çš„ç¼“å­˜ä¼˜åŒ–ç›¸å…³çš„çŸ¥è¯†ã€‚ Cacheåœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼Œè¿›è¡Œç¼“å­˜ï¼ŒåŠ å¿«æ„å»ºé€Ÿåº¦ã€‚ ä¸»è¦ä½¿ç”¨action/cacheã€‚ åŸç†ç¼“å­˜å¤§è‡´åŸç†å°±æ˜¯æŠŠç›®æ ‡è·¯å¾„æ‰“åŒ…å­˜å‚¨ä¸‹æ¥ï¼Œå¹¶è®°å½•ä¸€ä¸ªå”¯ä¸€ keyã€‚ ä¸‹æ¬¡å¯åŠ¨æ—¶ï¼Œæ ¹æ® key å»æŸ¥æ‰¾ã€‚æ‰¾åˆ°äº†å°±å†æŒ‰è·¯å¾„è§£å‹å¼€ã€‚ ç¼“å­˜å¤§å°é™åˆ¶æ³¨æ„ç¼“å­˜æœ‰å¤§å°é™åˆ¶ã€‚å¯¹äºå…è´¹ç”¨æˆ·ï¼Œå•ä¸ªåŒ…ä¸èƒ½è¶…è¿‡ 500MBï¼Œæ•´ä¸ªä»“åº“çš„ç¼“å­˜ä¸èƒ½è¶…è¿‡ 2Gã€‚ ç¼“å­˜è¿ä½œæµç¨‹è¯¥actionä¸»è¦åŒ…å«ä¸‰ä¸ªå±æ€§ï¼š path: éœ€è¦ç¼“å­˜çš„æ–‡ä»¶çš„è·¯å¾„ key: å¯¹ç¼“å­˜çš„æ–‡ä»¶æŒ‡å®šçš„å”¯ä¸€è¡¨ç¤º restore-key: å½“ key æ²¡æœ‰å‘½ä¸­ç¼“å­˜æ—¶ï¼Œç”¨äºæ¢å¤ç¼“å­˜ key å€¼çš„æœ‰åºåˆ—è¡¨ ä¸‹é¢ä»¥nodeé¡¹ç›®ä¸ºä¾‹ï¼Œå°†node_modulesç¼“å­˜èµ·æ¥ã€‚ è¿™é‡Œåªåˆ—å‡ºå…³é”®æ­¥éª¤ï¼š 12345678910111213steps: - name: Cache node_modules id: cache-node-modules uses: actions/cache@v2 with: path: node_modules key: ${{ runner.os }}-${{ matrix.node-version }}-nodeModules-${{ hashFiles('package-lock.json') }}-${{ hashFiles('package.json') }} restore-keys: | ${{ runner.os }}-${{ matrix.node-version }}-nodeModules- - name: Install dependencies ğŸ“¦ï¸ if: steps.cache-node-modules.outputs.cache-hit != 'true' run: npm install é¦–å…ˆä½¿ç”¨action/cacheæŒ‡å®špathå’Œkeyï¼› è¿™é‡Œçš„keyåŒ…å« OS ä¿¡æ¯ã€node ç‰ˆæœ¬ å’Œ package-lock.jsonå’Œpackage.jsonæ–‡ä»¶çš„ hash å€¼ï¼Œé€šå¸¸ OS æ˜¯å›ºå®šä¸‹æ¥çš„ï¼› è€Œä¸€æ—¦ä½¿ç”¨äº†æ–°çš„ç¬¬ä¸‰æ–¹åº“ï¼Œpackage-lock.json &amp; package.jsonçš„ hash å€¼å°±ä¼šæ”¹å˜ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„keyï¼› action/cacheä¼šæŠ›å‡ºä¸€ä¸ªcache-hitçš„è¾“å‡ºï¼Œå¦‚æœæ‰¾åˆ°å¯¹åº”keyçš„ç¼“å­˜ï¼Œå€¼ä¸ºtrueã€‚ åœ¨éšåçš„å®‰è£…æ­¥éª¤ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ifå¯¹cache-hitåšåˆ¤æ–­ã€‚å¦‚æœæ‰¾åˆ°ç¼“å­˜å°±è·³è¿‡ï¼Œå¦åˆ™å°±å®‰è£…ä¾èµ–ã€‚ åœ¨ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶ï¼Œcache æ‰¾ä¸åˆ°ï¼Œæ‰§è¡Œnpm installï¼Œåœ¨éšåçš„ post cache æ­¥éª¤ä¸­å¯¹node_modulesåšç¼“å­˜ã€‚ ç¬¬äºŒæ¬¡è¿è¡Œæ—¶ï¼Œæ‰¾åˆ° cache, åˆ™è·³è¿‡npm installï¼Œç›´æ¥ä½¿ç”¨ç¼“å­˜ï¼š æ›´å¤šä½¿ç”¨è¯·å‚è€ƒå®˜ç½‘ &amp; actions/cache &amp; Cache node - npm å‚è€ƒé“¾æ¥ Caching dependencies to speed up workflows Cache Examples Qt ä½¿ç”¨ github-Actions ç¼“å­˜ä¼˜åŒ– Github Actions æ€»ç»“","link":"/articles/2021/12/17/github-actions-cache/"},{"title":"GitHub Actions å¦‚ä½•æ‰‹åŠ¨è§¦å‘","text":"å‰è¨€GitHub AcÂ­tions åœ¨æ—©æœŸå¯èƒ½æ˜¯å¤„äºåˆçº§å¼€å‘é˜¶æ®µï¼Œå®ƒçš„åŠŸèƒ½éå¸¸åŸç”Ÿï¼Œç”šè‡³æ²¡æœ‰ç›´æ¥æä¾›ä¸€ä¸ªæ‰‹åŠ¨è§¦å‘æŒ‰é’®ã€‚ä¸€èˆ¬çš„è§¦å‘æ–¹å¼ä¸ºä»£ç å˜åŠ¨ï¼ˆpush ã€pull_requestï¼‰ï¼Œå‘å¸ƒæ–‡ä»¶ï¼ˆreleaseï¼‰æˆ–è€…å®šæ—¶ï¼ˆscheduleï¼‰ç­‰ï¼Œè¿™äº›å±äºè‡ªåŠ¨è§¦å‘æ–¹å¼ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨ GitHub ä»“åº“æ²¡æœ‰ä»»ä½•å˜åŠ¨çš„æƒ…å†µä¸‹æ‰‹åŠ¨è§¦å‘å°±éœ€è¦ä½¿ç”¨ä¸€äº›å¥‡æŠ€æ·«å·§ã€‚ç»å†äº†æ¼«é•¿çš„åŠŸèƒ½è¿­ä»£ï¼Œå®˜æ–¹æœ€ç»ˆæ­£å¼å¸¦æ¥äº†æ‰‹åŠ¨è§¦å‘åŠŸèƒ½ï¼Œè¿™ä¹Ÿå®£å‘Šäº†ä¸€ä¸ªçæŠ˜è…¾æ—¶ä»£çš„ç»“æŸï¼Œä¸€ä¸ªå´­æ–°çš„æŠ˜è…¾æ—¶ä»£å¼€å§‹ã€‚ æ‰‹åŠ¨è§¦å‘workflow_dispatchåœ¨æ—¶éš”å¤šå¹´å GitHub AcÂ­tions ç»ˆäºå¼•å…¥äº†ä¸€ä¸ªæ‰‹åŠ¨è§¦å‘çš„æŒ‰é’®ï¼Œä¸è¿‡é»˜è®¤æ˜¯ä¸å¼€å¯çš„ï¼Œéœ€è¦åœ¨ workÂ­flow æ–‡ä»¶ä¸­è®¾ç½® workflow_dispatch è§¦å‘äº‹ä»¶ã€‚ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼š 12on: workflow_dispatch: è®¾ç½®å¥½è§¦å‘äº‹ä»¶åå°±èƒ½åœ¨ç›¸å…³ workÂ­flow çš„é¡µé¢ä¸‹çœ‹åˆ° Run workflow æŒ‰é’®ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­£å¦‚å®˜ç½‘æ‰€è¯´ä½ çš„è¿™ä¸ª workflow å¿…é¡»æ˜¯åœ¨é»˜è®¤åˆ†æ”¯ä¸Šã€‚ æ›´å¤æ‚ä¸€ç‚¹è¿˜å¯ä»¥å®ç°åœ¨æ‰‹åŠ¨è§¦å‘æ—¶å¡«å†™å‚æ•°ï¼Œæ§åˆ¶ä¸åŒçš„å·¥ä½œæµç¨‹æˆ–è€…ç›´æ¥æ”¹å†™æŸä¸ªç¯å¢ƒå˜é‡ç­‰æ“ä½œã€‚ç›®å‰å®˜æ–¹æ–‡æ¡£å·²ç»ç›¸å½“å®Œå–„ï¼Œæƒ³è¦å»æ·±å…¥å¯ä»¥å»æŸ¥çœ‹ã€‚ ä¸€ä¸ªå¡«å†™å‚æ•°çš„ä¾‹å­ï¼š 123456789101112131415161718192021name: Manual Triggeron: # æ‰‹åŠ¨è§¦å‘äº‹ä»¶ workflow_dispatch: inputs: logLevel: description: 'Log level' required: true default: 'warning' tags: description: 'Test scenario tags'jobs: printInputs: runs-on: ubuntu-latest steps: - run: | echo &quot;Log level: ${{ github.event.inputs.logLevel }}&quot; echo &quot;Tags: ${{ github.event.inputs.tags }}&quot; echo &quot;Inputs: ${{ toJson(github.event.inputs) }}&quot; å¦‚æœæˆ‘ä»¬åœ¨é…ç½®ä¸­å®šä¹‰äº†å‚æ•°ï¼Œåˆ™æ‰‹åŠ¨æ‰§è¡Œæ—¶ä¹Ÿä¼šéœ€è¦å¡«å‚æ•°ã€‚ä¸Šé¢åœ¨workflow_dispatchä¸‹é€šè¿‡å®šä¹‰inputsè®¾å®šå‚æ•°ã€‚åœ¨jobsä¸­æˆ‘ä»¬åˆ™å¯ä»¥åœ¨github.event.inputsä¸­å–åˆ°å¯¹åº”çš„å‚æ•°ã€‚ä¸‹é¢æ˜¯ä¸Šè¿°ä»£ç è¿è¡Œç»“æœï¼š repository_dispatchrepository_dispatchè®©ç”¨æˆ·é€šè¿‡ API æ‰¹é‡æ‰‹åŠ¨æ‰§è¡Œï¼Œè¿™ä¸ª event çš„ä¸»è¦ä½œç”¨æ˜¯è®©å…¶ä»–çš„ç¨‹åºé€šè¿‡ api è°ƒç”¨ï¼Œé€šè¿‡è‡ªå®šä¹‰äº‹ä»¶ç±»å‹æ¥é©±åŠ¨æ‰§è¡Œï¼Œè¿™ä¸ª event å¯¹åº”çš„ workflow ä¹Ÿå¿…é¡»åœ¨é»˜è®¤åˆ†æ”¯ä¸‹å®šä¹‰ã€‚å…·ä½“å¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œä¸‹é¢æ˜¯ä¸ªç®€å•ä¾‹å­ æ¯”å¦‚æˆ‘ä»¬å®šä¹‰: 123on: repository_dispatch: types: [opened, deleted] ç„¶åæ‰§è¡Œ http è¯·æ±‚: 12345curl \\-X POST \\-H &quot;Accept: application/vnd.github.v3+json&quot; \\https://api.github.com/repos/{owner}/{repo_name}/dispatches \\-d '{&quot;event_type&quot;:&quot;opened&quot;}' é‚£ä¹ˆå°±å¯ä»¥è¢«æ‰§è¡Œäº†ï¼Œå…¶ä¸­çš„opened, deletedæ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„äº‹ä»¶åå­—ï¼Œclient_payloadæ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„é¢å¤–ä¿¡æ¯æ•°æ®ã€‚ è¿è¡Œå¦‚ä¸‹ï¼š 12345678910curl --location --request POST 'https://api.github.com/repos/MrSeaWave/lerna-demo/dispatches' \\--header 'Accept: application/vnd.github.v3+json' \\--header 'Authorization: Bearer è‡ªå®šä¹‰çš„github token' \\--header 'Content-Type: application/json' \\--data-raw '{ &quot;event_type&quot;: &quot;opened&quot;, &quot;client_payload&quot;: { &quot;text&quot;: &quot;my custom text here&quot; }}' å…¶ä¸­åœ¨Authorizationä¸€è§ˆä¸­å¢åŠ åœ¨githubä¸­ç”³è¯·çš„tokenï¼Œå¦åˆ™å®¹æ˜“å‡ºç°&quot;message&quot;: &quot;Not Found&quot;çš„ç»“æœï¼Œå°±åƒè¿™ä¸ªé—®é¢˜ä¸€æ ·ã€‚ ä¸Šé¢è¿è¡ŒæˆåŠŸç»“æœï¼š æ›´å¤šç”¨æ³•è¯·å…³æ³¨ Github å®˜ç½‘~ å‚è€ƒé“¾æ¥ workflow_dispatch manually-running-a-workflow repository_dispatch Create a repository dispatch event GitHub Actions æ‰‹åŠ¨è§¦å‘æ–¹å¼è¿›åŒ–å² 10 ä¸ªä½ è¯¥äº†è§£çš„ GitHub Actions è¿›é˜¶æŠ€å·§ ä½¿ç”¨ GithubActions è‡ªåŠ¨åŒ–å·¥ä½œæµ","link":"/articles/2021/12/17/github-actions-manual-trigger/"},{"title":"remote Support for password authentication was removed on August 13, 2021","text":"æœ¬æ–‡ä¸»è¦ä»‹ç» github å¼€å‘äººå‘˜åœ¨ä¸ƒå¤•æäº‹æƒ…ï¼šremote: Support for password authentication was removed on August 13, 2021. é—®é¢˜æè¿°å¦‚æœä½ åœ¨ä¸ƒå¤•ï¼ˆæ²¡é”™å°±æ˜¯ 2021 å¹´ 8 æœˆ 14 æ—¥ï¼‰çš„è¿™ä¸€å¤©åˆšå¥½åŠ ç­ï¼Œåˆåˆšå¥½å»è®¿é—®äº†å…¨çƒæœ€å¤§çš„åŒæ€§äº¤å‹ç½‘ç«™ï¼Œåˆåˆšå¥½å»æ›´æ–°æäº¤ä»£ç ï¼Œåˆæˆ–ä½ åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ä»“åº“é€ç»™è‡ªå·±ï¼Œåˆåˆšå¥½æƒ³æŠŠè¿™ä¸ªä»“åº“é€ç»™ï¼ˆpushï¼‰githubï¼Œä½ å°±åˆšå¥½ä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼šremote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead. å…·ä½“å¦‚ä¸‹ï¼š 1234$ git pushremote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.remote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.fatal: Authentication failed for 'https://github.com/MrSeaWave/blogs.git/' è¿™æ˜¯ä»€ä¹ˆæƒ…å†µï¼Œå¤§æ¦‚æ„æ€å°±æ˜¯ä½ åŸå…ˆçš„å¯†ç å‡­è¯ä»2021å¹´8æœˆ13æ—¥å¼€å§‹å°±ä¸èƒ½ç”¨äº†ï¼Œå¿…é¡»ä½¿ç”¨ä¸ªäººè®¿é—®ä»¤ç‰Œï¼ˆpersonal access tokenï¼‰ï¼Œå°±æ˜¯æŠŠä½ çš„å¯†ç æ›¿æ¢æˆtokenï¼ github ä¸ºä»€ä¹ˆè¦æŠŠå¯†ç æ¢æˆ tokenå®˜æ–¹è§£é‡Š ä¿®æ”¹ä¸º token çš„å¥½å¤„ ä»¤ç‰Œï¼ˆtokenï¼‰ä¸åŸºäºå¯†ç çš„èº«ä»½éªŒè¯ç›¸æ¯”ï¼Œä»¤ç‰Œæä¾›äº†è®¸å¤šå®‰å…¨ä¼˜åŠ¿ï¼š å”¯ä¸€ï¼š ä»¤ç‰Œç‰¹å®šäº GitHubï¼Œå¯ä»¥æŒ‰ä½¿ç”¨æˆ–æŒ‰è®¾å¤‡ç”Ÿæˆ å¯æ’¤é”€ï¼šå¯ä»¥éšæ—¶å•ç‹¬æ’¤é”€ä»¤ç‰Œï¼Œè€Œæ— éœ€æ›´æ–°æœªå—å½±å“çš„å‡­æ® æœ‰é™ ï¼š ä»¤ç‰Œå¯ä»¥ç¼©å°èŒƒå›´ä»¥ä»…å…è®¸ç”¨ä¾‹æ‰€éœ€çš„è®¿é—® éšæœºï¼šä»¤ç‰Œä¸éœ€è¦è®°ä½æˆ–å®šæœŸè¾“å…¥çš„æ›´ç®€å•å¯†ç å¯èƒ½ä¼šå—åˆ°çš„å­—å…¸ç±»å‹æˆ–è›®åŠ›å°è¯•çš„å½±å“ å¦‚ä½•ç”Ÿæˆè‡ªå·±çš„ token åœ¨ä¸ªäººè®¾ç½®é¡µé¢ï¼Œæ‰¾åˆ°Setting é“¾æ¥ 2ã€é€‰æ‹©è®¾ç½®Developer settingï¼Œé€‰æ‹©ä¸ªäººè®¿é—®ä»¤ç‰ŒPersonal access tokensï¼Œç„¶åé€‰ä¸­ç”Ÿæˆä»¤ç‰ŒGenerate new token è®¾ç½® token çš„æœ‰æ•ˆæœŸï¼Œè®¿é—®æƒé™ç­‰ é€‰æ‹©è¦æˆäºˆæ­¤ä»¤ç‰Œtokençš„èŒƒå›´æˆ–æƒé™ã€‚ è¦ä½¿ç”¨tokenä»å‘½ä»¤è¡Œè®¿é—®ä»“åº“ï¼Œè¯·é€‰æ‹©repoã€‚ è¦ä½¿ç”¨tokenä»å‘½ä»¤è¡Œåˆ é™¤ä»“åº“ï¼Œè¯·é€‰æ‹©delete_repo å…¶ä»–æ ¹æ®éœ€è¦è¿›è¡Œå‹¾é€‰ ç”Ÿæˆä»¤ç‰ŒGenerate token æ³¨æ„ï¼šè®°å¾—åŠæ—¶æŠŠä½ çš„ token ä¿å­˜ä¸‹æ¥ï¼Œå› ä¸ºä½ å†æ¬¡åˆ·æ–°ç½‘é¡µçš„æ—¶å€™ï¼Œä½ å·²ç»æ²¡æœ‰åŠæ³•çœ‹åˆ°å®ƒäº† ä¹‹åç”¨è‡ªå·±ç”Ÿæˆçš„tokenç™»å½•ï¼ŒæŠŠä¸Šé¢ç”Ÿæˆçš„tokenç²˜è´´åˆ°è¾“å…¥å¯†ç çš„ä½ç½®ï¼Œç„¶åæˆåŠŸpushä»£ç ï¼ 1234567891011121314$ git pushUsername for 'https://github.com': MrSeaWavePassword for 'https://MrSeaWave@github.com':husky &gt; pre-push (node v14.17.5)---- push files ----Enumerating objects: 11, done.Counting objects: 100% (11/11), done.Delta compression using up to 4 threadsCompressing objects: 100% (5/5), done.Writing objects: 100% (6/6), 755 bytes | 755.00 KiB/s, done.Total 6 (delta 4), reused 0 (delta 0)remote: Resolving deltas: 100% (4/4), completed with 4 local objects.To https://github.com/MrSeaWave/blogs.git 5162910..388fa6f master -&gt; master ä¹Ÿå¯ä»¥ æŠŠtokenç›´æ¥æ·»åŠ è¿œç¨‹ä»“åº“é“¾æ¥ä¸­ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…åŒä¸€ä¸ªä»“åº“æ¯æ¬¡æäº¤ä»£ç éƒ½è¦è¾“å…¥tokenäº†ï¼š git remote set-url origin https://&lt;your_token&gt;@github.com/&lt;USERNAME&gt;/&lt;REPO&gt;.git &lt;your_token&gt;ï¼šæ¢æˆä½ è‡ªå·±å¾—åˆ°çš„ token &lt;USERNAME&gt;ï¼šæ˜¯ä½ è‡ªå·±githubçš„ç”¨æˆ·å &lt;REPO&gt;ï¼šæ˜¯ä½ çš„ä»“åº“åç§° ä¾‹å¦‚ï¼š git remote set-url origin https://ghp_LJGJUevVou3FXXXXXXXXXXXXXX@github.com/MrSeaWave/blogs/ FAQ å¦‚æœ push ç­‰æ“ä½œæ²¡æœ‰å‡ºç°è¾“å…¥å¯†ç é€‰é¡¹ï¼Œè¯·å…ˆè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼Œä¹‹åå°±å¯ä»¥çœ‹åˆ°è¾“å…¥å¯†ç é€‰é¡¹äº† git config --system --unset credential.helper SourceTreeä¹Ÿé‡åˆ°ç±»ä¼¼é—®é¢˜ å½“SourceTreeæäº¤æ—¶é‡åˆ°ï¼š 12345678910111213141516Pushing to https://github.com/MrSeaWave/MacApp.gitremote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.remote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.fatal: Authentication failed for 'https://github.com/MrSeaWave/MacApp.git/'Pushing to https://github.com/MrSeaWave/MacApp.gitremote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.remote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.fatal: Authentication failed for 'https://github.com/MrSeaWave/MacApp.git/'Pushing to https://github.com/MrSeaWave/MacApp.gitremote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.remote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.fatal: Authentication failed for 'https://github.com/MrSeaWave/MacApp.git/'Pushing to https://github.com/MrSeaWave/MacApp.gitremote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.remote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.fatal: Authentication failed for 'https://github.com/MrSeaWave/MacApp.git/' å¯ä»¥git remote set-url origin https://&lt;your_token&gt;@github.com/&lt;USERNAME&gt;/&lt;REPO&gt;.git ä¹Ÿå¯ä»¥ï¼šï¼ˆå¯†ç å¤„å¡«å†™tokenï¼‰ å‚è€ƒé“¾æ¥ Token authentication requirements for Git operations Creating a personal access token github å¼€å‘äººå‘˜åœ¨ä¸ƒå¤•æäº‹æƒ…ï¼šremote: Support for password authentication was removed on August 13, 2021. GitHub ä¸å†æ”¯æŒå¯†ç éªŒè¯è§£å†³æ–¹æ¡ˆï¼šSSH å…å¯†ä¸ Token ç™»å½•é…ç½®","link":"/articles/2021/08/29/github-login-token/"},{"title":"hexo ç›¸å…³é—®é¢˜ä»¥åŠä¼˜åŒ–é…ç½®","text":"å‰è¨€æœ¬æ–‡è®°å½•ä¸€äº› hexo å‡ºç°çš„é—®é¢˜åŠå…¶è§£å†³æ–¹æ¡ˆï¼Œä»¥åŠç›¸å…³é…ç½® hexo ç¯å¢ƒ env1234hexo: 5.3.0hexo-cli: 4.2.0os: Darwin 19.6.0 darwin x64node: 15.2.1 ç¦æ­¢çˆ¬è™«è·Ÿè¸ªå¤–é“¾æœç´¢å¼•æ“çš„èœ˜è››æ¥çˆ¬å–æ–‡ç« å†…å®¹æ—¶ï¼Œå¦‚æœä½ çš„æ–‡ç« ä¸­æœ‰å¤–éƒ¨é“¾æ¥ï¼Œå®ƒå°±ä¼šåˆ°å¤–é“¾çš„ç«™ç‚¹å»çˆ¬å–ï¼Œæœ‰å¯èƒ½å†ä¹Ÿä¸ä¼šå›æ¥äº†ã€‚ä¸ºäº†å‘Šè¯‰æœç´¢å¼•æ“ä¸è¦è·Ÿè¸ªè¿™äº›å¤–é“¾ï¼Œéœ€è¦åœ¨è¿™äº›é“¾æ¥æ ‡ç­¾ä¸­æ·»åŠ å±æ€§ rel=&quot;nofollow&quot; æˆ– rel=&quot;external nofollow&quot; ã€‚ rel=&quot;nofollow&quot; æ˜¯é€šç”¨æ ¼å¼ï¼Œå³æ˜¯å‘Šè¯‰æœç´¢å¼•æ“ä¸è¦è·Ÿè¸ªæ­¤é“¾æ¥ï¼Œrel=&quot;external nofollow&quot; æ˜¯æ›´å…·ä½“çš„å†™æ³•ï¼Œè¿›ä¸€æ­¥å‘Šè¯‰æœç´¢å¼•æ“è¿™æ˜¯ä¸€ä¸ªå¤–éƒ¨çš„é“¾æ¥ï¼Œä¸è¦è·Ÿè¸ªå®ƒã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ hexo-filter-nofollow è‡ªåŠ¨ä¸º Hexo åšå®¢ä¸­çš„å¤–é“¾æ·»åŠ  rel=&quot;external nofollow noreferrer&quot;çš„æ’ä»¶ï¼Œä»è€Œæ”¹å–„ä½ çš„ç½‘ç«™çš„å®‰å…¨æ€§å’Œ SEOã€‚ å®‰è£…install1$ npm i hexo-filter-nofollow --save ç¼–è¾‘ _config.ymlåœ¨ ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.yml æœ«å°¾æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š _config.yml123456nofollow: enable: true field: site exclude: - 'exclude1.com' - 'exclude2.com' enable - æ˜¯å¦å¯ç”¨æ’ä»¶ï¼Œé»˜è®¤å€¼ä¸º true field - æ’ä»¶çš„å¤„ç†èŒƒå›´ï¼Œé»˜è®¤å€¼ä¸º siteï¼Œå¯é€‰ post æˆ– site post - ä»…å¤„ç†æ–‡ç« å†…å®¹ site - å¤„ç†å…¨ç«™æ‰€æœ‰é¡µé¢ exclude - åŸŸåç™½åå•ï¼Œä¸åŒçš„å­åŸŸåè§†ä¸ºä¸åŒçš„åŸŸåï¼ˆå¦‚ wwwï¼‰ exclude1.comä¸åŒ…æ‹¬ www.exclude1.com æˆ– en.exclude1.com æ°¸ä¹…é“¾æ¥å› é“¾æ¥å±‚çº§è¿‡æ·±ã€é“¾æ¥ä¸­åŒ…å«ä¸­æ–‡ã€ title å˜åŠ¨å¯¼è‡´é“¾æ¥ä¹Ÿç»å¸¸å‘ç”Ÿå˜åŠ¨ï¼Œè¿™äº›éƒ½ä¸åˆ©äº SEO ã€‚ æ–¹æ³•ä¸€ï¼šæŒ‰ç…§æ–‡ä»¶åç§°ç”Ÿæˆå‡è®¾æ–‡ç« ï¼š md123456# source/_posts/lorem/hello-world.mdtitle: Hello World Pagedate: 2013-07-14 17:01:34categories: - foo - bar æ ¹æ®å®˜ç½‘ä»‹ç»åœ¨_config.ymlä¸­è®¾å®šï¼š _config.yml123456# title: æ–‡ä»¶åç§° (relative to â€œsource/_posts/â€œ folder)permalink: :title/# url:-----&gt; /lorem/hello-world/# name: æ–‡ä»¶åç§°permalink: :name/# url:-----&gt; /hello-world/ é—®é¢˜æ¥äº†ï¼Œå¦‚æœæŒ‰ç…§æ–‡ä»¶åç§°ç”Ÿæˆæ°¸ä¹…é“¾æ¥çš„ï¼Œæˆ‘çš„æ–‡ä»¶æ ¼å¼éƒ½è¦æ˜¯è¿™ç±» è‹±æ–‡å­—æ¯.md çš„æ ¼å¼ã€‚å¦‚æœæ˜¯ä¸­æ–‡ä¸­æ–‡.mdé‚£ä¹ˆå°±ä¼šå˜æˆ/ä¸­æ–‡/ï¼Œæµè§ˆå™¨åœ°å€æ ä¸Šå¾ˆä¸ç¾è§‚ï¼Œå¯¹ SEO ä¹Ÿä¸å¥½ã€‚ æœ‰æ²¡æœ‰åŠæ³•è®© Markdown æ–‡ä»¶ç”¨ ä½ å¥½ä¸–ç•Œ.md è¿™ç±»ä¸­æ–‡æ–‡ä»¶åä¿å­˜ï¼Œç”Ÿæˆçš„æ°¸ä¹…é“¾æ¥æ ¼å¼åˆæ˜¯ /hello-world/ è¿™ç§æ ·å¼å‘¢ï¼Ÿ Markdown Front-matter åŒºåŸŸå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘è¿™é‡Œé™¤äº† titleï¼Œ date ä»¥åŠ tags å¤–ï¼Œè‡ªå·±æ·»åŠ äº†ä¸€ä¸ªæ–°çš„å˜é‡ customUrl ï¼Œè¿™ä¸ªæ–°çš„å˜é‡ç”¨æ¥ä¿å­˜æ¯ä¸ªæ–‡ç« çš„è‹±æ–‡åå­—ï¼Œè¿™æ ·ä¸€æ¥å¯ä»¥æœ‰åˆ©äº SEOï¼ŒäºŒæ¥å¯ä»¥ç¼©çŸ­åšå®¢æ–‡ç«  URL çš„å±‚æ•°ã€‚ front-matter123title: Hello World Page# è‡ªå®šä¹‰çš„å˜é‡customUrl: custom-hello-world å†åœ¨ hexo é…ç½®æ–‡ä»¶ _config.yml ä¸­ï¼ŒæŠŠ permalink: çš„å€¼è®¾ä¸º :customUrl/ ã€‚ _config.yml12permalink: :customUrl/# url:------&gt; /custom-hello-world/ æ–¹æ³•äºŒï¼šä½¿ç”¨ hexo-abbrlinkæ¨èä½¿ç”¨æ’ä»¶ hexo-abbrlink ç”Ÿæˆ permalink ã€‚ å®‰è£…install1$ npm install hexo-abbrlink --save ä½¿ç”¨ç„¶ååœ¨é…ç½®æ–‡ä»¶_config.yml ä¸­ä¿®æ”¹ï¼š _config.yml12345permalink: :abbrlink/#abbrlinké…ç½®abbrlink: alg: crc32 # ç®—æ³•ï¼šcrc16(default) and crc32 rep: dec # è¿›åˆ¶ï¼šdec(default) and hex æ‰§è¡Œ hexo clean &amp;&amp; hexo g é‡æ–°ç”Ÿæˆé™æ€æ–‡ä»¶åï¼Œæºæ–‡ä»¶ front-matter ä¸­ä¼šåŒ…å« abbrlink: xxx ã€‚ å¦‚æœæ–‡ç« ä¸­æœªæŒ‡å®š abbrlink: xxxï¼Œå°†ä¼šæ ¹æ®ç®—æ³•éšæœºç”Ÿæˆæ•°å­— è¿™æ ·å°±ç¡®ä¿äº†é“¾æ¥çš„å”¯ä¸€åŒ–ï¼Œåªè¦ä¸ä¿®æ”¹ md æ–‡ä»¶çš„ abbrlink çš„å€¼ï¼Œurl å°±æ°¸ä¹…ä¸ä¼šæ”¹å˜ã€‚ ä½¿ç”¨è¿™ç§æ–¹æ³•ç”Ÿæˆ permalink æ—¶ï¼Œåœ¨æ¯æ¬¡æäº¤ä¿®æ”¹å‰ï¼Œæœ€å¥½å…ˆæ‰§è¡Œ hexo clean &amp;&amp; hexo gï¼Œç¡®ä¿æäº¤å‰ä½ æ‰€æœ‰çš„æ–‡ç« çš„ front-matter ä¸­éƒ½åŒ…å« abbrlink ï¼Œé¿å…å›  title çš„æ”¹å˜å¯¼è‡´ç”Ÿæˆ abbrlink ä¸ä¸€è‡´ï¼ˆå¦‚æœå·²å­˜åœ¨ abbrlinkï¼Œå°±ä¸ä¼šé‡æ–°ç”Ÿæˆï¼Œä¸è®ºtitle æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼‰ã€‚ å¦‚ä½•å¼•ç”¨è‡ªå·±æ’°å†™çš„æ–‡ç« æ–‡ç« ä¸­ï¼Œæœ‰æ—¶å€™éœ€è¦è‡ªå·±ç»™è‡ªå·±å¼•æµï¼Œæ‰€ä»¥ç»å¸¸è¦å¼•ç”¨è‡ªå·±çš„æ–‡ç« ï¼Œæœ€å¥½çš„æ–¹æ³•å°±æ˜¯åœ¨ç”Ÿæˆç³»ç»Ÿä¹‹å†…ç›´æ¥å¼•ç”¨ã€‚ Hexo æä¾›äº† æ ‡ç­¾æ’ä»¶ æ¥å®Œæˆè¿™ä¸ªåŠŸèƒ½ã€‚ 12{% post_path filename %}{% post_link filename [title] [escape] %} åœ¨ä½¿ç”¨æ­¤æ ‡ç­¾æ—¶å¯ä»¥å¿½ç•¥æ–‡ç« æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„æˆ–è€…æ–‡ç« çš„æ°¸ä¹…é“¾æ¥ä¿¡æ¯ã€å¦‚è¯­è¨€ã€æ—¥æœŸã€‚ ä¾‹å¦‚ï¼Œåœ¨æ–‡ç« ä¸­ä½¿ç”¨ {% post_link how-to-bake-a-cake %} æ—¶ï¼Œåªéœ€æœ‰ä¸€ä¸ªåä¸º how-to-bake-a-cake.md çš„æ–‡ç« æ–‡ä»¶å³å¯ã€‚å³ä½¿è¿™ä¸ªæ–‡ä»¶ä½äºç«™ç‚¹æ–‡ä»¶å¤¹çš„ source/posts/2015-02-my-family-holiday ç›®å½•ä¸‹ã€æˆ–è€…æ–‡ç« çš„æ°¸ä¹…é“¾æ¥æ˜¯ 2018/en/how-to-bake-a-cakeï¼Œéƒ½æ²¡æœ‰å½±å“ã€‚ é»˜è®¤é“¾æ¥æ–‡å­—æ˜¯æ–‡ç« çš„æ ‡é¢˜ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰è¦æ˜¾ç¤ºçš„æ–‡æœ¬ã€‚ é»˜è®¤å¯¹æ–‡ç« çš„æ ‡é¢˜å’Œè‡ªå®šä¹‰æ ‡é¢˜é‡Œçš„ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè½¬ä¹‰ã€‚å¯ä»¥ä½¿ç”¨escapeé€‰é¡¹ï¼Œç¦æ­¢å¯¹ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè½¬ä¹‰ã€‚ é“¾æ¥ä½¿ç”¨æ–‡ç« çš„æ ‡é¢˜ 1{% post_link hexo-3-8-released %} Hexo 3.8.0 Released é“¾æ¥ä½¿ç”¨è‡ªå®šä¹‰æ–‡å­— 1{% post_link hexo-3-8-released 'é€šå¾€æ–‡ç« çš„é“¾æ¥' %} é€šå¾€æ–‡ç« çš„é“¾æ¥ å¯¹æ ‡é¢˜çš„ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè½¬ä¹‰ 1{% post_link hexo-4-released 'How to use &lt;b&gt; tag in title' %} How to use tag in title ç¦æ­¢å¯¹æ ‡é¢˜çš„ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè½¬ä¹‰ 1{% post_link hexo-4-released '&lt;b&gt;bold&lt;/b&gt; custom title' false %} bold custom title æ³¨ï¼Œä½¿ç”¨ post_path æ—¶ä¸èƒ½ç”¨åœ¨ md è¯­æ³•ä¸­ å‚è€ƒé“¾æ¥ Hexo ç›¸å…³é—®é¢˜å’Œä¼˜åŒ– hexo-filter-nofollow - Hexo å®˜æ–¹çš„ nofollow æ’ä»¶ Hexo æ°¸ä¹…é“¾æ¥ç®¡ç† æ°¸ä¹…é“¾æ¥ï¼ˆPermalinksï¼‰ hexo-abbrlink æ ‡ç­¾æ’ä»¶ï¼ˆTag Pluginsï¼‰","link":"/articles/2021/01/08/hexo-configuration/"},{"title":"å¦‚ä½•åœ¨ Hexo ä¸­å¯¹æ–‡ç«  md æ–‡ä»¶åˆ†ç±»","text":"æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åœ¨ Hexo ä¸­å¯¹æ–‡ç«  md æ–‡ä»¶æŒ‰æ—¥æœŸè¿›è¡Œåˆ†ç±» èµ·å› åœ¨é»˜è®¤é…ç½®ä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨hexo new post [title]ä¼šåœ¨source/_post/ç›®å½•ä¸‹ç”Ÿæˆå¯¹åº”çš„markdownæ–‡ä»¶ï¼Œå½“æˆ‘ä»¬å†™çš„åšå®¢è¶Šæ¥è¶Šå¤šçš„æ—¶å€™ï¼Œä¼šå‘ç°ï¼Œæ‰€æœ‰æ–‡ç« éƒ½æ˜¯åœ¨source/_post/ä¸‹ï¼ŒæŸ¥æ‰¾èµ·æ¥ä¼šä¸å¤§æ–¹ä¾¿ï¼Œå› æ­¤å¸Œæœ›å¯¹å®ƒè¿›è¡Œä¸€ä¸ªåˆ†ç±»ï¼Œä½†æ˜¯åœ¨ç”Ÿæˆçš„æ–‡ç« é“¾æ¥ä¸Šä¿æŒä¸å˜ã€‚ æ–¹æ³•é€šè¿‡æŸ¥çœ‹hexo é…ç½®æ–‡æ¡£ å‘ç°ï¼š permalink ç”¨äºè®¾ç½®æ–‡ç« çš„æ°¸ä¹…é“¾æ¥æ ¼å¼new_post_name æ–°æ–‡ç« çš„æ–‡ä»¶åç§° å› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®new_post_nameè®©åˆ›å»ºçš„æ–‡ä»¶æŒ‰æ—¶é—´åˆ†ç±»ï¼Œå…¶æ¬¡å¯é€šè¿‡newå‘½ä»¤æŒ‡å®šåˆ›å»ºæ—¶çš„æ–‡ä»¶è·¯å¾„(hexo new page --path about/me &quot;About me&quot;)ï¼Œä»è€Œè¿›è¡Œå½’ç±»ã€‚ è¿™é‡Œä»‹ç»new_post_nameæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šï¼š 12permalink: 'articles/:year/:month/:day/:name/'new_post_name: ':year/:title.md' è¿™æ—¶å€™æ¯æ¬¡è¿è¡Œhexo new post [title]æ—¶æ–°å»ºçš„æ–‡ä»¶å°†æŒ‰å¹´ä»½å­˜æ”¾ï¼Œç”Ÿæˆçš„ html æ–‡ä»¶å°†ä¼šæŒ‰ç…§å¹´æœˆæ—¥å±•ç¤ºï¼Œæ¯”å¦‚source/_post/2021/test.mdå¯¹åº”çš„åšå®¢åœ°å€ï¼š2021/06/25/test/ã€‚ æ•´ç†ç°åœ¨æ–°å»ºæ–‡ç« çš„è·¯å¾„æˆ‘ä»¬æ˜¯å·²ç»å¤„ç†å¥½äº†ï¼Œé‚£ä»¥å‰åˆ›å»ºçš„æ–‡ç« æ˜¯ä¸æ˜¯è¦ä¸€ä¸ªä¸ªæ‰‹åŠ¨åˆ†ç±»å‘¢ï¼Ÿè¿™é‡Œå‚è€ƒæ­¤æ–‡ç« ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç»ˆç«¯è¿›è¡Œå¤„ç†ï¼š æ€è·¯ä¸ºï¼š æ‰¾å‡º 2021 å¹´çš„æ–‡ç«  ç§»åŠ¨åˆ° 2021 æ–‡ä»¶å¤¹ä¸‹ æ‰¾å‡º 2020 å¹´çš„æ–‡ç« ï¼ŒæŒ‰ 1-2 æ­¥çš„æ–¹å¼å¤„ç†â€¦â€¦ 1234567891011# è¿›å…¥_postç›®å½•cd source/_post# åˆ›å»ºä¸€ä¸ª2021å¹´1æœˆ1æ—¥çš„æ–‡ä»¶ï¼Œç”¨äºè¿‡æ»¤å‡º2018å¹´çš„æ–‡ç« touch -t 202101010000 timestamp# åˆ›å»º2021æ–‡ä»¶å¤¹mkdir 2021# å°†2021å¹´çš„æ–‡ç« ç§»åˆ°2021æ–‡ä»¶å¤¹ä¸‹for file in `find . -type f -newer timestamp`; do mv $file 2021 ; done# åˆ é™¤åˆšæ‰åˆ›å»ºçš„ç”¨äºè¿‡æ»¤çš„æ–‡ä»¶rm timestamp å‚è€ƒé“¾æ¥ å¦‚ä½•åœ¨ Hexo ä¸­å¯¹æ–‡ç«  md æ–‡ä»¶åˆ†ç±»","link":"/articles/2021/06/25/hexo-new-post-path/"},{"title":"Prettier: support &quot;overrides&quot; option on code styles import","text":"åœ¨ç›´æ¥è°ƒç”¨ WebStorm è‡ªå¸¦çš„ Prettier å»æ ¼å¼åŒ– wxml / wxss / wxs æ–‡ä»¶ä¼šæç¤ºï¼š File xxx has unsupported type çŒœæƒ³ Prettier åº”è¯¥æä¾›ä»»æ„æ–‡ä»¶æ˜ å°„ä¸ºä»»æ„å·²æ”¯æŒçš„æ–‡ä»¶ç±»å‹çš„æ ¼å¼åŒ–é…ç½®ã€‚æŸ¥é˜…å®˜æ–¹æ–‡æ¡£åï¼šSetting the parser optionï¼Œäºæ˜¯æœ‰äº†ä¸‹é¢é…ç½®ã€‚ prettierrc123456789101112131415161718192021222324{ &quot;prettier&quot;: { &quot;overrides&quot;: [ { &quot;files&quot;: &quot;*.wxml&quot;, &quot;options&quot;: { &quot;parser&quot;: &quot;html&quot; } }, { &quot;files&quot;: &quot;*.wxss&quot;, &quot;options&quot;: { &quot;parser&quot;: &quot;css&quot; } }, { &quot;files&quot;: &quot;*.wxs&quot;, &quot;options&quot;: { &quot;parser&quot;: &quot;babel&quot; } } ] }} äºæ˜¯åœ¨æŸä¸ªå°ç¨‹åºæ–‡ä»¶ä¸­å†æ¬¡å°è¯•è°ƒç”¨ WebStorm è‡ªå¸¦çš„ Prettierï¼Œå‘ç°ä¾ç„¶æ˜¯é‚£ä¸ªé”™è¯¯æç¤ºï¼Œé‡å¯ä¹Ÿæ— æœã€‚ã€‚ä½†æ˜¯ vscode å´å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚ åˆè¯•äº†ä¸‹æ‰‹åŠ¨åœ¨å‘½ä»¤è¡Œé‡Œæ•²ï¼š 1npx prettier xx --write æˆåŠŸï¼Œäºæ˜¯åˆ¤æ–­é—®é¢˜å‡ºåœ¨ webstorm ä¸Šã€‚ å°è¯•ä¿®å¤ï¼š å…¨å±€å®‰è£… Prettierï¼Œè¿™æ ·æ–¹ä¾¿è·¨é¡¹ç›®å¤ç”¨ï¼ˆå¯é€‰ Preferences - Tools - External Tools ç‚¹å‡»å½“å‰çª—å£å·¦ä¸‹è§’ + å· Nameã€Description è‡ªå·±èµ·ä¸€ä¸ªå§ Program é‡Œå¡«å†™ï¼šPrettier å®‰è£…ä½ç½®/bin-prettier.js Arguments é‡Œå¡«å†™ï¼š$FilePath$ --write Working directory ä¸ç”¨ç®¡ï¼Œokã€apply åŒè¿ä¿å­˜é…ç½® ä»¥ä¸Šæ­¥éª¤å®Œæˆä¹‹åä½ å°±å¯ä»¥é€šè¿‡é¡¶éƒ¨èœå•ï¼šTools - External Tools - ä½ èµ·çš„ Tool Name æ¥æ ¼å¼åŒ–å½“å‰çš„å°ç¨‹åºæ–‡ä»¶äº†ã€‚å†è¯´è¯´å¿«æ·é”®çš„é…ç½®æ­¥éª¤ï¼š Preferences - Keymap å½“å‰çª—å£å³ä¸Šè§’æœç´¢ä½ åˆ›å»ºçš„ Tool Name åœ¨æœç´¢ç»“æœé‡Œé€‰ä¸­å®ƒ Add Keyboard Shortcut å§ï¼ å‚è€ƒé“¾æ¥ WebStorm å¾®ä¿¡å°ç¨‹åºä»£ç æç¤º + Prettier ä»£ç æ ¼å¼åŒ– Prettier: support â€œoverridesâ€ option on code styles import","link":"/articles/2021/04/14/idea-prettier/"},{"title":"Husky hooks skipped","text":"åœ¨sourceTreeé‡åˆ°ä½¿ç”¨husky ä¼šæŠ¥é”™çš„æƒ…å†µï¼š error123....Can't find yarn in PATH:......Skipping pre-push hook è§£å†³æ–¹æ¡ˆï¼š add this in ~/.huskyrc: huskyrc1PATH=&quot;/usr/local/bin:$PATH&quot; å‚è€ƒé“¾æ¥ Husky hooks skipped Commit hooks are skipped due to PATH issues","link":"/articles/2021/04/02/husky-error-gui/"},{"title":"IDEAç²˜è´´å¤šè¡Œä»£ç æ—¶ï¼Œæ€»æ˜¯è‡ªåŠ¨ç¼©è¿›","text":"å½“æˆ‘ä»¬åœ¨ä½¿ç”¨ IntelliJ IDEA å»ç²˜è´´å¤šè¡Œä»£ç æ—¶ï¼Œä¼šå‘ç°æ€»æ˜¯è‡ªåŠ¨ç¼©è¿›ï¼Œæˆ–è€…è¢«æ ¼å¼åŒ–ã€‚ è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥å»å¦‚ä¸‹ä½ç½®è¿›è¡Œè®¾ç½®ï¼Œæ¥å–æ¶ˆè¿™ç§è¡Œä¸ºã€‚ settings â€”&gt;&gt; Eidtor â€”&gt;&gt; General â€”&gt;&gt; smart keys â€”&gt;&gt; reformat on paste é€‰æ‹©: NONE æ³¨ï¼šå¯ä»¥ç›´æ¥æœç´¢ reformat on paste","link":"/articles/2021/12/13/idea-reformat-on-paste/"},{"title":"rust å®‰è£…","text":"Rust é€šå¸¸è¢«ç§°ä¸º rust-langã€‚Rust æ˜¯ä¸€ä¸ªç”± Mozilla Research èµåŠ©çš„é€šç”¨çš„ã€å¤šèŒƒå¼ã€ç°ä»£çš„ã€è·¨å¹³å°å’Œå¼€æºç³»ç»Ÿç¼–ç¨‹è¯­è¨€ã€‚ å®ƒæ—¨åœ¨å®ç°å®‰å…¨æ€§ã€é€Ÿåº¦å’Œå¹¶å‘æ€§ç­‰ç›®æ ‡ã€‚ Rust åœ¨è¯­æ³•ä¸Šä¸ C++ ç›¸ä¼¼ï¼Œä½†å®ƒçš„è®¾è®¡è€…å¸Œæœ›å®ƒåœ¨ä¿æŒæ€§èƒ½çš„åŒæ—¶æä¾›æ›´å¥½çš„å†…å­˜å®‰å…¨æ€§ã€‚ Rust ç›®å‰åœ¨è®¸å¤šç»„ç»‡ä¸­ä½¿ç”¨ï¼Œä¾‹å¦‚ Firefoxã€Chefã€Dropboxã€Oracleã€GNOME ç­‰ã€‚ å¦‚ä½•åœ¨ Mac ä¸­å®‰è£… Rust è¯­è¨€ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å®‰è£… Rustï¼Œä½†ä»¥ä¸‹æ˜¯å®˜æ–¹æ¨èçš„å®‰è£…æ–¹å¼ã€‚ install12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485$ curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | shinfo: downloading installerWelcome to Rust!This will download and install the official compiler for the Rustprogramming language, and its package manager, Cargo.Rustup metadata and toolchains will be installed into the Rustuphome directory, located at: /Users/xmly/.rustupThis can be modified with the RUSTUP_HOME environment variable.The Cargo home directory located at: /Users/xmly/.cargoThis can be modified with the CARGO_HOME environment variable.The cargo, rustc, rustup and other commands will be added toCargo's bin directory, located at: /Users/xmly/.cargo/binThis path will then be added to your PATH environment variable bymodifying the profile files located at: /Users/xmly/.profile /Users/xmly/.zshenvYou can uninstall at any time with rustup self uninstall andthese changes will be reverted.Current installation options: default host triple: x86_64-apple-darwin default toolchain: stable (default) profile: default modify PATH variable: yes1) Proceed with installation (default)2) Customize installation3) Cancel installation&gt;info: profile set to 'default'info: default host triple is x86_64-apple-darwininfo: syncing channel updates for 'stable-x86_64-apple-darwin'info: latest update on 2020-12-31, rust version 1.49.0 (e1884a8e3 2020-12-29)info: downloading component 'cargo' 4.1 MiB / 4.1 MiB (100 %) 3.3 MiB/s in 1s ETA: 0sinfo: downloading component 'clippy'info: downloading component 'rust-docs' 13.8 MiB / 13.8 MiB (100 %) 2.3 MiB/s in 6s ETA: 0sinfo: downloading component 'rust-std' 21.1 MiB / 21.1 MiB (100 %) 2.3 MiB/s in 9s ETA: 0sinfo: downloading component 'rustc' 50.8 MiB / 50.8 MiB (100 %) 2.3 MiB/s in 22s ETA: 0sinfo: downloading component 'rustfmt'info: installing component 'cargo'info: using up to 500.0 MiB of RAM to unpack componentsinfo: installing component 'clippy'info: installing component 'rust-docs' 13.8 MiB / 13.8 MiB (100 %) 3.4 MiB/s in 4s ETA: 0sinfo: installing component 'rust-std' 21.1 MiB / 21.1 MiB (100 %) 3.6 MiB/s in 5s ETA: 0sinfo: installing component 'rustc' 50.8 MiB / 50.8 MiB (100 %) 7.4 MiB/s in 7s ETA: 0sinfo: installing component 'rustfmt'info: default toolchain set to 'stable-x86_64-apple-darwin' stable-x86_64-apple-darwin installed - rustc 1.49.0 (e1884a8e3 2020-12-29)Rust is installed now. Great!To get started you need Cargo's bin directory ($HOME/.cargo/bin) in your PATHenvironment variable. Next time you log in this will be doneautomatically.To configure your current shell, run:source $HOME/.cargo/env è¿è¡Œä»¥ä¸‹å‘½ä»¤é…ç½®å½“å‰ shellã€‚ source1$ source $HOME/.cargo/env è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯å·²å®‰è£…çš„ Rust ç‰ˆæœ¬ã€‚ rust version12$ rustc --versionrustc 1.49.0 (e1884a8e3 2020-12-29) å¦‚ä½•æµ‹è¯• Rust ç¼–ç¨‹è¯­è¨€å®‰è£… Rust åï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ£€æŸ¥ Rust è¯­è¨€æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚ åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¹¶æ·»åŠ ä»¥ä¸‹ä»£ç å¹¶ä¿å­˜ã€‚ç¡®ä¿ Rust æ–‡ä»¶å§‹ç»ˆä»¥ .rs æ‰©å±•åç»“å°¾ã€‚ index1234$ vim index.rsfn main() { println!(&quot;Hello World&quot;);} è¿è¡Œä»¥ä¸‹å‘½ä»¤ç¼–è¯‘ rust ä»£ç ã€‚ rust1$ rustc index.rs ä¸Šé¢çš„å‘½ä»¤å°†åœ¨åŒä¸€ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªå¯æ‰§è¡Œçš„ Rust ç¨‹åºã€‚ ls1234$ ls -lhtotal 760-rwxr-xr-x 1 xmly staff 375K 1 20 10:45 index-rw-r--r-- 1 xmly staff 41B 1 20 10:36 index.rs è¿è¡Œ Rust å¯æ‰§è¡Œæ–‡ä»¶å¾—åˆ°è¾“å‡ºã€‚ run12$ ./indexHello World å¥½äº†ï¼æ­£å¸¸å·¥ä½œäº†ã€‚ å‚è€ƒé“¾æ¥ Rustup for managing Rust versions rust","link":"/articles/2021/01/20/install-rust/"},{"title":"å¦‚ä½•æ€æ­» lcasensor è¿›ç¨‹","text":"æœ¬æ–‡è®²è¿°å¦‚ä½•æ€æ­» lcasensorï¼ˆå†…ç½‘çš„ç›‘æ§è½¯ä»¶ï¼Œæ•æ„Ÿæ•°æ®ç›‘æ§ï¼‰è¿™ä¸ªè¿›ç¨‹ã€‚ ä¸€ä¸‹æ“ä½œå‡æ˜¯åœ¨ MacOs ç¯å¢ƒä¸‹è¿è¡Œã€‚ 1. å®šä½è¿›ç¨‹ä¿¡æ¯1$ ps aux |grep didi æ‰¾åˆ° 4 ä¸ªç›¸ä¼¼è¿›ç¨‹ï¼š /opt/didi/lca/bin/lcasensor /opt/didi/lca/bin/lcaupdater /opt/didi/lca/bin/LCAService /opt/didi/lca/bin/lcaagent 2. æ£€æŸ¥è‡ªåŠ¨å¯åŠ¨ç›®å½• /Library/LaunchDaemons /Library/LaunchAgents ~/Library/LaunchAgents /System/Library/LaunchDaemons /System/Library/LaunchAgents æ‰¾åˆ° 4 ä»½é…ç½®æ–‡ä»¶ï¼š /Library/LaunchAgents/com.didi.lca.lcaagent.plist /Library/LaunchDaemons/com.didi.lca.lcasensor.plist /Library/LaunchDaemons/com.didi.lca.lcaservice.plist /Library/LaunchDaemons/com.didi.lca.lcaupdater.plist 3. ä¿®æ”¹è‡ªåŠ¨å¯åŠ¨é€‰é¡¹åˆ†åˆ«ä¿®æ”¹com.didi.lca.*.plistçš„å†…å®¹ï¼Œä¸»è¦æ”¹ä¸‹é¢ 2 ä¸ªåœ°æ–¹ã€‚ è¯·ç¡®è®¤ä¿®æ”¹ä»¥åçš„æ•ˆæœæ˜¯ï¼šKeepAlive=falseï¼ŒRunAtLoad=false com.didi.lca.*.plist1234&lt;key&gt;KeepAlive&lt;/key&gt;&lt;false/&gt;&lt;key&gt;RunAtLoad&lt;/key&gt;&lt;false/&gt; 4. é‡æ–°å¯åŠ¨ç”µè„‘éªŒè¯æ£€æŸ¥ä¸€ä¸‹è¿›ç¨‹ä¿¡æ¯ï¼Œç¡®è®¤è¿›ç¨‹å·²ç»åœæ­¢è¿è¡Œ 1$ ps aux |grep didi åˆ é™¤ä¸Šè¿°æåˆ°çš„ç›¸å…³æ–‡ä»¶å³å¯é¿å…å†æ¬¡è¿è¡Œ 1234$ sudo rm -rf /Library/LaunchAgents/com.didi.lca.*.plist$ sudo rm -rf /Library/LaunchDaemons/com.didi.lca.*.plist$ sudo rm -rf /opt/didi/lca$ sudo rmdir /opt/didi End! ğŸ‰ğŸ‰ğŸ‰ å‚è€ƒé“¾æ¥ çŸ¥ä¹","link":"/articles/2021/04/16/kill-lcasensor/"},{"title":"koa é™æ€èµ„æºå¤„ç†","text":"æœ¬æ–‡å°†ä»‹ç» koa é™æ€èµ„æºå¤„ç†ã€‚ å¦‚ä»Šæœ‰é™æ€èµ„æºï¼ˆdist/index.htmlï¼‰ï¼š 12345678910111213&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no&quot; /&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;root-slave-container&quot;&gt;Hello World&lt;/div&gt; &lt;/body&gt;&lt;/html&gt; å’Œdist/index.js 1console.log('Hello World'); koa-staticå¦‚æœç½‘ç«™æä¾›é™æ€èµ„æºï¼ˆå›¾ç‰‡ã€å­—ä½“ã€æ ·å¼è¡¨ã€è„šæœ¬â€¦â€¦ï¼‰ï¼Œä¸ºå®ƒä»¬ä¸€ä¸ªä¸ªå†™è·¯ç”±å°±å¾ˆéº»çƒ¦ï¼Œä¹Ÿæ²¡å¿…è¦ã€‚koa-staticæ¨¡å—å°è£…äº†è¿™éƒ¨åˆ†çš„è¯·æ±‚ï¼Œèµ·åˆ°äº†é™æ€æ–‡ä»¶æ‰˜ç®¡çš„ä½œç”¨ã€‚ ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š 12345678import Koa from 'koa';import path from 'path';import koaStatic from 'koa-static';const app = new Koa();app.use(koaStatic(path.resolve(__dirname, '../dist')));app.listen(3000); è¿è¡Œä¸Šè¿°ä»£ç åè®¿é—®http://localhost:3000ï¼Œåœ¨æµè§ˆå™¨ä¸Šå³å¯çœ‹åˆ°è¿™ä¸ªç½‘å€å†…å®¹ï¼Œé»˜è®¤åŠ è½½index.htmlæ–‡ä»¶ã€‚ è®¿é—®http://localhost:3000/index.js Koa ä¼šåœ¨é™æ€èµ„æºç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶ï¼Œæ‰€ä»¥ä¸ä¼šæŠŠé™æ€ç›®å½•ä½œä¸º URL çš„ä¸€éƒ¨åˆ†ã€‚ è™šæ‹Ÿé™æ€ç›®å½•å¦‚æœè¦ç»™é™æ€èµ„æºæ–‡ä»¶åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿçš„æ–‡ä»¶å‰ç¼€(å®é™…ä¸Šæ–‡ä»¶ç³»ç»Ÿä¸­å¹¶ä¸å­˜åœ¨) ï¼Œå¯ä»¥ä½¿ç”¨koa-mountä¸­é—´ä»¶æŒ‡å®šä¸€ä¸ªè™šæ‹Ÿçš„é™æ€ç›®å½•ã€‚ koa-mount æ˜¯ä¸€ä¸ªå°†ä¸­é—´ä»¶æŒ‚è½½åˆ°æŒ‡å®šè·¯å¾„çš„ Koa ä¸­é—´ä»¶ã€‚å®ƒå¯ä»¥æŒ‚è½½ä»»æ„ Koa ä¸­é—´ä»¶. è¯­æ³•å¦‚ä¸‹ï¼š 123import koaMount from 'koa-mount';app.use(koaMount('/koa-static', koaStatic(path.resolve(__dirname, '../dist')))); è®¿é—®http://localhost:3000/koa-staticå³å¯çœ‹åˆ°æ–‡ä»¶å†…å®¹ï¼Œ è®¿é—®http://localhost:3000/koa-static/index.js å° Tipï¼šåœ¨éƒ¨ç½²æ‰“åŒ…å¥½çš„ react é¡¹ç›®æ—¶ï¼Œå‰ç«¯ä½¿ç”¨çš„æ˜¯ HTML5 çš„ historyï¼Œé¡µé¢ä¸€åˆ·æ–°å°± 404 äº†ï¼Œæ‰€ä»¥åç«¯é…ç½®koa-history-api-fallbackä¸­é—´ä»¶æ¥æ”¯æŒï¼šï¼ˆä¸­é—´ä»¶å®ç°çš„åŠŸèƒ½æ˜¯å¦‚æœ å½“ URL åŒ¹é…ä¸åˆ°ä»»ä½•é™æ€èµ„æºï¼Œè¿”å›æŒ‡å®šçš„é¡µé¢ï¼ˆä¸­é—´ä»¶é»˜è®¤è¿”å›çš„æ˜¯ index.htmlï¼Œé…ç½®å‚è€ƒæ–‡æ¡£ï¼‰ 12345678import historyApiFallback from 'koa-history-api-fallback';// åŠ è½½è·¯ç”±ä¿¡æ¯app.use(router.routes());app.use(router.allowedMethods());app.use(historyApiFallback());app.use(koaStatic(path.resolve(__dirname, '../public'))); historyApiFallback ä¸€å®šè¦æ”¾åœ¨æ‰€æœ‰æ¥å£è·¯ç”±åé¢ï¼Œå¦åˆ™æ‰€æœ‰æ¥å£éƒ½æ˜¯è¿”å› index.html äº†ã€‚historyApiFallback ä¸€å®šè¦åœ¨é™æ€èµ„æºå‰é¢ï¼Œå¦åˆ™èµ„æºæ‰¾ä¸åˆ° koa-static-cacheè¿™ä¸ªä¸­é—´ä»¶çš„ç›®çš„ä¹Ÿæ˜¯å¸®åŠ©æˆ‘ä»¬æ‰˜ç®¡é™æ€èµ„æºæ–‡ä»¶ã€‚æŒ‰ç…§é…ç½®çš„è·¯å¾„åœ¨æµè§ˆå™¨çš„ URL åœ°å€ä¸­è¾“å…¥å¸¦prefixå‰ç¼€çš„è·¯å¾„å°±èƒ½è®¿é—®åˆ° static ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚å’Œkoa-staticåŒºåˆ«æ˜¯ï¼š ç¤ºä¾‹ä»£ç ï¼š 1234567import koaStaticCache from 'koa-static-cache';app.use( koaStaticCache(path.resolve(__dirname, '../dist'), { prefix: '/koa-static', // å¦‚æœå½“å‰è¯·æ±‚çš„urlæ˜¯ä»¥ /koa-static å¼€å§‹ï¼Œåˆ™ä½œä¸ºé™æ€èµ„æºè¯·æ±‚ })); å½“æˆ‘ä»¬è®¿é—®http://localhost:3000/koa-static/index.htmlï¼Œè¿™ä¸ªæ—¶å€™ä¸­é—´ä»¶å°±ä¼šå°†æˆ‘ä»¬çš„è¯·æ±‚ä»£ç†åˆ°distæ–‡ä»¶å¤¹ä¸‹çš„index.htmlï¼Œè¯»å–æ–‡ä»¶ï¼Œè‡ªåŠ¨è¯†åˆ« MIME ç±»å‹ï¼Œç„¶åè¿›è¡Œå“åº”ã€‚ è®¿é—®http://localhost:3000/koa-static/index.js å‚è€ƒé“¾æ¥ koa-static koa-mount Koa : what is the difference between koa-route and koa-mount. When should I use each? koa-static-cache koa-history-api-fallback react+koa å®ç°ç™»é™†ã€èŠå¤©ã€ç•™è¨€æ¿åŠŸèƒ½åå°","link":"/articles/2021/07/15/koa-static/"},{"title":"koaåç«¯æ•°æ®æ ¡éªŒ","text":"å¯¹æ¯ä¸ªæ¥å£çš„ä¼ å…¥å‚æ•°è¿›è¡Œæ ¡éªŒï¼Œæ˜¯ä¸€ä¸ª Web åç«¯é¡¹ç›®çš„å¿…å¤‡åŠŸèƒ½ï¼Œæœ¬æ–‡å°†ä»‹ç» koa ä¸­å¦‚ä½•ä½¿ç”¨joiè¿›è¡Œæ•°æ®æ ¼å¼æ£€éªŒã€‚ å®‰è£… Joi1$ yarn add Joi æ¥ä¸‹æ¥å°†ä»¥å¯¹registerçš„userè¿›è¡Œåç«¯æ•°æ®æ ¡éªŒä¸ºä¾‹ åˆ›å»ºæ•°æ®æ ¡éªŒä¸­é—´ä»¶middlewares/validator.js 12345678910111213141516171819/** * @desc æ•°æ®æ ¡éªŒä¸­é—´ä»¶ * @param {function} validateFunc validators é‡Œçš„æ ¡éªŒå™¨å‡½æ•° */function validatorMiddleware(validateFunc) { return async function validator(ctx, next) { const { error } = validateFunc(ctx.request.body); if (error) { console.log('æ ¡éªŒå™¨ã€ %s ã€‘ï¼Œæ•°æ®æ ¡éªŒå¤±è´¥', validateFunc.name); console.error(error); // ä½¿ç”¨joiæ—¶çš„è‡ªå®šä¹‰é”™è¯¯||joiæä¾›çš„é”™è¯¯å±•ç¤º ctx.body = error.message || error.details[0].message; return; } await next(); };}export default validatorMiddleware; åˆ›å»º User æ ¡éªŒè§„åˆ™ï¼Œå¹¶æ ¡éªŒsrc/validators/user.js 123456789101112131415161718/** * æ ¡éªŒç”¨æˆ·æ•°æ®æ ¼å¼ * @param {Object} data ç”¨æˆ·æ•°æ® */export function userValidator(data) { const schema = Joi.object({ userName: Joi.string() .min(2) .max(255) .pattern(/^[a-zA-Z][a-zA-Z0-9_]+$/) .required(), password: Joi.string() .pattern(/^[a-zA-Z0-9]{3,30}$/) .error(new Error('å¯†ç æ ¼å¼ä¸å¯¹ï¼Œè¯·é‡æ–°è®¾å®š')), repeat_password: Joi.ref('password'), }); return schema.validate(data);} æ³¨å†Œæ¥å£ä½¿ç”¨æ•°æ®æ ¡éªŒä¸­é—´ä»¶ï¼Œä¼ å…¥ userValidator æ ¡éªŒ Usersrc/routes/user.js 12345678910import Router from '@koa/router';import validatorMiddleware from '../middlewares/validator';import { handleUserRegister } from '../controllers/user';import { userValidator } from '../validators/user';const router = new Router({ prefix: '/user' });router.post('/register', validatorMiddleware(userValidator), handleUserRegister);export default router; æ›´å¤šæ ¡éªŒæ–¹æ³• ajvï¼šåŸºäºJSON Schemaçš„æ•°æ®æ ¡éªŒåº“ JSON Schemaï¼š JSON Schema å¹¶ä¸æ˜¯æŸä¸ªåº“ï¼Œåªæ˜¯ä¸€ç§æ ‡å‡†ï¼Œç®€å•çš„æ¥è¯´å°±æ˜¯é€šè¿‡ json æ ¼å¼æ¥æè¿°æ•°æ®ï¼Œè€Œ ajv å°±æ˜¯å¯¹ JSON Schema çš„å…·ä½“å®ç°ä¹‹ä¸€. class-validatorï¼šé‡‡ç”¨æ³¨è§£çš„æ–¹å¼è¿›è¡Œæ ¡éªŒï¼Œåº•å±‚ä½¿ç”¨çš„æ˜¯è€ç‰Œçš„æ ¡éªŒåŒ…validator.jsï¼Œé…åˆtsè¯­æ³•è¿›è¡Œä½¿ç”¨ã€‚ routing-controllers ï¼šä½¿ç”¨tsæ„å»ºçš„ä¸€ä¸ªå¸®åŠ©å¾ˆæ–¹ä¾¿å¤„ç†routerçš„æ¡†æ¶ å‚è€ƒé“¾æ¥ Koa+TypeScript ä» 0 åˆ° 1 å®ç°ç®€æ˜“ CMS æ¡†æ¶ï¼ˆä¸‰ï¼‰ï¼šç”¨æˆ·æ¨¡å‹ã€å‚æ•°æ ¡éªŒä¸ç”¨æˆ·æ³¨å†Œæ¥å£ ä½¿ç”¨ class-validator æ›¿æ¢ Joi åŒ…çš„æ–¹æ³• koa åç«¯æ•°æ®æ ¡éªŒ-ajv é¡¹ç›®é‡æ„è®°å½•","link":"/articles/2021/07/06/koa-validator/"},{"title":"lerna","text":"lerna-demoLerna æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œå®ƒä¼˜åŒ–äº†ä½¿ç”¨ git å’Œ npm ç®¡ç†å¤šåŒ…å­˜å‚¨åº“çš„å·¥ä½œæµã€‚ æœ¬æ–‡é€šè¿‡ä¸€ä¸ªç¤ºä¾‹è®²è¿°äº†å¦‚ä½•åŸºäº Lerna ç®¡ç†å¤šä¸ª packageï¼Œå¹¶å’Œå…¶å®ƒå·¥å…·æ•´åˆï¼Œæ‰“é€ é«˜æ•ˆã€å®Œç¾çš„å·¥ä½œæµï¼Œæœ€ç»ˆå½¢æˆä¸€ä¸ªæœ€ä½³å®è·µã€‚ å·¥ä½œçš„ä¸¤ç§æ¨¡å¼ fixedæ˜¯é»˜è®¤æ¨¡å¼ï¼Œåœ¨è¿™æ¨¡å¼ä¸‹æ‰€æœ‰åŒ…éƒ½ä½¿ç”¨lerna.jsoné‡Œçš„versionå­—æ®µå€¼ã€‚ independentæ¨¡å¼æ˜¯æ¯ä¸ªåŒ…ä½¿ç”¨ç‹¬ç«‹çš„ç‰ˆæœ¬å· Fixed/Locked mode (default)vue,babel éƒ½æ˜¯ç”¨è¿™ç§ï¼Œåœ¨ publish çš„æ—¶å€™,ä¼šåœ¨ lerna.json æ–‡ä»¶é‡Œé¢&quot;version&quot;: &quot;0.1.0&quot;ä¾æ®è¿™ä¸ªå·ï¼Œè¿›è¡Œå¢åŠ ï¼Œåªé€‰æ‹©ä¸€æ¬¡ï¼Œå…¶ä»–æœ‰æ”¹åŠ¨çš„åŒ…è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬å·ã€‚ Independent modelerna init --independent åˆå§‹åŒ–é¡¹ç›®ã€‚ lerna.json æ–‡ä»¶é‡Œé¢&quot;version&quot;: &quot;independent&quot;, æ¯æ¬¡ publish æ—¶ï¼Œæ‚¨éƒ½å°†å¾—åˆ°ä¸€ä¸ªæç¤ºç¬¦ï¼Œæç¤ºæ¯ä¸ªå·²æ›´æ”¹çš„åŒ…ï¼Œä»¥æŒ‡å®šæ˜¯è¡¥ä¸ã€æ¬¡è¦æ›´æ”¹ã€ä¸»è¦æ›´æ”¹è¿˜æ˜¯è‡ªå®šä¹‰æ›´æ”¹ã€‚ é¡¹ç›®æ„å»ºinit12$ mkdir lerna-demo &amp;&amp; cd $_$ npx lerna init ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ 1234lerna-demo/ packages/ package.json lerna.json å¢åŠ  packagesåˆ›æ–°ä¸€äº›æ–°çš„ pkg 123456789101112$ cd packages$ mkdir pkg-a pkg-b pkg-c$ cd pkg-a$ npm init --y$ cd pkg-b$ npm init --yæˆ–è€…ä½¿ç”¨$ lerna create pkg-d --y é¡¹ç›®ç»“æ„å¦‚ä¸‹ 123456789101112131415161718192021$ tree.â”œâ”€â”€ README.mdâ”œâ”€â”€ lerna.jsonâ”œâ”€â”€ package.jsonâ””â”€â”€ packages â”œâ”€â”€ pkg-a â”‚ â””â”€â”€ package.json â”œâ”€â”€ pkg-b â”‚ â””â”€â”€ package.json â”œâ”€â”€ pkg-c â”‚ â””â”€â”€ package.json â””â”€â”€ pkg-d â”œâ”€â”€ README.md â”œâ”€â”€ __tests__ â”‚ â””â”€â”€ pkg-d.test.js â”œâ”€â”€ lib â”‚ â””â”€â”€ pkg-d.js â””â”€â”€ package.json7 directories, 10 files ä¾èµ–ç®¡ç† yarnæ˜¯lernaçš„æœ€ä½³æ­æ¡£ã€‚ lernaé»˜è®¤ä½¿ç”¨npmä½œä¸ºå®‰è£…ä¾èµ–åŒ…å·¥å…·ï¼Œä½†ä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–å·¥å…·ã€‚æŠŠ npm æ›¿æ¢æˆ yarn åªéœ€åœ¨ lerna çš„é…ç½®æ–‡ä»¶æ·»åŠ ä¸¤è¡Œä»£ç å³å¯ï¼Œé…ç½®å®Œä»¥åç«‹åˆ»é¡ºç•…ç™¾å€ã€‚ 1234567// lerna.json{ &quot;packages&quot;: [&quot;packages/*&quot;], // é…ç½®packageç›®å½• &quot;version&quot;: &quot;independent&quot;, &quot;npmClient&quot;: &quot;yarn&quot;, &quot;useWorkspaces&quot;: true // ä½¿ç”¨yarn workspaces} é…ç½® package.json ä½¿ç”¨yarn workspaces 1234567891011{ &quot;name&quot;: &quot;root&quot;, &quot;private&quot;: true, // rootç¦æ­¢å‘å¸ƒ &quot;devDependencies&quot;: { &quot;lerna&quot;: &quot;^4.0.0&quot; }, &quot;workspaces&quot;: [ // é…ç½®packageç›®å½• &quot;packages/*&quot; ]} å®‰è£…ä¾èµ–åªè¦åœ¨é¡¹ç›®ä¸»ç›®å½•ä¸‹æ‰§è¡Œ 1$ yarn install yarn ä¼šè‡ªåŠ¨è¯»å– workspace é…ç½®ï¼Œå°±èƒ½è‡ªåŠ¨å®‰è£…ã€å¤„ç†ã€è½¯é“¾æ¥å„ä¸ªå­åŒ…çš„ä¾èµ–ï¼Œç»Ÿä¸€æ”¾åœ¨æ ¹ç›®å½•ä¸‹ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ lerna çš„å®‰è£…å‘½ä»¤ 1$ lerna bootstrap ä½†å¯èƒ½ä¸å¦‚ yarn çš„åŒ…ç®¡ç†æœºåˆ¶å¥½ç”¨ï¼Œå¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ã€ŠLerna çš„ä¾èµ–ç®¡ç†åŠ hoisting æµ…æã€‹ å¢åˆ ä¾èµ–123$ lerna add chalk # ä¸ºæ‰€æœ‰ package å¢åŠ  chalk æ¨¡å—$ lerna add semver --scope pkg-a # ä¸º pkg-a å¢åŠ  semver æ¨¡å—$ lerna add pkg-a --scope pkg-b # å¢åŠ å†…éƒ¨æ¨¡å—ä¹‹é—´çš„ä¾èµ– or 123$ yarn workspaces run add chalk # ä¸ºæ‰€æœ‰ package å¢åŠ  chalk æ¨¡å—$ yarn workspace pkg-a add semver # ä¸º pkg-a å¢åŠ  semver æ¨¡å—$ yarn workspace pkg-b add pkg-a@1.0.0 # è¿™é‡Œå¿…é¡»åŠ ä¸Šç‰ˆæœ¬å·ï¼Œå¦åˆ™æŠ¥é”™,å°†pkg-aä½œä¸ºpkg-bçš„ä¾èµ– æ›´å¤šè¯·æŸ¥çœ‹lerna add å¯¹åº”çš„ yarn çš„æ›´å¤šå‘½ä»¤ï¼š ä¸»é¡¹ç›®æ·»åŠ ä¾èµ– 1$ yarn add [packageName] -W -D -W æ˜¯æŒ‡å®šåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œå‘½ä»¤ åˆ é™¤å…¬å…±ä¾èµ– 1$ yarn remove -W -D [packageName] ç»™æ‰€æœ‰å­é¡¹ç›®å¢åˆ ä¾èµ– 12$ yarn workspaces run add [packageName]$ yarn workspaces run remove [packageName] ç»™æŸä¸ªé¡¹ç›®å¢åˆ ä¾èµ– 1$ yarn workspace [packageNameA] add [packageNameB] // packageNameAæ˜¯æŒ‡å®šå®‰è£…ä¾èµ–çš„åŒ…åï¼ŒpackageNameBæ˜¯å…¬å…±çš„åŒ…åæˆ–è€…é¡¹ç›®å†…çš„åŒ…å 1$ yarn workspace [packageName] remove [packageName] å½“é¡¹ç›®ä¾èµ–å‡Œä¹±çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤æ¸…ç†ä¾èµ– 1$ lerna clean å…¶ä½™è¿˜æœ‰ä¸€äº›å‘½ä»¤å¦‚ä¸‹ï¼Œæ›´å¤šå‘½ä»¤å‚è€ƒlerna 123lerna ls // åˆ—å‡ºä»“åº“ä¸­åŒ…ä¿¡æ¯lerna changed // æŸ¥çœ‹é¡¹ç›®å˜åŠ¨lerna exec // æ‰§è¡Œå‘½ä»¤ 12lerna run &lt; script &gt; -- [..args] # è¿è¡Œæ‰€æœ‰åŒ…é‡Œé¢çš„æœ‰è¿™ä¸ªscriptçš„å‘½ä»¤$ lerna run --scope my-component test 1yarn workspaces info // æŸ¥çœ‹é¡¹ç›®å†…ä¿¡æ¯ æ„å»ºä½¿ç”¨lerna runå‘½ä»¤æ„å»ºé¡¹ç›® 1$ lerna run build // ä¼šæ‰§è¡Œå­åŒ…ä¸­buildå‘½ä»¤æ„å»º å‘å¸ƒ123$ lerna publish # å‘å¸ƒè‡ªä¸Šä¸€ä¸ªç‰ˆæœ¬ä»¥æ¥å‘ç”Ÿäº†å˜åŒ–çš„åŒ…$ lerna publish from-git # å‘å¸ƒå½“å‰æäº¤ä¸­æ ‡è®°çš„åŒ…$ lerna publish from-package # å‘å¸ƒæ³¨å†Œè¡¨ä¸­æ²¡æœ‰æœ€æ–°ç‰ˆæœ¬çš„åŒ… åœ¨è¿è¡Œæ—¶ï¼Œè¯¥å‘½ä»¤åšäº†ä¸‹é¢å‡ ä»¶äº‹ä¸­çš„ä¸€ä¸ªï¼š å‘å¸ƒè‡ªä¸Šä¸€ä¸ªç‰ˆæœ¬ä»¥æ¥æ›´æ–°çš„åŒ…(èƒŒåè°ƒç”¨äº† lerna version)ã€‚ è¿™æ˜¯ lerna 2.x ç‰ˆæœ¬é—ç•™ä¸‹æ¥çš„ã€‚ å‘å¸ƒåœ¨å½“å‰æäº¤ä¸­æ ‡è®°çš„åŒ…(from-git)ã€‚ å‘å¸ƒåœ¨æœ€æ–°æäº¤æ—¶æ³¨å†Œè¡¨ä¸­æ²¡æœ‰ç‰ˆæœ¬çš„åŒ…(from-package)ã€‚ å‘å¸ƒåœ¨å‰ä¸€æ¬¡æäº¤ä¸­æ›´æ–°çš„åŒ…(åŠå…¶ä¾èµ–é¡¹)çš„â€œé‡‘ä¸é›€(canary)â€ç‰ˆã€‚ æ³¨æ„Lerna æ°¸è¿œä¸ä¼šå‘å¸ƒæ ‡è®°ä¸º private çš„åŒ…ï¼ˆpackage.json ä¸­çš„â€privateâ€œ: trueï¼‰ åœ¨æ‰€æœ‰çš„å‘å¸ƒè¿‡ç¨‹ä¸­ï¼Œéƒ½æœ‰ç”Ÿå‘½å‘¨æœŸåœ¨æ ¹ç›®å½•å’Œæ¯ä¸ªåŒ…ä¸­è¿è¡Œ(é™¤éä½¿ç”¨äº†--ignore-scripts)ã€‚ è¯·æŸ¥çœ‹æ¯ä¸ªåŒ…çš„é…ç½®ä»¥äº†è§£å‘å¸ƒä½œç”¨åŸŸé™å®šçš„åŒ…ã€è‡ªå®šä¹‰æ³¨å†Œè¡¨å’Œè‡ªå®šä¹‰æ ‡è®°çš„è¯¦ç»†ä¿¡æ¯ã€‚ ä¸æ”¯æŒåªå‘å¸ƒæŸä¸ª packagelerna å®˜æ–¹ä¸æ”¯æŒä»…å‘å¸ƒæŸä¸ª packageï¼Œè§ issues/1691ï¼Œå¦‚æœéœ€è¦ï¼Œåªèƒ½è‡ªå·±æ‰‹åŠ¨çš„è¿›å…¥ package è¿›è¡Œå‘å¸ƒï¼Œè¿™æ · lerna è‡ªå¸¦çš„å„ç§åŠŸèƒ½å°±éœ€è¦æ‰‹åŠ¨å®Œæˆä¸”å¯èƒ½å’Œ lerna çš„åŠŸèƒ½ç›¸äº’å†²çª ç”±äº lerna ä¼šè‡ªåŠ¨çš„ç›‘æµ‹ git æäº¤è®°å½•é‡Œæ˜¯å¦åŒ…å«æŒ‡å®š package çš„æ–‡ä»¶ä¿®æ”¹è®°å½•ï¼Œæ¥ç¡®å®šç‰ˆæœ¬æ›´æ–°ï¼Œè¿™è¦æ±‚è®¾ç½®å¥½åˆç†çš„ ignore è§„åˆ™ï¼ˆå¦åˆ™ä¼šé€ æˆé¢‘ç¹çš„ï¼Œæ— æ„ä¹‰çš„æŸä¸ªç‰ˆæœ¬æ›´æ–°ï¼‰ï¼Œå¥½å¤„æ˜¯å…¶å¯ä»¥è‡ªåŠ¨çš„å¸®åŠ© package ä¹‹é—´æ›´æ–°ç‰ˆæœ¬ ä¾‹å¦‚å¦‚æœpkg-b ä¾èµ–äº† pkg-aï¼Œå¦‚æœ pkg-a å‘ç”Ÿäº†ç‰ˆæœ¬å˜åŠ¨ï¼Œä¼šè‡ªåŠ¨çš„å°† pkg-b çš„å¯¹ pkg-a ç‰ˆæœ¬ä¾èµ–æ›´æ–°ä¸º pkg-a çš„æœ€æ–°ç‰ˆæœ¬ã€‚ å¦‚æœ pkg-b å‘ç”Ÿäº†ç‰ˆæœ¬å˜åŠ¨ï¼Œå¯¹ pkg-a å¹¶ä¸ä¼šé€ æˆå½±å“ã€‚ ç‰ˆæœ¬è¿­ä»£lerna é€šè¿‡ version å‘½ä»¤æ¥ä¸ºå„ä¸ªæ¨¡å—è¿›è¡Œç‰ˆæœ¬è¿­ä»£ã€‚åŸºæœ¬å‘½ä»¤å¦‚ä¸‹ï¼š 1$ lerna version [major | minor | patch | premajor | preminor | prepatch | prerelease] å¦‚æœä¸é€‰æ‹©æ­¤æ¬¡è¿­ä»£ç±»å‹ï¼Œåˆ™ä¼šè¿›å…¥äº¤äº’å¼çš„æç¤ºæµç¨‹æ¥ç¡®å®šæ­¤æ¬¡è¿­ä»£ç±»å‹ ä¾‹å¦‚ï¼š 123$ lerna version 1.0.1 # æŒ‰ç…§æŒ‡å®šç‰ˆæœ¬è¿›è¡Œè¿­ä»£$ lerna version patch # æ ¹æ® semver è¿­ä»£ç‰ˆæœ¬å·æœ€åä¸€ä½$ lerna version # è¿›å…¥äº¤äº’æµç¨‹é€‰æ‹©è¿­ä»£ç±»å‹ è‡ªåŠ¨ç”Ÿæˆ CHANGELOGå½“æ‚¨ä½¿ç”¨è¿™ä¸ªå‚æ•°è¿è¡Œæ—¶ï¼Œlerna versionå°†ä½¿ç”¨ä¼ ç»Ÿçš„æäº¤è§„èŒƒæ¥ç¡®å®šç‰ˆæœ¬å¹¶ç”Ÿæˆ CHANGELOG.md æ–‡ä»¶ 1$ lerna version --conventional-commits è‡ªåŠ¨ç¡®ç«‹äº†ç‰ˆæœ¬æ›´æ–° ç»æµ‹è¯• version_bump æ˜¯ä¾èµ–äºæ–‡ä»¶æ£€æµ‹å’Œ subject ç»“åˆï¼Œå¹¶ä¸ä¾èµ–äº scopeï¼Œscope çš„ä½œç”¨æ˜¯ç”¨æ¥ç”Ÿæˆ changelog çš„å§ï¼Œå³å¦‚æœæ˜¯ä¿®æ”¹äº† pkg-b çš„æ–‡ä»¶ï¼Œä½†æ˜¯ commit è®°å½•å†™çš„æ˜¯ fix(pkg-a)ï¼Œlerna æ˜¯ä¼šç”Ÿæˆ pkg-b çš„ç‰ˆæœ¬æ›´æ–°ï¼Œå¹¶ä¸ä¼šå»æ›´æ–° pkg-a çš„ç‰ˆæœ¬ æ‰‹åŠ¨é€‰æ‹©å‘å¸ƒç‰ˆæœ¬å¦‚æœ git commit message å‘ç°ä¸å¤ªé è°±ï¼Œä¸”æ— æ³•ä¿®æ”¹çš„è¯ï¼Œé‚£ä¹ˆéœ€è¦æ‰‹åŠ¨çš„ç¡®è®¤æ–°ç‰ˆæœ¬ï¼Œversion é»˜è®¤æ˜¯æ‰‹åŠ¨é€‰æ‹©ç‰ˆæœ¬ 1$ lerna version version æˆåŠŸåä¼šè‡ªåŠ¨çš„æ¨é€åˆ°ä¸»åˆ†æ”¯ lerna version è‡ªåŠ¨ç”Ÿæˆçš„æäº¤æ ¼å¼ä¸ºâ€œ publish xxxâ€,å¹¶ä¸ç¬¦åˆ conventional-commit è§„èŒƒï¼Œå› æ­¤éœ€è¦åŠ ä»¥ä¿®æ”¹ï¼Œæˆ‘ä»¬é€šè¿‡ message å‚æ•°å¯ä»¥ä¿®æ”¹è‡ªåŠ¨ç”Ÿæˆçš„æäº¤è®°å½• 123456789101112// lerna.json{ &quot;packages&quot;: [&quot;packages/*&quot;], &quot;version&quot;: &quot;independent&quot;, &quot;npmClient&quot;: &quot;yarn&quot;, &quot;useWorkspaces&quot;: true, &quot;command&quot;: { &quot;publish&quot;: { &quot;message&quot;: &quot;chore: publish&quot; } }} ä¹‹åå¯ä»¥ç”¨lerna publishå‘å¸ƒæ–°åŒ… 1$ lerna publish from-git // æ˜¾å¼å‘å¸ƒåœ¨å½“å‰æäº¤ä¸­æ ‡è®°çš„åŒ… ä¾‹å­é¡¹ç›®ä¾‹å­å¯å‚è€ƒeg å‚è€ƒé“¾æ¥ lerna lerna ä¸­æ–‡ åŸºäº Lerna ç®¡ç† packages çš„ Monorepo é¡¹ç›®æœ€ä½³å®è·µ åŸºäº lerna å’Œ yarn workspace çš„ monorepo å·¥ä½œæµ Lerna ä¸­æ–‡æ•™ç¨‹è¯¦è§£ å¤§å‰ç«¯é¡¹ç›®ä»£ç é‡ç”¨ï¼Œä¹Ÿè®¸ lerna æ˜¯æœ€å¥½çš„é€‰æ‹© ä½¿ç”¨ Lernaã€Yarn ç®¡ç† Monorepo é¡¹ç›®","link":"/articles/2021/06/07/lerna/"},{"title":"myBlogTestEmail","text":"","link":"/articles/2021/01/05/myBlogTestEmail/"},{"title":"Mac ä¸Šçš„ APP æ¨è","text":"å€¼å¾—æ¨èçš„ mac è½¯ä»¶ å¼€å‘ç›¸å…³ IntelliJ IDEA ï¼šç¼–è¾‘å™¨ vscodeï¼šç¼–è¾‘å™¨ sourceTreeï¼šgit GUI Charlesï¼šHTTP ä¿¡æ¯æŠ“åŒ…å·¥å…· Postmanï¼šæµ‹è¯• Web API &amp; HTTP iTerm2ï¼šå¼ºå¤§çš„ç»ˆç«¯ç¥å™¨ Sequel Proï¼šMy Sql ç®¡ç†é¡µé¢ Redis Desktop Managerï¼šRedis ç®¡ç†é¡µé¢ Dash ç¨‹åºå‘˜çš„ API æ–‡æ¡£æŸ¥è¯¢åˆ©å™¨ Mac OS å‘½ä»¤è¡Œå·¥å…· Homebrewï¼šMac OSï¼ˆæˆ– Linuxï¼‰ç¼ºå¤±çš„è½¯ä»¶åŒ…çš„ç®¡ç†å™¨ã€‚ Oh My Zshï¼šoh my zsh Figï¼š ç»ˆç«¯è‡ªåŠ¨è¡¥å…¨å·¥å…· åŸºæœ¬è½¯ä»¶ Alfred: Mac æ•ˆç‡ç¥å™¨ Bartender ï¼ˆMenubar èœå•æ ç®¡ç†å°åŠ©æ‰‹ ç³»ç»Ÿæ¸…ç† CleanMyMac X App Cleaner &amp; Uninstallerï¼ˆåº”ç”¨æ·±åº¦æ¸…ç†å¸è½½å·¥å…· Typora: ï¼ˆmarkdown ä¹¦å†™å·¥å…· Upicï¼ˆMac å›¾åºŠå®¢æˆ·ç«¯ æˆªå›¾ xnip (æˆªå›¾): å¸¦æœ‰æ»šåŠ¨æ•ˆæœï¼Œæ¨è LICEcap ï¼ˆå½•åˆ¶ gifï¼‰ï¼šGif å½•åˆ¶è½¯ä»¶ï¼Œç®€å•å°å·§å¿«æ·ã€‚ Kap (å±å¹•å½•åƒ&amp;&amp;å½•åˆ¶ gif) å¸¦æœ‰ç‚¹å‡»æ•ˆæœï¼Œæ¨è gifox (å½•åˆ¶ gifï¼Œæ— ç‚¹å‡»æ•ˆæœï¼Œå¤‡é€‰æ–¹æ¡ˆ) Snipaste ï¼ˆæˆªå›¾å¤‡é€‰æ–¹æ¡ˆï¼‰ Text Scannerï¼ˆå°†å›¾ç‰‡ä¸Šæ–‡å­—å†…å®¹è½¬æ¢æˆå¯ç¼–è¾‘æ–‡æœ¬ï¼‰ æ—¶é—´ç®¡ç† OmniFocus Recess ï¼ˆæ—¶é—´ç®¡ç†ï¼Œå¼ºåˆ¶ä¼‘æ¯ï¼‰ drawioï¼šçº¿ä¸Šæµç¨‹å›¾è½¯ä»¶ å›¢é˜Ÿç®¡ç†ï¼Œä»»åŠ¡ç®¡ç† teambition ç¬”è®°ã€çŸ¥è¯†åº“ notion æ€ç»´å¯¼å›¾ xmind å¹•å¸ƒ TeamViewï¼ˆè¿œç¨‹æ“ä½œ 1Password ï¼ˆä¿å­˜å¯†ç  outlookï¼ˆé‚®ç®± The Unarchiverï¼ˆè§£å‹ç¼©å·¥å…· Vpn ShadowsocksX-NG-R8 ClashX Proï¼Œæºç åœ°å€ClashX å±ä¿ æœºæ¢°æ‰‹è¡¨ WatchOSX å€’è®¡æ—¶ CountDown ç¿»é¡µå¼é’Ÿè¡¨ fliqlo Sipï¼ˆå±å¹•å–è‰²å·¥å…· colorsnapper: å±å¹•å–è‰²å·¥å…· IINAï¼ˆè§†é¢‘æ’­æ”¾å·¥å…· Pasteï¼ˆå‰ªè´´æ¿ ScreenFlowï¼ˆå±å¹•å½•åƒ&amp;&amp;è§†é¢‘å‰ªè¾‘ KeyCastrï¼ˆæ˜¾ç¤ºæŒ‰é”®æ“ä½œ Xscope (å¼ºå¤§çš„è®¾è®¡è¾…åŠ©è½¯ä»¶ï¼Œæ ‡å°º) Reederï¼ˆRSS è®¢é˜…å™¨æ–°é—»é˜…è¯»å™¨ Yoinkï¼ˆä¸€æ¬¾ç§»åŠ¨å¤åˆ¶æ–‡ä»¶æ•ˆç‡å·¥å…·","link":"/articles/2021/03/23/mac-apps/"},{"title":"å¦‚ä½•åœ¨MACä¸Šå®‰è£…Mysql","text":"æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åœ¨ Mac ä¸Šå®‰è£… Mysqlã€‚ å®˜ç½‘å®‰è£…åŒ…ä¸‹è½½æ‰€æœ‰å¹³å°çš„ MySQL ä¸‹è½½åœ°å€ä¸ºï¼š MySQL ä¸‹è½½ ã€‚ æŒ‘é€‰ä½ éœ€è¦çš„ MySQL Community Server ç‰ˆæœ¬åŠå¯¹åº”çš„å¹³å°ã€‚ å› ä¸ºæˆ‘æœ¬åœ°æ˜¯X86_64ï¼Œï¼ˆé€šè¿‡$ uname -mæŸ¥çœ‹ï¼‰æ‰€ä»¥è¿™é‡Œé€‰æ‹©äº†ï¼š æŸ¥æ‰¾ä»¥å‰çš„ç‰ˆæœ¬å¹¶ä¸‹è½½è¿™ä¸€æ­¥å¹¶ä¸ç®—éš¾ï¼Œç§‰æŒç€å®Œæ•´è®°å½•çš„æƒ³æ³•è¿˜æ˜¯è®°ä¸€ä¸‹ï¼Œä¸éœ€è¦çš„å¯ä»¥ç»•è¿‡ã€‚ å®‰è£… æ ¹æ®å®‰è£…åŒ…çš„æŒ‡ç¤ºä¸€æ­¥æ­¥ä¸‹è½½å°±å¯ä»¥äº†ï¼Œå¦‚æœä¸‹è½½ 8 ä»¥ä¸Šçš„ç‰ˆæœ¬åœ¨è¿™ä¸€æ­¥çš„æ—¶å€™æ³¨æ„é€‰æ‹©ç¬¬äºŒé¡¹ï¼Œä¸‹è½½ 5 çš„è¯è®°å¾—ä¿å­˜ä¸€ä¸‹ç³»ç»Ÿç»™çš„é»˜è®¤å¯†ç ï¼ˆä¸‹è½½è¿‡ç¨‹ä¼šå¼¹å‡ºæç¤ºæ¡†ï¼‰ å®‰è£…æˆåŠŸåï¼Œå¯åœ¨ç³»ç»Ÿåå¥½è®¾ç½®ä¸­çœ‹åˆ° MySQLï¼Œï¼ˆ8 ç‰ˆæœ¬æ˜¯ä¸€å¤´å°æµ·è±šï¼Œ5 çš„æ˜¯ä¸€ä¸ªåœ†é½¿è½®ï¼‰ æ‰“å¼€å¦‚ä¸‹ï¼š ç¯å¢ƒå˜é‡é…ç½®å®‰è£…æˆåŠŸåï¼Œä½¿ç”¨ mysql å‘½ä»¤ä¼šæŠ¥ï¼šcommand not found çš„é”™è¯¯ï¼Œæ˜¯å› ä¸ºè¿˜æ²¡æœ‰é…ç½®ç¯å¢ƒå˜é‡ã€‚ é…ç½®ç¯å¢ƒå˜é‡é¦–å…ˆè¦çŸ¥é“ä½ ä½¿ç”¨çš„ Mac OS X æ˜¯ä»€ä¹ˆæ ·çš„ Shellï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼šecho $SHELL æˆ‘è¿™é‡Œç”¨çš„æ˜¯zshï¼Œæ‰€ä»¥ç›´æ¥åœ¨~/.zshrcé‡Œå¢åŠ ç¯å¢ƒå˜é‡ï¼Œåœ¨æœ€ä¸‹æ–¹å¢åŠ  12345# mysql Pathexport PATH=${PATH}:/usr/local/mysql/bin# å¿«é€Ÿå¯åŠ¨ã€ç»“æŸMySQLæœåŠ¡, å¯ä»¥ä½¿ç”¨aliaså‘½ä»¤ï¼Œå¯ä»¥ä¸åŠ alias mysqlstart='sudo /usr/local/mysql/support-files/mysql.server start'alias mysqlstop='sudo /usr/local/mysql/support-files/mysql.server stop' æœ€åä¿å­˜é€€å‡ºï¼Œå¹¶åœ¨ç»ˆç«¯è¾“å…¥ï¼šsource ~/.zshrc å›è½¦æ‰§è¡Œï¼Œè¿è¡Œç¯å¢ƒå˜é‡ æœ€ååœ¨ç»ˆç«¯è¾“å…¥mysql -u root -på¯åŠ¨ MySQLï¼Œï¼ˆå®‰è£…åœ°å€æ˜¯/usr/local/mysqlï¼‰ ä½¿ç”¨ homebrew å®‰è£… MySQLå¯ä»¥å‚è€ƒ homebrew å®‰è£… MySQLï¼Œè¿™é‡Œä¸å†é˜è¿°ã€‚ å¸è½½å¯ä»¥å‚è€ƒ Mac ä¸‹å¹²å‡€å½»åº•åœ°å¸è½½ MySQLï¼Œè¿™é‡Œä¸å†é˜è¿°ã€‚ å‚è€ƒé“¾æ¥ MySQLZ MySQL å®‰è£… MySQL å®‰è£…ï¼ˆMac ç‰ˆï¼‰ å°ç™½å…¥é—¨ï¼šMySQL è¶…è¯¦ç»†å®‰è£…æ•™ç¨‹ï¼ˆmac ç‰ˆï¼‰","link":"/articles/2021/12/31/mysql-install/"},{"title":"Nodejs ä¸­åŸºäº Stream çš„å¤šæ–‡ä»¶åˆå¹¶å®ç°","text":"æœ€è¿‘åœ¨åšå…³äºnode ç«¯çš„ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œç¢°åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•å°†å¤šä¸ªæ–‡ä»¶åˆå¹¶è‡³ä¸€ä¸ªæ–‡ä»¶å‘¢ï¼Ÿï¼ˆå‰ç«¯ä¸Šä¼ çš„åˆ‡å‰²æ–‡ä»¶åœ¨æœåŠ¡ç«¯è¿›è¡Œåˆå¹¶ï¼‰ å•æ–‡ä»¶åˆå¹¶çš„ Stream æ“ä½œå°†'./test1.txt'å†™å…¥'./test2.txt'ä¸­ï¼Œ åˆ›å»ºä¸€ä¸ªå¯è¯»æµ readable ä¸€ä¸ªå¯å†™æµ writeableï¼Œé€šè¿‡ç®¡é“ pipe å°†å¯å†™æµç»‘å®šåˆ°å¯è¯»æµï¼Œä¸€ä¸ªç®€å•çš„ Stream æ“ä½œå°±å®Œæˆäº†ï¼Œè¿è¡Œä»£ç å°±ä¼šå‘ç°ï¼Œ'./test1.txt'å·²ç»å†™å…¥è‡³'./test2.txt' 12345678const fs = require('fs');// åˆ›å»ºæ–‡ä»¶æµconst readable = fs.createReadStream('./test1.txt');// åˆ›å»ºå†™å…¥æµconst writeable = fs.createWriteStream('./test2.txt');// æ•°æ®å†™å…¥æ–‡ä»¶readable.pipe(writeable); å…¶ä¸­pipe è¿™ä¸ªæ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼š 1readable.pipe(destination[, options]) destinationï¼šå†™å…¥æ•°æ®çš„ç›®æ ‡ï¼Œæ˜¯ä¸€ä¸ªå¯å†™æµå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæ•°æ®å†™å…¥çš„ç›®æ ‡å¯¹è±¡ï¼Œä¾‹å¦‚ï¼Œä¸Šé¢æˆ‘ä»¬åˆ›å»ºçš„ writeable å°±æ˜¯ä¸€ä¸ªå¯å†™æµå¯¹è±¡ optionsï¼š endï¼šå½“è¯»å–ç»“æŸæ—¶ç»“æŸå†™å…¥ã€‚ é»˜è®¤å€¼: trueã€‚ é»˜è®¤æƒ…å†µä¸‹æˆ‘ä»¬æ˜¯ä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨å†™å…¥æµ writeable çš„ end æ–¹æ³•è¿›è¡Œå…³é—­ã€‚ å¦‚æœæˆ‘ä»¬è®¾ç½® pipe ä¸­ end ä¸º false æ—¶ï¼Œ å†™å…¥çš„ç›®æ ‡æµå°†ä¼šä¸€ç›´å¤„äºæ‰“å¼€çŠ¶æ€ï¼Œ æ­¤æ—¶å°±éœ€è¦ç›‘å¬å¯è¯»æµçš„ end äº‹ä»¶ï¼Œç»“æŸä¹‹åæ‰‹åŠ¨è°ƒç”¨å¯å†™æµçš„ end äº‹ä»¶ã€‚ 12345678910// æ•°æ®å†™å…¥æ–‡ä»¶// readable.pipe(writeable);readable.pipe(writeable, { end: false,});readable.on('end', () =&gt; { // å…³é—­æµä¹‹å‰ç«‹å³å†™å…¥æœ€åä¸€ä¸ªé¢å¤–çš„æ•°æ®å— writeable.end('å†™å…¥ç»“æŸ');}); æ³¨æ„ï¼šå¦‚æœå¯è¯»æµæœŸé—´å‘ç”Ÿä»€ä¹ˆé”™è¯¯ï¼Œåˆ™å†™å…¥çš„ç›®æ ‡æµå°†ä¸ä¼šå…³é—­ï¼Œä¾‹å¦‚ï¼šprocess.stderr å’Œ process.stdout å¯å†™æµåœ¨ Nodejs è¿›ç¨‹é€€å‡ºå‰å°†æ°¸è¿œä¸ä¼šå…³é—­ï¼Œæ‰€ä»¥éœ€è¦ç›‘å¬é”™è¯¯äº‹ä»¶ï¼Œæ‰‹åŠ¨å…³é—­å¯å†™æµï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚ å¤šä¸ªæ–‡ä»¶é€šè¿‡ Stream æ“ä½œåˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶åˆ©ç”¨å¯è¯»æµçš„ pipe ä¸­ end ä¸º false ï¼Œä¿æŒå†™å…¥æµä¸€ç›´å¤„äºæ‰“å¼€çŠ¶æ€ã€‚ä¸€å¼€å§‹å¯å†™æµå¤„äºæ‰“å¼€çŠ¶æ€ï¼Œç›´åˆ°æ‰€æœ‰çš„å¯è¯»æµç»“æŸï¼Œæˆ‘ä»¬å†å°†å¯å†™æµç»™å…³é—­ã€‚ ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162const { createReadStream, readdirSync, createWriteStream } = require('fs');const path = require('path');/** * @desc å¤šä¸ªæ–‡ä»¶é€šè¿‡Streamåˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶ * è®¾ç½®å¯è¯»æµçš„ end ä¸º false å¯ä¿æŒå†™å…¥æµä¸€ç›´å¤„äºæ‰“å¼€çŠ¶æ€ï¼Œä¸è‡ªåŠ¨å…³é—­ * ç›´åˆ°æ‰€æœ‰çš„å¯è¯»æµç»“æŸï¼Œå†å°†å¯å†™æµç»™å…³é—­ã€‚ * @param {object[]} fileList * @param {string} fileList.filePath å¾…åˆå¹¶çš„æ–‡ä»¶è·¯å¾„ * @param {WriteStream} fileWriteStream å¯å†™å…¥æ–‡ä»¶çš„æµ * @returns {*} */function streamMergeRecursive(fileList, fileWriteStream) { if (!fileList.length) { console.log('-------- WriteStream åˆå¹¶å®Œæˆ --------'); // æœ€åå…³é—­å¯å†™æµï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ // å…³é—­æµä¹‹å‰ç«‹å³å†™å…¥æœ€åä¸€ä¸ªé¢å¤–çš„æ•°æ®å—(Stream åˆå¹¶å®Œæˆ)ã€‚ fileWriteStream.end('---Stream åˆå¹¶å®Œæˆ---'); return; } const data = fileList.shift(); const { filePath: chunkFilePath } = data; console.log('-------- å¼€å§‹åˆå¹¶ --------\\n', chunkFilePath); // è·å–å½“å‰çš„å¯è¯»æµ const currentReadStream = createReadStream(chunkFilePath); // ç›‘å¬currentReadStreamçš„on('data'),å°†è¯»å–åˆ°çš„å†…å®¹è°ƒç”¨fileWriteStream.writeæ–¹æ³• // end:true è¯»å–ç»“æŸæ—¶ç»ˆæ­¢å†™å…¥æµ,è®¾ç½® end ä¸º false å†™å…¥çš„ç›®æ ‡æµ(fileWriteStream)å°†ä¼šä¸€ç›´å¤„äºæ‰“å¼€çŠ¶æ€ï¼Œä¸è‡ªåŠ¨å…³é—­ currentReadStream.pipe(fileWriteStream, { end: false }); // ç›‘å¬å¯è¯»æµçš„ end äº‹ä»¶ï¼Œç»“æŸä¹‹åé€’å½’åˆå¹¶ä¸‹ä¸€ä¸ªæ–‡ä»¶ æˆ–è€… æ‰‹åŠ¨è°ƒç”¨å¯å†™æµçš„ end äº‹ä»¶ currentReadStream.on('end', () =&gt; { console.log('-------- ç»“æŸåˆå¹¶ --------\\n', chunkFilePath); streamMergeRecursive(fileList, fileWriteStream); }); // ç›‘å¬é”™è¯¯äº‹ä»¶ï¼Œå…³é—­å¯å†™æµï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ currentReadStream.on('error', (error) =&gt; { console.error('-------- WriteStream åˆå¹¶å¤±è´¥ --------\\n', error); fileWriteStream.close(); });}/** * @desc åˆå¹¶æ–‡ä»¶å…¥å£ * @param {string} sourceFiles æºæ–‡ä»¶ç›®å½• * @param {string} targetFile ç›®æ ‡æ–‡ä»¶ */function streamMergeMain(sourceFiles, targetFile) { // è·å–æºæ–‡ä»¶ç›®å½•(sourceFiles)ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ const chunkFilesDir = path.resolve(__dirname, sourceFiles); const list = readdirSync(chunkFilesDir); const fileList = list.map((name) =&gt; ({ name, filePath: path.resolve(chunkFilesDir, name), })); // åˆ›å»ºä¸€ä¸ªå¯å†™æµ const fileWriteStream = createWriteStream(path.resolve(__dirname, targetFile)); streamMergeRecursive(fileList, fileWriteStream);}streamMergeMain('./chunkFiles', './targetFile.png'); è¿è¡Œä»£ç åç”ŸæˆæŒ‡å®šæ–‡ä»¶targetFile.png å‚è€ƒé“¾æ¥ createReadStream createWriteStream readable.pipe(destination[, options]) ä½¿ç”¨ koa-body å®ç°æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ Node.js Stream æµçš„ä½¿ç”¨åŠå®ç°æ€»ç»“ Nodejs ä¸­åŸºäº Stream çš„å¤šæ–‡ä»¶åˆå¹¶å®ç°","link":"/articles/2021/12/30/node-combine-more-files/"},{"title":"Node.jsè®¾ç½®å®šæ—¶ä»»åŠ¡","text":"åœ¨å®é™…å¼€å‘é¡¹ç›®ä¸­ï¼Œä¼šé‡åˆ°å¾ˆå¤šå®šæ—¶ä»»åŠ¡çš„å·¥ä½œã€‚æ¯”å¦‚ï¼šå®šæ—¶å¯¼å‡ºæŸäº›æ•°æ®ã€å®šæ—¶å‘é€æ¶ˆæ¯æˆ–é‚®ä»¶ç»™ç”¨æˆ·ã€å®šæ—¶å¤‡ä»½ä»€ä¹ˆç±»å‹çš„æ–‡ä»¶ç­‰ç­‰&gt; ä¸€èˆ¬å¯ä»¥å†™ä¸ªå®šæ—¶å™¨ï¼Œæ¥å®Œæˆç›¸åº”çš„éœ€æ±‚ï¼Œåœ¨ node.js ä¸­è‡ªå·²å®ç°ä¹Ÿéå¸¸å®¹æ˜“ï¼Œæ¥ä¸‹æ¥è¦ä»‹ç»çš„æ˜¯node-scheduleæ¥å®Œæˆå®šæ—¶ä»»åŠ¡ å®‰è£…1$ yarn add node-schedule åŸºç¡€ç”¨æ³•ä½¿ç”¨ schedule.scheduleJob() å³å¯åˆ›å»ºä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œä¸€ä¸ªç®€å•çš„ä¸Šæ‰‹ç¤ºä¾‹ï¼š 123456const schedule = require('node-schedule');// å½“å‰æ—¶é—´çš„ç§’å€¼ä¸º 10 æ—¶æ‰§è¡Œä»»åŠ¡ï¼Œå¦‚ï¼š2021-7-8 13:25:10let job = schedule.scheduleJob('10 * * * * *', () =&gt; { console.log('job schedule', new Date());}); æ—¶é—´æ•°å€¼æŒ‰ä¸‹è¡¨è¡¨ç¤º: 123456789* * * * * *â”¬ â”¬ â”¬ â”¬ â”¬ â”¬â”‚ â”‚ â”‚ â”‚ â”‚ |â”‚ â”‚ â”‚ â”‚ â”‚ â”” æ˜ŸæœŸå‡ ï¼Œå–å€¼ï¼š0 - 7ï¼Œå…¶ä¸­ 0 å’Œ 7 éƒ½è¡¨ç¤ºæ˜¯å‘¨æ—¥â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€ æœˆä»½ï¼Œå–å€¼ï¼š1 - 12â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€ æ—¥æœŸï¼Œå–å€¼ï¼š1 - 31â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¶ï¼Œå–å€¼ï¼š0 - 23â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ†ï¼Œå–å€¼ï¼š0 - 59â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ç§’ï¼Œå–å€¼ï¼š0 - 59ï¼ˆå¯é€‰ï¼‰ ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªå…·ä½“çš„æ—¶é—´ï¼Œå¦‚ï¼š 123456789const schedule = require('node-schedule');// å®šä¹‰ä¸€ä¸ªæœªæ¥çš„æ—¶é—´let date = new Date(2021, 6, 13, 15, 50, 0);// å®šä¹‰ä¸€ä¸ªä»»åŠ¡let job = schedule.scheduleJob(date, () =&gt; { console.log('job schedule', new Date());}); è¿›é˜¶ç”¨æ³•é™¤äº†åŸºç¡€çš„ç”¨æ³•ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ä¸€äº›æ›´ä¸ºçµæ´»çš„æ–¹æ³•æ¥å®ç°å®šæ—¶ä»»åŠ¡ã€‚ éš”ä¸€æ®µæ—¶é—´æ‰§è¡Œä¸€æ¬¡12345678910const schedule = require('node-schedule');// å®šä¹‰è§„åˆ™let rule = new schedule.RecurrenceRule();rule.second = [0, 10, 20, 30, 40, 50]; // æ¯éš” 10 ç§’æ‰§è¡Œä¸€æ¬¡ å¯ä½¿ç”¨ 0/10 * * * * *// å¯åŠ¨ä»»åŠ¡let job = schedule.scheduleJob(rule, () =&gt; { console.log('job schedule', new Date());}); rule æ”¯æŒè®¾ç½®çš„å€¼æœ‰ secondã€minuteã€hourã€dateã€dayOfWeekã€monthã€year ç­‰ç”¨æ³•ï¼Œå¦‚ï¼š æ¯ç§’æ‰§è¡Œ1rule.second = [0,1,2,3......59]; æ¯åˆ†é’Ÿ 0 ç§’æ‰§è¡Œ1rule.second = 0; æ¯å°æ—¶ 30 åˆ†æ‰§è¡Œ12rule.minute = 30;rule.second = 0; æ¯å¤© 0 ç‚¹æ‰§è¡Œ123rule.hour = 0;rule.minute = 0;rule.second = 0; æ¯æœˆ 1 å·çš„ 10 ç‚¹æ‰§è¡Œ1234rule.date = 1;rule.hour = 10;rule.minute = 0;rule.second = 0; æ¯å‘¨ä¸€ã€å‘¨ä¸‰ã€å‘¨äº”çš„ 0 ç‚¹å’Œ 12 ç‚¹æ‰§è¡Œ1234rule.dayOfWeek = [1, 3, 5];rule.hour = [0, 12];rule.minute = 0;rule.second = 0; è®¾å®šå¼€å§‹æ—¶é—´ä¸ç»“æŸæ—¶é—´12345const startTime = new Date(Date.now() + 5000);const endTime = new Date(startTime.getTime() + 5000);const job = schedule.scheduleJob({ start: startTime, end: endTime, rule: '*/1 * * * * *' }, function () { console.log('job schedule', new Date());}); å–æ¶ˆä»»åŠ¡å¯ä»¥ä½¿ç”¨ cancel() ç»ˆæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„ä»»åŠ¡ã€‚ 1job.cancel(); æ³¨æ„ï¼šåœ¨ä½¿ç”¨ pm2 cluster æ¨¡å¼å¯åŠ¨ä¼šå¯¼è‡´å®šæ—¶ä»»åŠ¡å¤šæ¬¡æ‰§è¡Œï¼Œè§£å†³åŠæ³•ï¼š pm2 å¯åŠ¨ä¼šé»˜è®¤è‡ªå¸¦ä¸€ä¸ª 'NODE_APP_INSTANCE' çš„ç¯å¢ƒå˜é‡, å®ƒä» 0 å¼€å§‹è‡ªå¢, æ°¸è¿œä¸èƒ½èƒ½é‡å¤, æ¯ä¸€ä¸ª worker æ‹¥æœ‰ä¸€ä¸ªå€¼ ç¨‹åºä¸­å¯åŠ¨å®šæ—¶ä»»åŠ¡, æˆ–è€…æ‰§è¡Œæ–¹æ³•çš„æ—¶å€™åˆ¤æ–­ä¸‹if(process.env.NODE_APP_INSTANCE === '0'){// TO DO ...} è¿™æ ·å°±å¯ä»¥åœ¨æŸä¸ª worker é‡Œæ‰§è¡Œä¸€æ¬¡ï¼ˆNODE_APP_INSTANCE ä¹Ÿå¯ä»¥åœ¨ pme.json ä¸­é‡å‘½åè¯¥å˜é‡åç§° instance_var: 'INSTANCE_ID'ï¼‰ æœ€ç»ˆå°è£…ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293// è®¾å®šå®šæ—¶ä»»åŠ¡const schedule = require('node-schedule');// è§£æcronè¡¨è¾¾å¼const parser = require('cron-parser');// å…è®¸'0'å·è¿›ç¨‹è®¾å®šå®šæ—¶ä»»åŠ¡ï¼Œé˜²æ­¢ pm2 å¤šå®ä¾‹å†²çªconst isAllowWorkerSchedule = !process.env.NODE_APP_INSTANCE || process.env.NODE_APP_INSTANCE === '0';/** * @desc è§£æcronè¡¨è¾¾å¼ * @param {string} cron cron è¡¨è¾¾å¼ * @param {object} [options] é…ç½® * @return {string[]} */function parserCron(cron, options) { const interval = parser.parseExpression(cron, options); const dates = new Array(5).fill('').map((i) =&gt; interval.next().toString()); console.log('parserCron:\\n'); console.log(dates.join('\\n')); return dates;}/** * @desc è¿è¡Œå®šæ—¶å™¨ * @param {string} cron cron è¡¨è¾¾å¼ * @param {function} func å‡½æ•° * @return {*} */function runScheduleCronStyle(cron, func) { console.log('è¿›ç¨‹process.env.NODE_APP_INSTANCE:', process.env.NODE_APP_INSTANCE); // åªåœ¨æŸä¸ªworkeré‡Œè¿è¡Œï¼Œé˜²æ­¢pm2 å¯åŠ¨å¤šä¸ªå®šæ—¶,(process.env.NODE_APP_INSTANCE === '0') if (!isAllowWorkerSchedule) { console.log('ä¸å…è®¸å¼€å¯å®šæ—¶å™¨'); return; } console.log('å¼€å§‹å®šæ—¶å™¨:', cron); parserCron(cron); const job = schedule.scheduleJob(cron, func); return job;}/** * @desc è¿è¡ŒæŒ‡å®šæ—¶é—´å†…çš„å®šæ—¶å™¨ * @param {object} d * @param {string} d.cron cron è¡¨è¾¾å¼ * @param {Date} [d.startTime] å¼€å§‹æ—¶é—´ * @param {Date} [d.endTime] ç»“æŸæ—¶é—´ * @param {function} func å‡½æ•° * @return {*} */function runAreaScheduleCronStyle({ cron, startTime, endTime }, func) { console.log('è¿›ç¨‹process.env.NODE_APP_INSTANCE:', process.env.NODE_APP_INSTANCE); // åªåœ¨æŸä¸ªworkeré‡Œè¿è¡Œï¼Œé˜²æ­¢pm2 å¯åŠ¨å¤šä¸ªå®šæ—¶,(process.env.NODE_APP_INSTANCE === '0') if (!isAllowWorkerSchedule) { console.log('ä¸å…è®¸å¼€å¯å®šæ—¶å™¨'); return; } console.log('å¼€å§‹æŒ‡å®šæ—¶é—´å†…å®šæ—¶å™¨:', cron); parserCron(cron, { currentDate: startTime, endDate: endTime }); const job = schedule.scheduleJob({ rule: cron, start: startTime, end: endTime }, func); return job;}/** * @desc å–æ¶ˆå½“å‰çš„jobä»»åŠ¡ * @param job * @param {boolean} [reschedule] */function cancelScheduleJob(job, reschedule) { if (!isAllowWorkerSchedule) return; console.log('å–æ¶ˆå®šæ—¶å™¨'); job.cancel(reschedule);}const job = runScheduleCronStyle('0/10 * * * * *', () =&gt; { console.log('job--:' + new Date());});const jobArea = runAreaScheduleCronStyle( { cron: '0/10 * * * * *', startTime: new Date('2021/07/13 16:30'), endTime: new Date('2021/07/13 16:31:20') }, () =&gt; { console.log('jobArea--:' + new Date()); });const job2 = runScheduleCronStyle('0/20 * * * * *', () =&gt; { console.log('job2--:' + new Date());});// ä¸€åˆ†é’Ÿåå…³é—­setTimeout(() =&gt; cancelScheduleJob(job), 60 * 1000); å‚è€ƒé“¾æ¥ Node.js è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼šnode-schedule æ¨¡å—çš„ä½¿ç”¨ å¦‚ä½•è§£å†³ pm2 éƒ¨ç½² nodejs é¡¹ç›®æ—¶ node-schedule è¿™ç±»æ¨¡å—é‡å¤æ‰§è¡Œï¼Ÿ Nodejs å­¦ä¹ ç¬”è®°ï¼ˆåäºŒï¼‰â€” å®šæ—¶ä»»åŠ¡ï¼ˆnode-schedule) node-schedule","link":"/articles/2021/07/13/node-schedule/"},{"title":"node ç«¯ç”Ÿæˆæ°´å°å›¾ç‰‡","text":"åœ¨é¡¹ç›®ä¸­é€šå¸¸ä¼šå‡ºç°ç»™å›¾ç‰‡å¢åŠ æ°´å°çš„éœ€æ±‚ï¼Œæœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åœ¨ä½¿ç”¨ node æ—¶å¤„ç†å›¾ç‰‡ï¼Œå¢åŠ æ°´å°åŠŸèƒ½ã€‚ æ–‡å­—å’Œå›¾ç‰‡ä¸èƒ½ç›´æ¥åˆå¹¶ï¼Œéœ€è¦å°†æ–‡å­—å…ˆè½¬æ¢æˆå›¾å½¢ï¼Œç„¶åå†å°†å›¾å½¢è¿›è¡Œåˆå¹¶ï¼Œå¤§è‡´æ­¥éª¤å¦‚ä¸‹ï¼š åˆ©ç”¨text-to-svgï¼Œå°†æ–‡å­—è½¬æˆ SVG å›¾å½¢ï¼› åˆ©ç”¨sharpï¼Œå°† SVG å›¾å½¢ä¸èƒŒæ™¯å›¾ç‰‡åˆå¹¶ï¼› ç”Ÿæˆæ°´å°å›¾ç‰‡å°†æ–‡å­—è½¬æ¢ä¸º SVG å›¾å½¢ï¼Œéœ€è¦å€ŸåŠ© Node çš„æ¨¡å—text-to-svgï¼Œè¯¥æ¨¡å—èƒ½å¤Ÿå°†æ–‡å­—æŒ‰ç…§æŒ‡å®šå­—ä½“ç”Ÿæˆ SVG å›¾å½¢ ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718/** * @desc å°†æ°´å°æ–‡å­—è½¬æ¢æˆ svgï¼Œå†è½¬æ¢æˆbuffer * @param {string} text æ°´å°æ–‡å­— * @param {number} fontSize å­—ä½“å¤§å° * @param {string} color å­—ä½“é¢œè‰² * @return {Buffer} */function text2SVG({ text, fontSize = 72, color = 'rgba(204,204,204,0.45)' }) { // åŠ è½½å­—ä½“æ–‡ä»¶ const text2SVG = Text2SVG.loadSync(path.resolve(__dirname, '../../assets/PingFang-SC-Regular.ttf')); const options = { fontSize, anchor: 'top', // åæ ‡ä¸­çš„å¯¹è±¡é”šç‚¹ attributes: { fill: color }, // æ–‡å­—é¢œè‰² }; const textSVG = text2SVG.getSVG(text, options); return Buffer.from(textSVG);} è¿™æ—¶å€™ç”Ÿæˆçš„æ°´å°å›¾ç‰‡æ˜¯å¹³è¡Œæ–‡å­—ï¼š æˆ‘ä»¬éœ€è¦æ—‹è½¬ 45 åº¦åçš„å›¾ç‰‡ï¼š ä»£ç å¦‚ä¸‹ï¼š 123456789101112/** * @desc æ°´å°å›¾ç‰‡æ—‹è½¬45åº¦å€¾æ–œ * @param {string} text æ°´å°æ–‡å­— * @return {Promise&lt;Buffer|*&gt;} */async function rotateWatermarkBuffer(text) { // ` ${text} ` å¢åŠ ä¸‹æ–‡å­—é—´è· const textBuffer = text2SVG({ text: ` ${text} ` }); return sharp(textBuffer) .rotate(45, { background: { r: 255, g: 255, b: 255, alpha: 0 } }) // æ—‹è½¬45åº¦ï¼Œå¹¶ä¸”é€æ˜è‰² .toBuffer();} åˆå¹¶å›¾å½¢ç”¨äºåˆå¹¶å›¾ç‰‡çš„åº“æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚gmã€jimpã€mapnikã€sharpç­‰ï¼Œå…¶ä¸­sharpæ˜¯åŸºäºlibvipsåº“æ¥å®ç°çš„ï¼Œæ€§èƒ½æ˜¯æœ€é«˜çš„ï¼Œæ‰€ä»¥é‡‡ç”¨äº† sharp æ¥åˆå¹¶å›¾å½¢ã€‚ 123456789101112131415/** * @desc å…¥å£æ–‡ä»¶ * @param {string|Buffer} img å›¾ç‰‡æœ¬åœ°è·¯å¾„æˆ–å›¾ç‰‡ Buffer æ•°æ® * @param {string} text æ°´å°æ–‡å­— * @param {string} filepath ä¿å­˜åˆæˆæ°´å°åçš„æ–‡ä»¶è·¯å¾„ * @return {Promise&lt;Object&gt;} */async function init({ img, text, filepath }) { const textBuffer = await rotateWatermarkBuffer(text); const imgInfo = await sharp(img) // é‡å¤ï¼ˆtileï¼‰åˆå¹¶å›¾åƒ .composite([{ input: textBuffer, tile: true }]) .toFile(filepath); return imgInfo;} æœ€ç»ˆä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162const path = require('path');const sharp = require('sharp');const Text2SVG = require('text-to-svg');async function nodeGenWatermark({ img, text, filepath }) { /** * @desc å°†æ°´å°æ–‡å­—è½¬æ¢æˆ svgï¼Œå†è½¬æ¢æˆbuffer * @param {string} text æ°´å°æ–‡å­— * @param {number} fontSize å­—ä½“å¤§å° * @param {string} color å­—ä½“é¢œè‰² * @return {Buffer} */ function text2SVG({ text, fontSize = 72, color = 'rgba(204,204,204,0.45)' }) { const fontPath = path.resolve(__dirname, '../../assets/PingFang-SC-Regular.ttf'); // åŠ è½½å­—ä½“æ–‡ä»¶ const text2SVG = Text2SVG.loadSync(fontPath); const options = { fontSize, anchor: 'top', // åæ ‡ä¸­çš„å¯¹è±¡é”šç‚¹ attributes: { fill: color }, // æ–‡å­—é¢œè‰² }; const textSVG = text2SVG.getSVG(text, options); return Buffer.from(textSVG); } /** * @desc æ°´å°å›¾ç‰‡æ—‹è½¬45åº¦å€¾æ–œ * @param {string} text æ°´å°æ–‡å­— * @return {Promise&lt;Buffer|*&gt;} */ async function rotateWatermarkBuffer(text) { // ` ${text} ` å¢åŠ ä¸‹æ–‡å­—é—´è· const textBuffer = text2SVG({ text: ` ${text} ` }); return sharp(textBuffer) .rotate(45, { background: { r: 255, g: 255, b: 255, alpha: 0 } }) // æ—‹è½¬45åº¦ï¼Œå¹¶ä¸”é€æ˜è‰² .toBuffer(); } /** * @desc å…¥å£æ–‡ä»¶ * @param {string|Buffer} img å›¾ç‰‡æœ¬åœ°è·¯å¾„æˆ–å›¾ç‰‡ Buffer æ•°æ® * @param {string} text æ°´å°æ–‡å­— * @param {string} filepath ä¿å­˜åˆæˆæ°´å°åçš„æ–‡ä»¶è·¯å¾„ * @return {Promise&lt;Object&gt;} */ async function init({ img, text, filepath }) { const textBuffer = await rotateWatermarkBuffer(text); const imgInfo = await sharp(img) // é‡å¤ï¼ˆtileï¼‰åˆå¹¶å›¾åƒ .composite([{ input: textBuffer, tile: true }]) .toFile(filepath); return imgInfo; } await init({ img, text, filepath });}nodeGenWatermark({ img: path.resolve(__dirname, '../../assets/chrome.png'), text: 'æ°´å°', filepath: path.resolve(__dirname, '../../assets/output.png'),}); è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®ç°äº†ä¸€ä¸ªç®€å•çš„ç»™å›¾ç‰‡åŠ æ°´å°çš„åŠŸèƒ½ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ç”Ÿæˆæ•ˆæœï¼š å‚è€ƒé“¾æ¥ sharp text-to-svg sharp ä½¿ç”¨æ–‡æ¡£ node æ–‡å­—ç”Ÿæˆå›¾ç‰‡ Node.js æœåŠ¡ç«¯å›¾ç‰‡å¤„ç†åˆ©å™¨â€”â€”sharp è¿›é˜¶æ“ä½œæŒ‡å—","link":"/articles/2021/07/13/node-watermark/"},{"title":"åœ¨ nodejs ä¸­ä½¿ç”¨ES6","text":"æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åœ¨ nodejs ä¸­ä½¿ç”¨ ES6 çš„åŠŸèƒ½ã€‚ åœ¨å­¦ä¹  JavaScript è¯­è¨€ï¼Œä½ ä¼šå‘ç°å®ƒæœ‰ä¸¤ç§æ ¼å¼çš„æ¨¡å—ã€‚ ä¸€ç§æ˜¯ ES6 æ¨¡å—ï¼Œç®€ç§° ESMï¼›å¦ä¸€ç§æ˜¯ Node.js ä¸“ç”¨çš„ CommonJS æ¨¡å—ï¼Œç®€ç§° CJSã€‚è¿™ä¸¤ç§æ¨¡å—ä¸å…¼å®¹ã€‚ Node.js æ˜¯æœåŠ¡å™¨ç«¯å¼€å‘çš„ Javascript æ ‡å‡†å¹³å°ã€‚Node.js æ¨¡å—å¤„ç†çš„é»˜è®¤æ ‡å‡†æ˜¯CommonJSã€‚ï¼Œä½¿ç”¨module.exports ï¼ˆå¯¼å‡ºï¼‰ å’Œ require ï¼ˆå¯¼å…¥ï¼‰ã€‚å¯¹äº ES6 ç¯å¢ƒä¸­çš„ Node.jsï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç¼–è¯‘å™¨å°† ES6 è½¬æ¢ä¸ºCommonJS ä¸¤ç§æ¨¡å—çš„å·®å¼‚ES6 æ¨¡å—å’Œ CommonJS æ¨¡å—æœ‰å¾ˆå¤§çš„å·®å¼‚ã€‚ è¯­æ³•ä¸Šé¢ï¼ŒCommonJS æ¨¡å—ä½¿ç”¨require()åŠ è½½å’Œmodule.exportsè¾“å‡ºï¼ŒES6 æ¨¡å—ä½¿ç”¨importå’Œexportã€‚ ç”¨æ³•ä¸Šé¢ï¼Œrequire()æ˜¯åŒæ­¥åŠ è½½ï¼Œåé¢çš„ä»£ç å¿…é¡»ç­‰å¾…è¿™ä¸ªå‘½ä»¤æ‰§è¡Œå®Œï¼Œæ‰ä¼šæ‰§è¡Œã€‚importå‘½ä»¤åˆ™æ˜¯å¼‚æ­¥åŠ è½½ï¼Œæˆ–è€…æ›´å‡†ç¡®åœ°è¯´ï¼ŒES6 æ¨¡å—æœ‰ä¸€ä¸ªç‹¬ç«‹çš„é™æ€è§£æé˜¶æ®µï¼Œä¾èµ–å…³ç³»çš„åˆ†ææ˜¯åœ¨é‚£ä¸ªé˜¶æ®µå®Œæˆçš„ï¼Œæœ€åº•å±‚çš„æ¨¡å—ç¬¬ä¸€ä¸ªæ‰§è¡Œã€‚ Node.js çš„åŒºåˆ†Node.js è¦æ±‚ ES6 æ¨¡å—é‡‡ç”¨.mjsåç¼€æ–‡ä»¶åã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦è„šæœ¬æ–‡ä»¶é‡Œé¢ä½¿ç”¨importæˆ–è€…exportå‘½ä»¤ï¼Œé‚£ä¹ˆå°±å¿…é¡»é‡‡ç”¨.mjsåç¼€åã€‚Node.js é‡åˆ°.mjsæ–‡ä»¶ï¼Œå°±è®¤ä¸ºå®ƒæ˜¯ ES6 æ¨¡å—ï¼Œé»˜è®¤å¯ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œä¸å¿…åœ¨æ¯ä¸ªæ¨¡å—æ–‡ä»¶é¡¶éƒ¨æŒ‡å®š&quot;use strict&quot;ã€‚ å¦‚æœä¸å¸Œæœ›å°†åç¼€åæ”¹æˆ.mjsï¼Œå¯ä»¥åœ¨é¡¹ç›®çš„package.jsonæ–‡ä»¶ä¸­ï¼ŒæŒ‡å®štypeå­—æ®µä¸ºmoduleã€‚ 123{ &quot;type&quot;: &quot;module&quot;} ä¸€æ—¦è®¾ç½®äº†ä»¥åï¼Œè¯¥ç›®å½•é‡Œé¢çš„ JS è„šæœ¬ï¼Œå°±è¢«è§£é‡Šç”¨ ES6 æ¨¡å—ã€‚ 12# è§£é‡Šæˆ ES6 æ¨¡å—$ node my-app.js å¦‚æœè¿™æ—¶è¿˜è¦ä½¿ç”¨ CommonJS æ¨¡å—ï¼Œé‚£ä¹ˆéœ€è¦å°† CommonJS è„šæœ¬çš„åç¼€åéƒ½æ”¹æˆ.cjsã€‚å¦‚æœæ²¡æœ‰typeå­—æ®µï¼Œæˆ–è€…typeå­—æ®µä¸ºcommonjsï¼Œåˆ™.jsè„šæœ¬ä¼šè¢«è§£é‡Šæˆ CommonJS æ¨¡å—ã€‚ æ€»ç»“ä¸ºä¸€å¥è¯ï¼š.mjsæ–‡ä»¶æ€»æ˜¯ä»¥ ES6 æ¨¡å—åŠ è½½ï¼Œ.cjsæ–‡ä»¶æ€»æ˜¯ä»¥ CommonJS æ¨¡å—åŠ è½½ï¼Œ.jsæ–‡ä»¶çš„åŠ è½½å–å†³äºpackage.jsoné‡Œé¢typeå­—æ®µçš„è®¾ç½®ã€‚ æ³¨æ„ï¼ŒES6 æ¨¡å—ä¸ CommonJS æ¨¡å—å°½é‡ä¸è¦æ··ç”¨ã€‚requireå‘½ä»¤ä¸èƒ½åŠ è½½.mjsæ–‡ä»¶ï¼Œä¼šæŠ¥é”™ï¼Œåªæœ‰importå‘½ä»¤æ‰å¯ä»¥åŠ è½½.mjsæ–‡ä»¶ã€‚åè¿‡æ¥ï¼Œ.mjsæ–‡ä»¶é‡Œé¢ä¹Ÿä¸èƒ½ä½¿ç”¨requireå‘½ä»¤ï¼Œå¿…é¡»ä½¿ç”¨importã€‚ CommonJS æ¨¡å—åŠ è½½ ES6 æ¨¡å—CommonJS çš„require()å‘½ä»¤ä¸èƒ½åŠ è½½ ES6 æ¨¡å—ï¼Œä¼šæŠ¥é”™ï¼Œåªèƒ½ä½¿ç”¨import()è¿™ä¸ªæ–¹æ³•åŠ è½½ã€‚ 123(async () =&gt; { await import('./es6-pkg.mjs');})(); ä¸Šé¢ä»£ç å¯ä»¥åœ¨ CommonJS æ¨¡å—ä¸­è¿è¡Œã€‚ require()ä¸æ”¯æŒ ES6 æ¨¡å—çš„ä¸€ä¸ªåŸå› æ˜¯ï¼Œå®ƒæ˜¯åŒæ­¥åŠ è½½ï¼Œè€Œ ES6 æ¨¡å—å†…éƒ¨å¯ä»¥ä½¿ç”¨é¡¶å±‚awaitå‘½ä»¤ï¼Œå¯¼è‡´æ— æ³•è¢«åŒæ­¥åŠ è½½ã€‚ ES6 æ¨¡å—åŠ è½½ CommonJS æ¨¡å—ES6 æ¨¡å—çš„importå‘½ä»¤å¯ä»¥åŠ è½½ CommonJS æ¨¡å—ï¼Œä½†æ˜¯åªèƒ½æ•´ä½“åŠ è½½ï¼Œä¸èƒ½åªåŠ è½½å•ä¸€çš„è¾“å‡ºé¡¹ã€‚ 12345// æ­£ç¡®import packageMain from 'commonjs-package';// æŠ¥é”™import { method } from 'commonjs-package'; è¿™æ˜¯å› ä¸º ES6 æ¨¡å—éœ€è¦æ”¯æŒé™æ€ä»£ç åˆ†æï¼Œè€Œ CommonJS æ¨¡å—çš„è¾“å‡ºæ¥å£æ˜¯module.exportsï¼Œæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ— æ³•è¢«é™æ€åˆ†æï¼Œæ‰€ä»¥åªèƒ½æ•´ä½“åŠ è½½ã€‚ åŠ è½½å•ä¸€çš„è¾“å‡ºé¡¹ï¼Œå¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚ 12import packageMain from 'commonjs-package';const { method } = packageMain; FAQå½“ä½ çš„é¡¹ç›®åœ¨é…ç½® package.json çš„ typeä¸º model åï¼Œä¸”ä½¿ç”¨äº† babel å¯èƒ½ä¼šæŠ¥é”™ï¼š 1Error while loading config - You appear to be using a native ECMAScript module configuration file, which is only supported when running Babel asynchronously è¿™æ˜¯å› ä¸ºå¯èƒ½ä½ çš„ babel é…ç½®ä¸º Javascript æ–‡ä»¶æ‰©å±•å (babel.config.js)ã€‚ æ³¨ï¼š babel js æ–‡ä»¶æ‰©å±•æ”¯æŒ.jsï¼Œ.mjsï¼Œ.cjs babel.config.js and .babelrc.js behave like the .mjs equivalents when your package.json file contains the &quot;type&quot;: &quot;module&quot; option, otherwise they are exactly the same as the .cjs files. å› æ­¤å¯¹äºä½ å½“å‰çš„é¡¹ç›®ã€‚æ­£ç¡®çš„æ–‡ä»¶æ‰©å±•åæ˜¯ .cjs 12345678910111213// babel.config.cjsmodule.exports = { presets: [ [ '@babel/preset-env', { targets: { node: 'current', }, }, ], ],}; å‚è€ƒé“¾æ¥ Enabling ES6 Features (Import and Export Default) In Node.js with Babel Node.js å¦‚ä½•å¤„ç† ES6 æ¨¡å— babel-config","link":"/articles/2021/08/29/node-with-es6/"},{"title":"oh-my-zsh","text":"æœ¬æ–‡å°†ä»‹ç»ä¸€æ¬¾é¡ºæ‰‹çš„shell â€”â€” zsh ä¸»è¦ä»‹ç»çš„æ˜¯ oh my zsh ä¸ºä»€ä¹ˆæ˜¯ zshï¼Œå…¶å«ä¹‰æ˜¯ï¼š The last shell youâ€™ll ever need! å¯ä»¥ç†è§£ä¸ºï¼Œä¸€æ—¦ç”¨ä¸Šå®ƒï¼Œå°±åˆ«æ— æ‰€æ±‚äº†ã€‚è·Ÿ Bash ç›¸æ¯”ï¼ŒZsh çš„è¡¥å…¨åŠŸèƒ½å¼ºå¤§äº†è®¸å¤šï¼Œå¯ä»¥è‡ªåŠ¨è¡¥å…¨å‘½ä»¤ã€å‚æ•°ã€æ–‡ä»¶åã€è¿›ç¨‹ã€ç”¨æˆ·åã€å˜é‡ã€æƒé™ç¬¦ï¼Œç­‰ç­‰â€¦â€¦ å¦å¤–ï¼Œè¿˜æ”¯æŒæ’ä»¶ï¼Œé€šè¿‡æ’ä»¶åˆå¯ä»¥æ‰©å±•å‡ºè®¸å¤šåŠŸèƒ½æ¥ã€‚ Zsh æ˜¯ä»€ä¹ˆ Zsh æ˜¯ä¸€æ¬¾å¼ºå¤§çš„è™šæ‹Ÿç»ˆç«¯ï¼Œæ—¢æ˜¯ä¸€ä¸ªç³»ç»Ÿçš„è™šæ‹Ÿç»ˆç«¯ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªè„šæœ¬è¯­è¨€çš„äº¤äº’è§£æå™¨ã€‚ 12345# æ‰“å¼€ç»ˆç«¯ï¼Œåœ¨ç»ˆç«¯ä¸Šè¾“å…¥:$ zsh --version# è¿™ä¸ªå‘½ä»¤æ¥æŸ¥çœ‹æˆ‘ä»¬çš„ç”µè„‘ä¸Šæ˜¯å¦å®‰è£…äº† Zsh# ç«¯æŸ¥è¯¢ç‰ˆæœ¬ä¸ºï¼š zsh 5.7.1 (x86_64-apple-darwin19.0) ç»ˆç«¯æŸ¥è¯¢ç‰ˆæœ¬ä¸ºï¼š zsh 5.7.1 (x86_64-apple-darwin19.0) 1234567891011121314# æŸ¥çœ‹ç³»ç»Ÿå½“å‰ shell$ cat /etc/shells# List of acceptable shells for chpass(1).# Ftpd will not allow users to connect who are not using# one of these shells./bin/bash/bin/csh/bin/dash/bin/ksh/bin/sh/bin/tcsh/bin/zsh å› ä¸º zsh çš„é»˜è®¤é…ç½®æå…¶å¤æ‚ç¹çï¼Œè®©äººæœ›è€Œå´æ­¥ï¼Œå› æ­¤ä½¿ç”¨ Oh My Zsh è¿™ä¸ªå¼€æºé¡¹ç›®ï¼Œè®© zsh é…ç½®é™åˆ° 0 é—¨æ§›ã€‚è€Œä¸”å®ƒå®Œå…¨å…¼å®¹ bash ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸º Oh My Zsh æ˜¯ä¸€ä¸ªæ–¹ä¾¿ä½ é…ç½®å’Œä½¿ç”¨ Zsh çš„ä¸€ä¸ªå¼€æºå·¥å…·ã€‚ Oh My Zsh æ˜¯ä»€ä¹ˆ Oh My Zsh æ˜¯ä¸€æ¬¾ç¤¾åŒºé©±åŠ¨çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæ­£å¦‚å®ƒçš„ä¸»é¡µä¸Šè¯´çš„ï¼ŒOh My Zsh æ˜¯ä¸€ç§ç”Ÿæ´»æ–¹å¼ã€‚å®ƒåŸºäº zsh å‘½ä»¤è¡Œï¼Œæä¾›äº†ä¸»é¢˜é…ç½®ï¼Œæ’ä»¶æœºåˆ¶ï¼Œå·²ç»å†…ç½®çš„ä¾¿æ·æ“ä½œã€‚ç»™æˆ‘ä»¬ä¸€ç§å…¨æ–°çš„æ–¹å¼ä½¿ç”¨å‘½ä»¤è¡Œã€‚ Oh My Zsh æ˜¯åŸºäº zsh å‘½ä»¤è¡Œçš„ä¸€ä¸ªæ‰©å±•å·¥å…·é›†ï¼Œæä¾›äº†ä¸°å¯Œçš„æ‰©å±•åŠŸèƒ½ã€‚ å®‰è£… Oh My Zsh å‰ææ¡ä»¶ï¼šå¿…é¡»å·²å®‰è£… zsh å¦‚æœæ˜¯ linux ç³»ç»Ÿï¼Œé¦–å…ˆä½ éœ€è¦å®‰è£… zsh 123sudo yum install zshæˆ–è€…sudo apt-get install zsh mac ç³»ç»Ÿä¸‹æˆ‘ä»¬æ— éœ€å®‰è£…. ä»¥ä¸‹æ“ä½œéƒ½æ˜¯åŸºäº Mac ç³»ç»Ÿã€‚ å®‰è£… Oh My Zshå¯ä»¥é€šè¿‡ curl ã€wgetã€fetch ä¸‰ç§æ–¹å¼æ¥å®‰è£…ï¼Œç”¨ä¸€æ¡å‘½ä»¤å³å¯å®‰è£…ã€‚ Method Command curl sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot; wget sh -c &quot;$(wget -O- https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot; fetch sh -c &quot;$(fetch -o - https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot; å®‰è£…è¿‡ç¨‹ä¸­è¾“å‡ºå¦‚ä¸‹ï¼š 1234567891011121314151617181920xxxx% sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;Cloning Oh My Zsh...Cloning into '/Users/xxxx/.oh-my-zsh'...remote: Counting objects: 831, done.remote: Compressing objects: 100% (700/700), done.remote: Total 831 (delta 14), reused 775 (delta 10), pack-reused 0Receiving objects: 100% (831/831), 567.67 KiB | 75.00 KiB/s, done.Resolving deltas: 100% (14/14), done.Looking for an existing zsh config...Found ~/.zshrc. Backing up to ~/.zshrc.pre-oh-my-zshUsing the Oh My Zsh template file and adding it to ~/.zshrc __ __ ____ / /_ ____ ___ __ __ ____ _____/ /_ / __ \\/ __ \\ / __ `__ \\/ / / / /_ / / ___/ __ \\ / /_/ / / / / / / / / / / /_/ / / /_(__ ) / / / \\____/_/ /_/ /_/ /_/ /_/\\__, / /___/____/_/ /_/ /____/ ....is now installed!Please look over the ~/.zshrc file to select plugins, themes, and options.p.s. Follow us at https://twitter.com/ohmyzsh.p.p.s. Get stickers and t-shirts at http://shop.planetargon.com. å¸è½½ Oh My Zsh ç»ˆç«¯è¾“å…¥ ï¼š 12$ uninstall_oh_my_zshAre you sure you want to remove Oh My Zsh? [y/N] Y ç»ˆç«¯æç¤ºä¿¡æ¯ï¼š 1234567Removing ~/.oh-my-zshLooking for original zsh config...Found ~/.zshrc.pre-oh-my-zsh -- Restoring to ~/.zshrcFound ~/.zshrc -- Renaming to ~/.zshrc.omz-uninstalled-20170820200007Your original zsh config was restored. Please restart your session.Thanks for trying out Oh My Zsh. It's been uninstalled. Zsh å¸¸ç”¨è®¾ç½®è·Ÿ Bash ä¸€æ ·ï¼ŒBash çš„é…ç½®æ–‡ä»¶å«åš.bashrcï¼ŒZsh çš„é…ç½®æ–‡ä»¶ï¼Œä¹Ÿæ”¾åœ¨ç”¨æˆ·å½“å‰ç›®å½•ï¼Œå«åš.zshrcã€‚ é…ç½®ä¸»é¢˜1234567$ vim ~/.zshrc# æ‰¾åˆ° ZSH_THEME# robbyrussell æ˜¯é»˜è®¤çš„ä¸»é¢˜ZSH_THEME=&quot;robbyrussell&quot;# ZSH_THEME=&quot;æ ·å¼åç§°&quot; ä¿å­˜è¿™ä¸ªæ–‡ä»¶æ–‡ä»¶ï¼Œé‡æ–°æ‰“å¼€ç»ˆç«¯ã€‚ æŸ¥çœ‹ä¸»é¢˜åç§° Oh My Zsh é»˜è®¤è‡ªå¸¦äº†ä¸€äº›é»˜è®¤ä¸»é¢˜ï¼Œå­˜æ”¾åœ¨ ~/.oh-my-zsh/themes ç›®å½•ä¸­ã€‚æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹è¿™äº›ä¸»é¢˜ ç»ˆç«¯è¾“å…¥ï¼š 1$ cd ~/.oh-my-zsh/themes &amp;&amp; ls æ›´å¤šä¸»é¢˜è®¾ç½® å®šåˆ¶ä¸»é¢˜ Oh My Zsh,ã€ Agnoster ä¸»é¢˜é…ç½® ã€ Zsh å¸¸ç”¨æ–¹æ³•å‘½ä»¤åˆ«åé€šè¿‡åœ¨.zshrcä¸­é…ç½®aliasï¼Œå¯ä»¥æ–¹ä¾¿çš„ä¸ºå…¶ä»–çš„å‘½ä»¤è®¾ç½®åˆ«åï¼Œè¿™æ˜¯ä¸ªå¾ˆä¸é”™çš„åŠŸèƒ½ã€‚ æ¯”å¦‚è·Ÿ git ç›¸å…³çš„ï¼š 123456789101112131415161718192021222324252627282930alias g='git'alias ga='git add'alias gaa='git add --all'alias gapa='git add --patch'alias gb='git branch'alias gba='git branch -a'alias gbda='git branch --merged | command grep -vE &quot;^(\\*|\\s*master\\s*$)&quot; | command xargs -n 1 git branch -d'alias gbl='git blame -b -w'alias gbnm='git branch --no-merged'alias gbr='git branch --remote'alias gbs='git bisect'alias gbsb='git bisect bad'alias gbsg='git bisect good'alias gbsr='git bisect reset'alias gbss='git bisect start'alias gco=&quot;git checkout&quot;alias gc=&quot;git commit -m&quot;alias gd='git diff'alias gf='git fetch'alias gs=&quot;git status&quot;alias gsm=&quot;git summary&quot;alias gl=&quot;git log&quot;alias gm=&quot;git merge&quot;alias gpl=&quot;git pull&quot;alias gps=&quot;git push&quot;alias grv='git remote -v'alias grb='git rebase' æ¯”å¦‚pushæäº¤åˆ°è¿œç¨‹gitä»“åº“çš„æ—¶å€™ï¼Œå°±ä¸å¿…è€è€å®å®çš„è¾“å…¥ git push origin master äº†ï¼Œåªéœ€è¦è¾“å…¥ gps origin master å³å¯ã€‚äºæ˜¯ git pull ä¹Ÿç®€åŒ–æˆäº† gpl , git commit -m ä¹Ÿç®€åŒ–æˆäº† gc åˆ‡æ¢ç›®å½•åœ¨ Zsh ä¸­ï¼Œå¯ä»¥é€šè¿‡è¾“å…¥ . å·æ¥è·³è½¬ï¼Œæ¯”å¦‚ï¼š ç›´æ¥è¾“å…¥.. å’Œ â€¦ å¯ä»¥å¿«é€Ÿåˆ‡æ¢åˆ°ä¸Šå±‚å’Œä¸Šä¸Šå±‚ç›®å½• ç›´æ¥è¾“å…¥n+1ä¸ªç‚¹ï¼Œå¯ä»¥å¾€ä¸Šå±‚è·³è½¬ n å±‚ è¿›ç¨‹ id è¡¥å…¨Zsh çš„è¡¥å…¨åŠŸèƒ½éå¸¸ä¸é”™ï¼Œé™¤äº†ä¸€èˆ¬çš„ç›®å½•å’Œæ–‡ä»¶åè¡¥å…¨ï¼Œè¿˜å¯ä»¥è‡ªåŠ¨è¡¥å…¨è¿›ç¨‹ IDã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬é€šå¸¸è¦killæ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œå¾—å…ˆç”¨ ps -aux|grep process_name å…ˆæ‹¿åˆ°è¿›ç¨‹ idï¼Œç„¶åå† kill pid æ¥ç»ˆæ­¢æ‰ä¸€ä¸ªè¿›ç¨‹ã€‚åœ¨ Zsh ä¸­å¯ä»¥ç›´æ¥è¿™æ ·ï¼š(è®°å¾—æŒ‰Tabé”®) å¿«é€Ÿè·³è½¬Zsh æ”¯æŒç›®å½•çš„å¿«é€Ÿè·³è½¬ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ d è¿™ä¸ªå‘½ä»¤ï¼Œåˆ—å‡ºæœ€è¿‘è®¿é—®è¿‡çš„å„ä¸ªç›®å½•ï¼Œç„¶åé€‰æ‹©ç›®å½•å‰é¢çš„æ•°å­—è¿›è¡Œå¿«é€Ÿè·³è½¬ï¼š ç›®å½•åç®€å†™ä¸è¡¥å…¨å¦‚æœç¡®åˆ‡çš„çŸ¥é“æˆ‘ä»¬è¦è¿›å…¥æŸä¸€å±‚ç›®å½•ï¼Œä½†æ˜¯ç›®å½•åæ¯”è¾ƒé•¿ï¼Œæ²¡å…³ç³»ï¼ŒZsh å¸®ä½ æå®šï¼ æ¯”å¦‚æˆ‘ä»¬è¦è¿›å…¥åˆ° ~/workSpace/privateStudy/temï¼Œæˆ‘ä»¬åªéœ€è¦è¾“å…¥æ¯ä¸ªç›®å½•çš„é¦–å­—æ¯å°±è¡Œï¼Œç„¶åæŒ‰TABé”®è¡¥å…¨ï¼ŒZsh ä¼šå¸®ä½ æå®šå‰©ä¸‹çš„ï¼š å¸¸ç”¨å‘½ä»¤å‚æ•°è¡¥å…¨Zsh åœ¨è¡Œçš„ï¼Œä¸å…‰æ˜¯ç›®å½•åçš„è¡¥å…¨ï¼Œå¸¸ç”¨çš„å‘½ä»¤å‚æ•°ï¼Œå®ƒä¹Ÿèƒ½ç»™ä½ æä¾›å‚è€ƒï¼š(è®°å¾—æŒ‰Tabé”®) é‡å¤ä¸Šä¸€æ¡å‘½ä»¤è¾“å…¥ r ï¼Œå¯ä»¥å¾ˆä¾¿æ·çš„é‡å¤æ‰§è¡Œä¸Šä¸€æ¡å‘½ä»¤ã€‚ Zsh å¸¸ç”¨æ’ä»¶æ¨èZsh æ”¯æŒæ’ä»¶ï¼Œé€šè¿‡æ’ä»¶æ‰©å±•å¯ä»¥å®ç°è®¸å¤šæ–¹ä¾¿çš„åŠŸèƒ½ã€‚è¿™é‡Œä»‹ç»ä¸€ä¸‹æˆ‘å¸¸ç”¨çš„å‡ ä¸ª Zsh æ’ä»¶ï¼š 12# vim ~/.zshrcplugins=(git autojump zsh-autosuggestions) æ‰€æœ‰çš„ zsh çš„æ’ä»¶éƒ½æ˜¯åœ¨è¿™é‡Œé…ç½®çš„ï¼Œå…·ä½“å®‰è£…æ–¹æ³•æŸ¥çœ‹å„ä¸ªæ’ä»¶è‡ªå·±çš„ install zsh-autosuggestionså‘½ä»¤è‡ªåŠ¨æç¤ºæ’ä»¶ï¼Œè¿™ä¸ªæ˜¯ä¸ªå¾ˆæœ‰æ„æ€ä¹Ÿå¾ˆé«˜æ•ˆçš„æ’ä»¶ã€‚èƒ½è®°å½•å¹³æ—¶ä½ è¾“å…¥è¿‡çš„å‘½ä»¤ï¼Œä¸‹æ¬¡å†è¾“å…¥çš„æ—¶å€™ï¼Œå®ƒä¼šæå‰æç¤ºä½ ï¼Œæ–¹ä¾¿æ‡’äººã€‚å¦‚æœæ˜¯ä½ éœ€è¦çš„å‘½ä»¤ï¼Œç›´æ¥ â†’ æå®šï¼Œæ¥ç›´æ¥çœ‹çœ‹æ•ˆæœå§ï¼š é…åˆ item2 çš„Solarized darkä¸»é¢˜æ—¶æ¨èZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=23' autojumpautojumpæ˜¯ä¸€ä¸ªç›®å½•ç›´æ¥å¿«é€Ÿè·³è½¬çš„æ•ˆç‡å·¥å…·ï¼Œå®ƒä¼šè‡ªåŠ¨è®°å½•ä¹‹å‰è®¿é—®è¿‡çš„ç›®å½•ï¼Œå¹¶è®¡ç®—æƒé‡ã€‚ç”¨æ³•ä¹Ÿå¾ˆç®€å• j directory_name å³å¯ã€‚æ¯”å¦‚æˆ‘è¦è®¿é—® ~/workSpace/src ï¼Œåªéœ€è¦è¾“å…¥ j src å°±è¡Œäº†â€¦â€¦ zsh-syntax-highlightingzsh-syntax-highlightingä¸ºshell zshæä¾›è¯­æ³•çªå‡ºæ˜¾ç¤ºã€‚å®ƒå…è®¸é«˜äº®æ˜¾ç¤ºåœ¨zshæç¤ºç¬¦ä¸‹è¾“å…¥åˆ°äº¤äº’å¼ç»ˆç«¯çš„å‘½ä»¤ã€‚è¿™æœ‰åŠ©äºåœ¨è¿è¡Œå‘½ä»¤ä¹‹å‰æ£€æŸ¥å®ƒä»¬ï¼Œç‰¹åˆ«æ˜¯åœ¨æ•è·è¯­æ³•é”™è¯¯æ–¹é¢ã€‚ Before: After: Tips Oh My Zsh çš„è‡ªåŠ¨æ›´æ–°æç¤ºè¯¯è§¦å…³æ‰äº†è§£å†³åŠæ³• æ‰“å¼€ç»ˆç«¯è¾“å…¥ï¼šupgrade_oh_my_zsh jsontoolsjsontools æ ¼å¼åŒ– json æ•°æ®çš„å‘½ä»¤è¡Œå·¥å…· å¦‚ä¸‹æ•°æ®ï¼š åŠ ä¸Špp_jsonåï¼Œè¾“å…¥æ ¼å¼åŒ–åçš„ json æ–‡ä»¶ï¼š æ›´å¤šç”¨æ³•æŸ¥çœ‹å®˜ç½‘ å‚è€ƒé“¾æ¥ ohmyzsh ç¨‹åºå‘˜å†…åŠŸç³»åˆ—â€“iTerm ä¸ Zsh ç¯‡ Oh My Zsh, ã€ å®‰è£… &amp; é…ç½® ã€ oh-my-zsh é…ç½®ä½ çš„ zsh æé«˜ shell é€¼æ ¼ç»ˆæé€‰æ‹© How to change zsh-autosuggestions color Mac å®‰è£… oh my zsh æ’ä»¶ Top 10 Oh My Zsh Plugins For Productive Developers","link":"/articles/2021/08/29/oh-my-zsh/"},{"title":"npm publish è¿‡æ»¤éƒ¨åˆ†æ–‡ä»¶","text":"npm publish çš„æ—¶å€™ä¼šæŠŠé¡¹ç›®ç›®å½•é‡Œé¢æ‰€æœ‰çš„æ–‡ä»¶éƒ½publishåˆ°npmä»“åº“ä¸­ï¼Œ ä½†æ˜¯å¾€å¾€æœ‰ä¸€éƒ¨åˆ†ç›®å½•å’Œæ–‡ä»¶ä¸æƒ³å‘å¸ƒä¸Šå»ï¼Œæ¯”å¦‚é¡¹ç›®çš„æºç ã€ç¼–è¯‘è„šæœ¬ç­‰ç­‰ä¿¡æ¯ã€‚ å¦‚ä½•å‘å¸ƒç”¨æˆ·éœ€è¦ä½¿ç”¨çš„ç›¸å…³æ–‡ä»¶å‘¢ï¼Ÿæ–¹æ³•ä¸€ï¼šä½¿ç”¨ .gitignore è®¾ç½®å¿½ç•¥å“ªäº›æ–‡ä»¶.gitignore è®¾ç½®çš„å¿½ç•¥æ–‡ä»¶ï¼Œåœ¨ git ä»£ç ç®¡ç†å’Œ npm publish éƒ½ä¼šè¢«å¿½ç•¥ æ–¹æ³•äºŒï¼šä½¿ç”¨ .npmignore è®¾ç½®å¿½ç•¥å“ªäº›æ–‡ä»¶.npmignore çš„å†™æ³•è·Ÿ .gitignore çš„è§„åˆ™å®Œå…¨ä¸€æ ·ã€‚è‹¥åŒæ—¶ä½¿ç”¨äº† .npmignore å’Œ .gitignoreï¼Œåªæœ‰ .npmignore ä¼šç”Ÿæ•ˆï¼Œä¼˜å…ˆçº§æ¯”è¾ƒé«˜ã€‚ æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ package.json çš„ files å­—æ®µé€‰æ‹©å‘å¸ƒå“ªäº›æ–‡ä»¶ç›´æ¥åœ¨ package.json ä¸­ files å­—æ®µè®¾ç½®å‘å¸ƒå“ªäº›æ–‡ä»¶æˆ–ç›®å½•ã€‚è¿™ä¸ªä¼˜å…ˆçº§é«˜äº .npmignore å’Œ .gitignoreã€‚ PSï¼šé€‰æ‹©å“ªç§æ–¹æ³•ï¼Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚è€Œå®šã€‚ä¸€èˆ¬æƒ…å†µï¼Œä½¿ç”¨æ–¹æ³•ä¸‰ã€‚ å¦ï¼šnpm publish é»˜è®¤çš„å¿½ç•¥è§„åˆ™ é»˜è®¤è¢«å¿½ç•¥ï¼š .*.swp ._* .DS_Store .git .gitignore .hg .npmignore .npmrc .lock-wscript .svn .wafpickle-* config.gypi CVS npm-debug.log é»˜è®¤è¢«åŒ…å«ï¼Œå³ä¾¿è®¾ç½®å¿½ç•¥ä¹Ÿæ— æ•ˆ package.json README (and its variants) CHANGELOG (and its variants) LICENSE / LICENCE å‚è€ƒé“¾æ¥ npm","link":"/articles/2021/12/10/npm-publish-filter/"},{"title":"ä¼˜åŒ– puppeteer","text":"æœ¬æ–‡å°†è®²è¿°å¦‚ä½•ä¼˜åŒ–puppeteer ä»€ä¹ˆæ˜¯ puppeteer Puppeteer æ˜¯ä¸€ä¸ª Node åº“ï¼Œå®ƒæä¾›äº†é«˜çº§ API æ¥é€šè¿‡ DevTools åè®®æ§åˆ¶ Chromium æˆ– Chromeã€‚ é€šè¿‡Puppeteeræˆ‘ä»¬å¯ä»¥ç¼–å†™è„šæœ¬æ¨¡æ‹Ÿæµè§ˆå™¨çš„ç›¸å…³è¡Œä¸ºï¼Œå®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š ç½‘é¡µæˆªå›¾å¹¶ä¿å­˜ä¸ºå›¾ç‰‡æˆ– pdf ã€‚ æ¨¡æ‹Ÿè¡¨å•æäº¤ï¼Œé”®ç›˜è¾“å…¥ï¼ŒæŒ‰é’®ç‚¹å‡»ï¼Œæ»‘å—ç§»åŠ¨ç­‰ dom æ“ä½œã€‚ å®ç° UI çš„è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚ ä½œä¸ºæŠ“åŒ…å·¥åŒºå¯¹ç½‘é¡µæ€§èƒ½è¿›è¡Œè°ƒè¯•å’Œåˆ†æã€‚ ç¼–å†™å®šåˆ¶åŒ–çˆ¬è™«ï¼Œè§£å†³ä¼ ç»Ÿ HTTP æŠ“å– SPA é¡µé¢éš¾ä»¥å¤„ç†å¼‚æ­¥è¯·æ±‚çš„é—®é¢˜ã€‚ ä¸ºä»€ä¹ˆè¦ä¼˜åŒ–éšç€æœ€è¿‘é¡¹ç›®è¿›åº¦çš„å¤æ‚ï¼Œé¡¹ç›®åœ¨ä½¿ç”¨ Puppeteer æ—¶é‡åˆ°ä¸€äº›é—®é¢˜ï¼Œè¿™äº›é—®é¢˜åŒ…æ‹¬ï¼šç»å¸¸å¡ä½ï¼Œè¿è¡Œæ…¢ã€å¡ï¼Œæµè§ˆå™¨å…³ä¸æ‰ï¼ŒCPU å’Œ å†…å­˜ ç»å¸¸æ˜¯æ»¡è½½è¿è¡Œçš„ï¼Œç‰¹åˆ«æ˜¯ CPU ï¼Œç»å¸¸æ˜¯ 99% çš„ä½¿ç”¨ç‡ã€‚ Chromium æ¶ˆè€—æœ€å¤šçš„èµ„æºæ˜¯ CPUï¼Œä¸€æ˜¯æ¸²æŸ“éœ€è¦å¤§é‡è®¡ç®—ï¼ŒäºŒæ˜¯ Dom çš„è§£æä¸æ¸²æŸ“åœ¨ä¸åŒçš„è¿›ç¨‹ï¼Œè¿›ç¨‹é—´åˆ‡æ¢ä¼šç»™ CPU é€ æˆå‹åŠ›ï¼ˆè¿›ç¨‹å¤šäº†ä¹‹åç‰¹åˆ«æ˜æ˜¾ï¼‰ã€‚ å…¶æ¬¡æ¶ˆè€—æœ€å¤šçš„æ˜¯å†…å­˜ï¼ŒChromium æ˜¯ä»¥å¤šè¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œä¸€ä¸ªé¡µé¢ä¼šç”Ÿæˆä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹å ç”¨ 30M å·¦å³çš„å†…å­˜ï¼Œå¤§è‡´ä¼°ç®— 1000 ä¸ªè¯·æ±‚å ç”¨ 30G å†…å­˜ï¼Œåœ¨å¹¶å‘é«˜çš„æ—¶å€™å†…å­˜ç“¶é¢ˆæœ€å…ˆæ˜¾ç°ã€‚ ä¼˜åŒ–æœ€ç»ˆä¼šè½åœ¨å†…å­˜å’Œ CPU ä¸Šï¼ˆæ‰€æœ‰è½¯ä»¶çš„ä¼˜åŒ–æœ€ç»ˆéƒ½è¦è½åˆ°è¿™é‡Œï¼‰ï¼Œé€šå¸¸æ¥è¯´å› ä¸ºå¹¶å‘é€ æˆçš„ç“¶é¢ˆéœ€è¦ä¼˜åŒ–å†…å­˜ï¼Œè®¡ç®—é€Ÿåº¦æ…¢çš„é—®é¢˜è¦ä¼˜åŒ– CPUã€‚ ä¼˜åŒ–ç‚¹ä¼˜åŒ– Chromium å¯åŠ¨é¡¹ å¦‚æœå°† Dom è§£æå’Œæ¸²æŸ“æ”¾åˆ°åŒä¸€è¿›ç¨‹ï¼Œè‚¯å®šèƒ½æå‡æ—¶é—´ï¼ˆè¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ—¶é—´ï¼‰ã€‚å¯¹åº”çš„é…ç½®æ˜¯ single-process éƒ¨åˆ†åŠŸèƒ½ disable æ‰ï¼Œæ¯”å¦‚ GPUã€Sandboxã€æ’ä»¶ç­‰ï¼Œå‡å°‘å†…å­˜çš„ä½¿ç”¨å’Œç›¸å…³è®¡ç®—ã€‚ ä»£ç å¦‚ä¸‹ï¼š 123456789101112const browser = await puppeteer.launch({ headless: true, // ä»¥ æ— å¤´æ¨¡å¼ï¼ˆéšè—æµè§ˆå™¨ç•Œé¢ï¼‰è¿è¡Œæµè§ˆå™¨ args: [ '--disable-gpu', // GPUç¡¬ä»¶åŠ é€Ÿ '--disable-dev-shm-usage', // åˆ›å»ºä¸´æ—¶æ–‡ä»¶å…±äº«å†…å­˜ '--disable-setuid-sandbox', // uidæ²™ç›’ '--no-first-run', // æ²¡æœ‰è®¾ç½®é¦–é¡µã€‚åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œå°±ä¼šæ‰“å¼€ä¸€ä¸ªç©ºç™½é¡µé¢ã€‚ '--no-sandbox', // æ²™ç›’æ¨¡å¼ '--no-zygote', '--single-process', // å•è¿›ç¨‹è¿è¡Œ ],}); å¤ç”¨ browseræ¯æ¬¡è¯·æ±‚éƒ½å¯åŠ¨ Chromiumï¼Œå†æ‰“å¼€ tab é¡µï¼Œè¯·æ±‚ç»“æŸåå†å…³é—­ tab é¡µä¸æµè§ˆå™¨ã€‚ æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š è¯·æ±‚åˆ°è¾¾ -&gt; å¯åŠ¨ Chromium -&gt; æ‰“å¼€ tab é¡µ -&gt; è¿è¡Œä»£ç  -&gt; å…³é—­ tab é¡µ -&gt; å…³é—­ Chromium -&gt; è¿”å›æ•°æ® çœŸæ­£è¿è¡Œä»£ç çš„åªæ˜¯ tab é¡µé¢ï¼Œç†è®ºä¸Šå¯åŠ¨ä¸€ä¸ª Chromium ç¨‹åºèƒ½è¿è¡Œæˆåƒä¸Šä¸‡çš„ tab é¡µï¼Œå¯ä¸å¯ä»¥å¤ç”¨ Chromium åªæ‰“å¼€ä¸€ä¸ª tab é¡µç„¶åå…³é—­å‘¢ï¼Ÿ å½“ç„¶æ˜¯å¯ä»¥çš„ã€‚ Puppeteer æä¾›äº† puppeteer.connect() æ–¹æ³•ï¼Œå¯ä»¥è¿æ¥åˆ°å½“å‰æ‰“å¼€çš„æµè§ˆå™¨ã€‚è€Œä¸”puppeteer.connectæ¯”puppeteer.launchå¯åŠ¨ä¸€ä¸ªæµè§ˆå™¨å®ä¾‹è¦å¿«å¾ˆå¤šï¼ˆå‚è€ƒ) æµç¨‹å¦‚ä¸‹ï¼š è¯·æ±‚åˆ°è¾¾ -&gt; è¿æ¥ Chromium -&gt; æ‰“å¼€ tab é¡µ -&gt; è¿è¡Œä»£ç  -&gt; å…³é—­ tab é¡µ -&gt; è¿”å›æ•°æ® ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415// ä½¿ç”¨ç¼“å­˜wsEndpointconst wsEndpoint = this.wsEndpoint;let browser;try { browser = !wsEndpoint ? await puppeteer.launch(config) : await puppeteer.connect({ browserWSEndpoint: this.wsEndpoint, });} catch (err) { browser = await puppeteer.launch(config);} finally { // ç¼“å­˜wsEndpoint this.wsEndpoint = browser.wsEndpoint();} åœ¨è¿›ä¸€æ­¥ä¼˜åŒ–æ˜¯åœ¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œåˆå§‹åŒ–ä¸€å®šæ•°é‡çš„æ— å¤´æµè§ˆå™¨ï¼Œå¹¶ä¿å­˜ WSEndpoint åˆ—è¡¨ï¼Œå½“æ”¶åˆ°è¯·æ±‚æ—¶ï¼Œé€šè¿‡éšæœºæ•°åšç®€å•çš„è´Ÿè½½å‡è¡¡ï¼ˆåˆ©ç”¨å¤šæ ¸ç‰¹æ€§ï¼‰ã€‚ ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839const config = { headless: true, args: [ '--disable-gpu', '--disable-dev-shm-usage', '--disable-setuid-sandbox', '--no-first-run', '--no-sandbox', '--no-zygote', '--single-process', ],};const MAX_WSE = 4; // å¯åŠ¨å‡ ä¸ªæµè§ˆå™¨const WSE_LIST = []; // å­˜å‚¨browserWSEndpointåˆ—è¡¨init();// åˆå§‹åŒ–function init() { (async () =&gt; { for (let i = 0; i &lt; MAX_WSE; i++) { const browser = await puppeteer.launch(config); WSE_LIST[i] = await browser.wsEndpoint(); } })();}// ä½¿ç”¨åœºæ™¯app.get('/', function (req, res) { const tmp = Math.floor(Math.random() * MAX_WSE); (async () =&gt; { const browserWSEndpoint = WSE_LIST[tmp]; const browser = await puppeteer.connect({ browserWSEndpoint }); const page = await browser.newPage(); await page.goto('http://example.com'); await page.screenshot({ path: 'example.png' }); await page.close(); res.send('Hello World!'); })();}); æœ€ç»ˆä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347/** * @desc Puppeteer å®ä¾‹ * è¯·æ±‚åˆ°è¾¾ -&gt; è¿æ¥ Chromium -&gt; æ‰“å¼€ tab é¡µ -&gt; è¿è¡Œä»£ç  -&gt; å…³é—­ tab é¡µ -&gt; è¿”å›æ•°æ® * */import puppeteer from 'puppeteer';import { htmlGenWaterMark } from './watermark';class PuppeteerHelper { constructor() { this.instance = null; // å¯åŠ¨4ä¸ªæµè§ˆå™¨ this.MAX_WSE = 4; // å­˜å‚¨browser.WSEndpointåˆ—è¡¨ this.WSE_LIST = []; // é™å®šé¡µé¢æ‰“å¼€æ¬¡æ•° this.PAGE_COUNT = 1000; // å­˜å‚¨æµè§ˆå™¨æ‰“å¼€é¡µé¢æ¬¡æ•° this.PAGE_NUM = []; // é‡å¯æµè§ˆå™¨çš„timer this.replaceTimer = []; // puppeteer é…ç½® this.p_config = { headless: true, // ä»¥ æ— å¤´æ¨¡å¼ï¼ˆéšè—æµè§ˆå™¨ç•Œé¢ï¼‰è¿è¡Œæµè§ˆå™¨ args: [ '--disable-gpu', // GPUç¡¬ä»¶åŠ é€Ÿ '--disable-dev-shm-usage', // åˆ›å»ºä¸´æ—¶æ–‡ä»¶å…±äº«å†…å­˜ '--disable-setuid-sandbox', // uidæ²™ç›’ '--no-first-run', // æ²¡æœ‰è®¾ç½®é¦–é¡µã€‚åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œå°±ä¼šæ‰“å¼€ä¸€ä¸ªç©ºç™½é¡µé¢ã€‚ '--no-sandbox', // æ²™ç›’æ¨¡å¼ '--no-zygote', '--single-process', // å•è¿›ç¨‹è¿è¡Œ ], }; // åˆå§‹åŒ– this._init(); } static getInstance() { if (!this.instance) { this.instance = new PuppeteerHelper(); } return this.instance; } // åˆå§‹åŒ– /** * @desc åˆå§‹åŒ– * ä½¿ç”¨puppeteer.connectæ¯”puppeteer.launchå¯åŠ¨ä¸€ä¸ªæµè§ˆå™¨å®ä¾‹è¦å¿«å¾ˆå¤š * https://stackoverflow.com/questions/52431775/whats-the-performance-difference-of-puppeteer-launch-versus-puppeteer-connect * å½“å¼€å¯å¤šä¸ªbrowserå®ä¾‹æ—¶ï¼Œå¯ä»¥é€šè¿‡ç¼“å­˜wsEndpointæ¥è¾¾åˆ°å¤ç”¨çš„ç›®çš„ * */ _init() { (async () =&gt; { console.log('ã€PuppeteerHelperã€‘puppeteer config:', this.p_config); for (let i = 0; i &lt; this.MAX_WSE; i++) { await this._generateBrowser(i); } console.log('ã€PuppeteerHelperã€‘WSE_LISTï¼š', this.WSE_LIST); })(); } /** * @desc ç”ŸæˆæŒ‡å®šç¼–å·çš„æµè§ˆå™¨ * @param {number} num ç¼–å· * */ async _generateBrowser(num) { // å…ˆé€šè¿‡ puppeteer.launch() åˆ›å»ºä¸€ä¸ªæµè§ˆå™¨å®ä¾‹ Browser å¯¹è±¡ const browser = await puppeteer.launch(this.p_config); // å­˜å‚¨æµè§ˆå™¨ websocket çš„åœ°å€ this.WSE_LIST[num] = await browser.wsEndpoint(); // åˆå§‹åŒ–æ‰“å¼€æ¬¡æ•°,å› ä¸ºæµè§ˆå™¨ä¼šæ‰“å¼€ä¸€ä¸ªç©ºç™½é¡µ this.PAGE_NUM[num] = 1; return browser; } /** * @desc æ›¿æ¢å½“å‰æµè§ˆå™¨å®ä¾‹ * @param {Promise&lt;Browser&gt;} browser å½“å‰æµè§ˆå™¨å®ä¾‹ * @param {number} num å½“å‰æµè§ˆå™¨ç¼–å· * @param {number} retries é‡è¯•æ¬¡æ•°ï¼Œè¶…è¿‡è¿™ä¸ªæ¬¡æ•°ç›´æ¥å…³é—­æµè§ˆå™¨ * */ async _replaceBrowserInstance(browser, num, retries = 2) { clearTimeout(this.replaceTimer[num]); const pageNum = this.PAGE_NUM[num]; // å½“å‰æµè§ˆå™¨å¤„äºæ‰“å¼€çš„é¡µé¢ä¸ªæ•° const openPages = await browser.pages(); const oneMinute = 60 * 1000; // å› ä¸ºæµè§ˆå™¨ä¼šæ‰“å¼€ä¸€ä¸ªç©ºç™½é¡µï¼Œå¦‚æœå½“å‰æµè§ˆå™¨è¿˜æœ‰ä»»åŠ¡åœ¨æ‰§è¡Œï¼Œä¸€åˆ†é’Ÿåå†å…³é—­ if (openPages &amp;&amp; openPages.length &gt; 1 &amp;&amp; retries &gt; 0) { const nextRetries = retries - 1; console.log( 'ã€PuppeteerHelperã€‘å½“å‰ä½¿ç”¨æµè§ˆå™¨ç¼–å·ï¼š%sï¼Œbrowser.pagesï¼š%sï¼Œretries', num, openPages.length, retries ); this.replaceTimer[num] = setTimeout(() =&gt; this._replaceBrowserInstance(browser, num, nextRetries), oneMinute); // è¿”å›æ—§çš„æµè§ˆå™¨ä½¿ç”¨ return browser; } // å…³é—­æµè§ˆå™¨ browser.close(); // ä½¿ç”¨æ–°çš„æµè§ˆå™¨ const newBrowser = await this._generateBrowser(num); console.log( 'ã€PuppeteerHelperã€‘å½“å‰ä½¿ç”¨æµè§ˆå™¨ç¼–å·ï¼š%s å·²æ‰“å¼€é¡µé¢æ€»æ¬¡æ•°ï¼ˆ%sï¼‰è¶…è¿‡ä¸Šé™ï¼Œåˆ›å»ºæ–°å®ä¾‹ï¼Œæ–°çš„wsEndpointï¼š%s', num, pageNum, this.WSE_LIST[num] ); return newBrowser; } /** * @desc æä¾›æµè§ˆå™¨å®ä¾‹ * */ async _currentBrowser() { // é€šè¿‡éšæœºæ•°åšç®€å•çš„è´Ÿè½½å‡è¡¡,ç¡®å®šä½¿ç”¨çš„ç¬¬å‡ å°æµè§ˆå™¨ const tmp = Math.floor(Math.random() * this.MAX_WSE); const browserWSEndpoint = this.WSE_LIST[tmp]; const pageNum = this.PAGE_NUM[tmp]; console.log( 'ã€PuppeteerHelperã€‘å½“å‰ä½¿ç”¨æµè§ˆå™¨ç¼–å·ï¼š%s ï¼ŒwsEndpointï¼š%sï¼Œè¿‡å»å·²æ‰“å¼€é¡µé¢æ€»æ¬¡æ•° %s', tmp, browserWSEndpoint, pageNum ); let browser; try { // ä½¿ç”¨èŠ‚ç‚¹æ¥é‡æ–°å»ºç«‹è¿æ¥ browser = await puppeteer.connect({ browserWSEndpoint }); // å¦‚æœå½“å‰æµè§ˆå™¨è¶…è¿‡è§„å®šæ¬¡æ•°ï¼Œåˆ™æ›¿æ¢æµè§ˆå™¨ if (this.PAGE_NUM[tmp] &gt; this.PAGE_COUNT) { browser = this._replaceBrowserInstance(browser, tmp); } } catch (err) { // è¿æ¥å¤±è´¥é‡æ–°åˆ›å»ºæ–°çš„æµè§ˆå™¨å®ä¾‹ browser = await this._generateBrowser(tmp); console.log( 'ã€PuppeteerHelperã€‘å½“å‰ä½¿ç”¨æµè§ˆå™¨ç¼–å·ï¼š%s è¿æ¥å¤±è´¥ï¼Œåˆ›å»ºæ–°å®ä¾‹ï¼Œæ–°çš„wsEndpointï¼š%s', tmp, this.WSE_LIST[tmp] ); console.log('ã€PuppeteerHelperã€‘WSE_LISTï¼š', this.WSE_LIST); } // å¢åŠ æ‰“å¼€é¡µé¢æ¬¡æ•° this.PAGE_NUM[tmp]++; return browser; } /** * @desc è‡ªå®šä¹‰ç­‰å¾… * @param page é¡µé¢ * @param {number} [timeout] è‡ªå®šä¹‰ç­‰å¾…æ—¶é•¿ï¼Œå•ä½msï¼Œé»˜è®¤30S * */ async _waitRender(page, timeout) { console.log('ã€_waitRenderã€‘å¼€å¯è‡ªå®šä¹‰ç­‰å¾…,è‡ªå®šä¹‰ç­‰å¾…æ—¶é•¿ï¼š%s ms,ï¼ˆé»˜è®¤30sï¼‰', timeout); // åœ¨é¡µé¢ä¸­å®šä¹‰è‡ªå·±è®¤ä¸ºåŠ è½½å®Œçš„äº‹ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶é—´ç‚¹æˆ‘ä»¬å°†è¯¥äº‹ä»¶è®¾ç½®ä¸º true // å¦‚æœ _renderDone å‡ºç°ä¸”ä¸º true é‚£ä¹ˆå°±æˆªå›¾ï¼Œå¦‚æœæ˜¯ Objectï¼Œè¯´æ˜é¡µé¢åŠ è½½å‡ºé”™äº†ï¼Œå¯ä»¥æ•è·è¯¥å¼‚å¸¸è¿›è¡Œæç¤º const renderDoneHandle = await page.waitForFunction('window._renderDone', { polling: 120, timeout: timeout, }); const renderDone = await renderDoneHandle.jsonValue(); if (typeof renderDone === 'object') { console.log(`ã€_waitRenderã€‘åŠ è½½é¡µé¢å¤±è´¥ï¼š -- ${renderDone.msg}`); await page.close(); throw new Error(`å®¢æˆ·ç«¯è¯·æ±‚é‡è¯•ï¼š -- ${renderDone.msg}`); } else { console.log('ã€_waitRenderã€‘é¡µé¢åŠ è½½æˆåŠŸ'); } } /** * @desc æ°´å° * @param page * @param {string} text æ°´å°æ–‡å­— * @return {Promise&lt;void&gt;} * @private */ async _watermark(page, text) { // å°† content ä¸­çš„å­—ç¬¦å†…å®¹ä½œä¸º script æ·»åŠ åˆ° head ä¸­. await page.addScriptTag({ content: htmlGenWaterMark.toString() }); await page.evaluate( (options) =&gt; { window.htmlGenWaterMark(options); }, { text: text } ); } /** * @desc æˆªå›¾ * @param {string} url ç½‘å€é“¾æ¥ * @param {string} filePath å›¾ç‰‡ä¿å­˜è·¯å¾„,å¦‚æœæœªæä¾›ï¼Œåˆ™ä¿å­˜åœ¨å½“å‰ç¨‹åºè¿è¡Œä¸‹çš„example.png * @param {number} width å¯è§†åŒºåŸŸå®½åº¦ï¼Œæˆªå›¾è®¾å®šfullPage,å¯æ»šåŠ¨ï¼Œå› æ­¤æ­¤è®¾å®šå¯èƒ½å¯¹æˆªå›¾æ— æ„ä¹‰ * @param {number} height å¯è§†åŒºåŸŸé«˜åº¦ï¼Œæˆªå›¾è®¾å®šfullPage,å¯æ»šåŠ¨ï¼Œå› æ­¤æ­¤è®¾å®šæš‚æ—¶å¯¹æˆªå›¾æ— æ„ä¹‰ * @param {string} screenshotType æˆªå›¾ç±»å‹ * @param {string} selector é€‰æ‹©å™¨ * @param {number} altitudeCompensation é«˜åº¦è¡¥å¿ * @param {object} headers æ¯ä¸ª HTTP è¯·æ±‚éƒ½ä¼šå¸¦ä¸Šè¿™äº›è¯·æ±‚å¤´ã€‚å€¼å¿…é¡»æ˜¯å­—ç¬¦ä¸² * @param {boolean} openWait æ˜¯å¦å¼€å¯ç­‰å¾… * @param {number} waitTimeout è‡ªå®šä¹‰ç­‰å¾…æ—¶é•¿ * @param {boolean} openWatermark æ˜¯å¦å¼€å¯ç­‰å¾… * @param {string} watermarkText æ˜¯å¦å¼€å¯ç­‰å¾… * */ async screenshot({ url, filePath = './example.png', width = 800, height = 600, screenshotType = 'default', selector, altitudeCompensation = 0, headers, openWait, waitTimeout, openWatermark, watermarkText = 'æ°´å°', }) { console.log('ã€PuppeteerHelperã€‘å¼€å§‹æˆªå›¾'); // è·å¾—å¯ä»¥ä½¿ç”¨çš„ä¸€å°æµè§ˆå™¨ const browser = await this._currentBrowser(); // ç„¶åé€šè¿‡ Browser å¯¹è±¡åˆ›å»ºé¡µé¢ Page å¯¹è±¡ const page = await browser.newPage(); try { // è®¾ç½®å¯è§†åŒºåŸŸå¤§å°,é»˜è®¤çš„é¡µé¢å¤§å°ä¸º800x600åˆ†è¾¨ç‡ await page.setViewport({ width, height }); // è®¾å®šè¯·æ±‚å¤´ headers &amp;&amp; (await page.setExtraHTTPHeaders(headers)); // ç„¶å page.goto() è·³è½¬åˆ°æŒ‡å®šçš„é¡µé¢ await page.goto(url, { // ä¸å†æœ‰ç½‘ç»œè¿æ¥æ—¶è§¦å‘ï¼ˆè‡³å°‘500æ¯«ç§’åï¼‰,è®¤ä¸ºé¡µé¢è·³è½¬å®Œæˆ waitUtil: 'networkidle0', }); // åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­æ‰§è¡Œå‡½æ•°, è·å–é¡µé¢çš„å®½åº¦å’Œé«˜åº¦ // eslint-disable-next-line no-unused-vars const documentSize = await page.evaluate(() =&gt; { return { width: document.documentElement.clientWidth, // document.body.scrollHeight height: document.body.clientHeight, }; }); // åŠ è½½è‡ªå®šä¹‰ç­‰å¾…æ—¶é—´ openWait &amp;&amp; (await this._waitRender(page, waitTimeout)); // åŠ è½½æ°´å° openWatermark &amp;&amp; (await this._watermark(page, watermarkText)); // é’ˆå¯¹bodyå…ƒç´ è¿›è¡Œæˆªå›¾ // const element = await page.$('body'); // const picture = await page.screenshot({ path: filePath }); // è°ƒç”¨ page.screenshot() å¯¹é¡µé¢è¿›è¡Œæˆªå›¾ const picture = await this._capture(page, { screenshotType, filePath, selector, altitudeCompensation }); return picture; } finally { console.log('ã€PuppeteerHelperã€‘ç»“æŸæˆªå›¾ï¼Œå…³é—­å½“å‰é¡µé¢'); // æ— è®ºæˆªå›¾å¤±è´¥è¿˜æ˜¯æˆåŠŸéƒ½ä¼šå…³é—­å½“å‰é¡µé¢ await page.close(); } } /** * @desc æŒ‰ç…§æˆªå›¾ç±»å‹è·å–æŒ‡å®šåŒºåŸŸå›¾ç‰‡ * @param page * @param {string} screenshotType æˆªå›¾ç±»å‹ * @param {string} filePath å›¾ç‰‡ä¿å­˜è·¯å¾„,å¦‚æœæœªæä¾›ï¼Œåˆ™ä¿å­˜åœ¨å½“å‰ç¨‹åºè¿è¡Œä¸‹çš„example.png * @param {string} selector é€‰æ‹©å™¨ * @param {number} altitudeCompensation é«˜åº¦è¡¥å¿ * @return {Promise&lt;Buffer&gt;} * @private */ async _capture(page, { screenshotType, filePath, selector, altitudeCompensation = 0 }) { switch (screenshotType) { case 'selector': { const element = await page.$(selector); const boundingBox = await element.boundingBox(); const picture = await element.screenshot({ path: filePath, clip: boundingBox }); return picture; } case 'scrollBody': { // page.evaluateæ–¹æ³•éå†æ‰€æœ‰divèŠ‚ç‚¹ï¼Œæ‰¾åˆ°ä¸€ä¸ªscrollHeightå¤§äºè§†å£é«˜åº¦çš„èŠ‚ç‚¹ï¼Œå°†å…¶æ ‡è®°ä¸ºæ»šåŠ¨èŠ‚ç‚¹ã€‚å¦‚æœæ‰€æœ‰å…ƒç´ èŠ‚ç‚¹çš„scrollHeightéƒ½ä¸å¤§äºè§†å£é«˜åº¦ï¼Œåˆ™bodyä¸ºæ»šåŠ¨èŠ‚ç‚¹ã€‚ const { scrollHeight, isBody, width } = await page.evaluate(() =&gt; { const clientHeight = document.documentElement.clientHeight; const clientWidth = document.documentElement.clientWidth; const divs = [...document.querySelectorAll('div')]; const len = divs.length; let isBody = false; let boxEl = null; let i = 0; for (; i &lt; len; i++) { const div = divs[i]; if (div.scrollHeight &gt; clientHeight) { boxEl = div; break; } } if (!boxEl &amp;&amp; i === len) { boxEl = document.querySelector('body'); isBody = true; } return { scrollHeight: boxEl.scrollHeight, isBody: isBody, width: clientWidth }; }); // æœ‰æ–°çš„æ»šåŠ¨èŠ‚ç‚¹æ—¶è®¾å®šå¯è§†åŒºåŸŸé«˜åº¦ !isBody &amp;&amp; (await page.setViewport({ height: scrollHeight + altitudeCompensation, width: width })); // æˆªå›¾ const picture = await page.screenshot({ path: filePath, fullPage: true, }); return picture; } case 'default': default: { const picture = await page.screenshot({ // æˆªå›¾ä¿å­˜è·¯å¾„ path: filePath, fullPage: true, // clip: { // x: 0, // y: 0, // height: documentSize.height, // width: documentSize.width // } }); return picture; } } }}export default PuppeteerHelper.getInstance(); ä½¿ç”¨ tab æ–¹å¼æ¸²æŸ“åè¯·æ±‚é€Ÿåº¦æå‡äº† 200ms å·¦å³ï¼Œä¸€ä¸ª tab è¿›ç¨‹ä½¿ç”¨å†…å­˜é™åˆ° 20M ä»¥å†…ï¼Œå¸¦æ¥çš„æ”¶ç›Šä¹Ÿéå¸¸å¯è§‚ã€‚ ä¸è¿‡è¿™é‡Œè¦æ³¨æ„ï¼Œå®˜æ–¹å¹¶ä¸å»ºè®®è¿™æ ·åšï¼Œå› ä¸ºä¸€ä¸ª tab é¡µé˜»å¡æˆ–è€…å†…å­˜æ³„éœ²ä¼šå¯¼è‡´æ•´ä¸ªæµè§ˆå™¨é˜»å¡å¹¶ Crashã€‚ä¸‡å…¨çš„è§£å†³åŠæ³•æ˜¯å®šæœŸé‡å¯ç¨‹åºï¼Œå½“è¯·æ±‚ 1000 æ¬¡æˆ–è€…å†…å­˜è¶…è¿‡é™åˆ¶åé‡å¯å¯¹åº”çš„è¿›ç¨‹ã€‚ è¿‡æ»¤è¯·æ±‚å½“æˆ‘ä»¬ä½¿ç”¨puppeteerå¯¹é¡µé¢å¼‚æ­¥æ¸²æŸ“çš„domç»“æ„è¿›è¡Œè§£ææ—¶ï¼Œå¾€å¾€éœ€è¦ç­‰å¾…é¡µé¢å®Œæˆæ¸²æŸ“å®Œæˆä¹‹åï¼Œæ‰èƒ½ä½¿ç”¨è„šæœ¬è¿›è¡Œæ“ä½œã€‚ä½†é¡µé¢æ¸²æŸ“è¿‡ç¨‹ä¸­ä¹ŸåŒ…å«äº†è®¸å¤šé™æ€èµ„æºå¦‚ï¼šå›¾ç‰‡/éŸ³é¢‘/è§†é¢‘/æ ·å¼æ–‡ä»¶ç­‰ã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡page.setRequestInterceptionæ–¹æ³•ï¼Œå¯¹ç½‘é¡µè¯·æ±‚è¿›è¡Œè¿‡æ»¤ï¼Œæ‹¦æˆªé™æ€èµ„æºçš„è¯·æ±‚ï¼ŒåŠ å¿«é¡µé¢æ¸²æŸ“é€Ÿåº¦ã€‚ ä»£ç å¦‚ä¸‹ï¼š 123456789101112// å¼€å¯è¯·æ±‚æ‹¦æˆªåŠŸèƒ½await page.setRequestInterception(true);page.on('request', (req) =&gt; { // æ ¹æ®è¯·æ±‚ç±»å‹è¿‡æ»¤ const resourceType = req.resourceType(); if (resourceType === 'image') { req.abort(); } else { req.continue(); }}); æ¨èæ‹¦æˆªçš„è¯·æ±‚ç±»å‹ï¼š 1234567891011121314151617181920212223const blockedResourceTypes = ['image', 'media', 'font', 'texttrack', 'object', 'beacon', 'csp_report', 'imageset'];const skippedResources = [ 'quantserve', 'adzerk', 'doubleclick', 'adition', 'exelator', 'sharethrough', 'cdn.api.twitter', 'google-analytics', 'googletagmanager', 'google', 'fontawesome', 'facebook', 'analytics', 'optimizely', 'clicktale', 'mixpanel', 'zedo', 'clicksor', 'tiqcdn',]; ä»£ç†è¯·æ±‚é™¤äº†è¿‡æ»¤è¯·æ±‚ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ç”¨ä»£ç†ç½‘é¡µæ¸²æŸ“è¿‡ç¨‹ä¸­å‘å‡ºçš„è¯·æ±‚ã€‚åœ¨æŸäº›çˆ¬è™«é¡¹ç›®è¾¾åˆ°ä¸è¢«å‘çˆ¬çš„ç›®çš„ï¼Œ ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617page.on('request', async (req) =&gt; { // ä»£ç†è¯·æ±‚ const response = await fetch({ url: req.url(), method: req.method(), headers: req.headers(), body: req.postData(), agent: new HttpProxyAgent(getProxyIp()), }); // å“åº”è¯·æ±‚ req.respond({ status: response.statusCode, contentType: response.headers['content-type'], headers: response.headers || req.headers(), body: response.body, });}); å‚è€ƒé“¾æ¥ Puppeteer Puppeteer è‡ªåŠ¨åŒ–çš„æ€§èƒ½ä¼˜åŒ–ä¸æ‰§è¡Œé€Ÿåº¦æå‡ puppeteer ä¼˜åŒ–å°æŠ€å·§","link":"/articles/2021/07/05/optimize-puppeteer/"},{"title":"package.json å„å­—æ®µçš„ä½œç”¨","text":"package.json æ–‡ä»¶å¯ä»¥ä½¿ä½ çš„ npm åŒ…å¯¹äºå…¶ä»–äººæ¥è¯´æ›´å®¹æ˜“ç®¡ç†å’Œä¸‹è½½ã€‚å‘å¸ƒ npm åŒ…ä¹Ÿæ˜¯å¿…é¡»è¦æœ‰è¯¥æ–‡ä»¶çš„ã€‚ name npm åŒ…çš„åå­—ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªå°å†™çš„å•è¯ï¼Œå¯ä»¥åŒ…å«è¿å­—ç¬¦-å’Œä¸‹åˆ’çº¿_ã€‚å‘å¸ƒæ—¶å¿…å¡«ã€‚ version npm åŒ…çš„ç‰ˆæœ¬å·ï¼Œå¿…é¡»æ˜¯x.x.xçš„å½¢å¼ï¼Œå¹¶ä¸”éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„åˆ™ã€‚å‘å¸ƒæ—¶å¿…å¡«ã€‚ é˜¶æ®µ è§„åˆ™ ä¾‹å­ é¦–æ¬¡å‘ç‰ˆ ä» 1.0.0 å¼€å§‹ 1.0.0 è¡¥ä¸å‘å¸ƒ é€’å¢ç¬¬ä¸‰ä½æ•° 1.0.8 æ¬¡è¦ç‰ˆæœ¬ é€’å¢ç¬¬äºŒä½æ•°ï¼Œå°†ç¬¬ä¸‰ä½ç½®ä½ 0 1.2.0 ä¸»è¦ç‰ˆæœ¬ é€’å¢ç¬¬ä¸€ä½æ•°ï¼Œå°†åä¿©ä½æ•°ç½®ä½ 0 3.0.0 æ³¨ï¼šç‰ˆæœ¬å·ä¸å­˜åœ¨åè¿›åˆ¶è¯´æ³•ï¼Œå½“ä»£ç ä¸€ç›´å¤„äºåŒä¸€é˜¶æ®µæ›´æ–°æ—¶ï¼Œç‰ˆæœ¬å·å¯ä»¥ä¸€ç›´å¢åŠ ã€1.0.35ã€1.12.5éƒ½æ˜¯å¯ä»¥çš„ã€‚ description npm åŒ…çš„ç®€çŸ­æè¿°ï¼Œå®ƒä¼šæ˜¾ç¤ºåœ¨ npm å®˜æ–¹æœç´¢çš„åˆ—è¡¨ä¸­ã€‚ 12&quot;description&quot;: &quot;This is description&quot; keywords npm åŒ…çš„å…³é”®è¯ï¼Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå¯ä»¥å¸®åŠ©å…¶ä»–äººåœ¨ npm æœç´¢åˆ—è¡¨ä¸­å‘ç°ä½ çš„åŒ…ã€‚ 1234567&quot;keywords&quot;: [ &quot;react&quot;, &quot;component&quot;, &quot;ui&quot;, &quot;sea&quot;], homepage npm åŒ…é¡¹ç›®ä¸»é¡µåœ°å€ï¼Œå¯ä»¥æ˜¯æ‰˜ç®¡å¹³å°çš„åœ°å€ã€‚ 12&quot;homepage&quot;: &quot;https://github.com/MrSeaWave/blogs&quot; bugs npm åŒ…é—®é¢˜åé¦ˆçš„åœ°å€ï¼Œå¯ä»¥æ˜¯ github çš„ issue æˆ–è€…æ˜¯é‚®ç®±åœ°å€ã€‚å¯¹äºé‚£äº›ä½¿ç”¨é‡åˆ°é—®é¢˜çš„äººå¾ˆæœ‰å¸®åŠ©ã€‚ 12345&quot;bugs&quot;: { &quot;url&quot;: &quot;https://github.com/MrSeaWave/blogs/issues&quot;, &quot;email&quot;: &quot;MrDaemon@outlook.com&quot;} license ä¸º npm åŒ…æŒ‡å®šè®¸å¯è¯ï¼Œä»¥ä¾¿å…¶ä»–äººçŸ¥é“ä»–ä»¬è¢«å…è®¸ä½¿ç”¨æ–¹å¼ä»¥åŠè¯¥ npm åŒ…è¢«æ–½åŠ çš„ä»»ä½•é™åˆ¶ã€‚ author npm åŒ…çš„ä½œè€…ï¼Œç”µå­é‚®ä»¶å’Œç½‘ç«™éƒ½æ˜¯å¯ä»¥çš„ï¼Œä»¥ä¸‹ä¿©ç§æ–¹å¼éƒ½å¯ä»¥ã€‚ 12345678 &quot;author&quot;: &quot;Sea &lt;MrDaemon@outlook.com&gt; (https://github.com/MrSeaWave)&quot;&quot;author&quot;: { &quot;name&quot; : &quot;Sea&quot;, &quot;email&quot; : &quot;MrDaemon@outlook.com&quot;, &quot;url&quot; : &quot;https://github.com/MrSeaWave&quot;} files npm åŒ…ä½œä¸ºä¾èµ–å®‰è£…æ—¶è¦åŒ…æ‹¬çš„æ–‡ä»¶ï¼Œæ ¼å¼æ˜¯æ–‡ä»¶æ­£åˆ™çš„æ•°ç»„ï¼Œ[&quot;*&quot;]ä»£è¡¨æ‰€æœ‰æ–‡ä»¶ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨npmignore æ¥å¿½ç•¥ä¸ªåˆ«æ–‡ä»¶ã€‚ fileså­—æ®µä¼˜å…ˆçº§æœ€å¤§ï¼Œä¸ä¼šè¢«npmignoreå’Œ.gitignoreè¦†ç›–ã€‚ ä»¥ä¸‹æ–‡ä»¶æ€»æ˜¯è¢«åŒ…å«çš„ï¼Œä¸é…ç½®æ— å…³ package.json README.md CHANGES / CHANGELOG / HISTORY LICENCE / LICENSE ä»¥ä¸‹æ–‡ä»¶æ€»æ˜¯è¢«å¿½ç•¥çš„ï¼Œä¸é…ç½®æ— å…³ .git .DS_Store node_modules .npmrc npm-debug.log package-lock.json â€¦ main æŒ‡å®š npm åŒ…çš„å…¥å£æ–‡ä»¶ï¼Œä¾‹ &quot;main&quot;: &quot;src/index.js&quot;å½“require(name)çš„æ—¶å€™å®è´¨æ˜¯å¼•å…¥äº†æ”¹æ–‡ä»¶ã€‚ bin å¼€å‘å¯æ‰§è¡Œæ–‡ä»¶æ—¶ï¼Œbin å­—æ®µå¯ä»¥å¸®åŠ©ä½ è®¾ç½®é“¾æ¥ï¼Œä¸éœ€è¦æ‰‹åŠ¨è®¾ç½® PATHã€‚ 1234&quot;bin&quot; : { &quot;myCli&quot; : &quot;./cli.js&quot;} å½“åƒä¸Šé¢è¿™æ ·æŒ‡å®šæ—¶ï¼Œä¸‹è½½ npm åŒ…ï¼Œä¼šè‡ªåŠ¨é“¾æ¥cli.jsåˆ°use/local/bin/myCliï¼Œå¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œæ‰§è¡ŒmyCliå®è´¨ä¸Šæ‰§è¡Œçš„æ˜¯ npm åŒ…çš„cli,jsæ–‡ä»¶ï¼Œéœ€è¦åœ¨å¯æ‰§è¡Œæ–‡ä»¶å¤´éƒ¨åŠ ä¸Š#!/usr/bin/env nodeï¼Œå¦åˆ™ä¼šåœ¨æ²¡æœ‰ node çš„æ—¶å€™æ‰§è¡Œã€‚å½“åªæœ‰ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ä¸”åå­—å’ŒåŒ…åä¸€æ ·ï¼Œå¯ä»¥ç›´æ¥å†™æˆå­—ç¬¦ä¸²å½¢å¼ã€‚ 12&quot;bin&quot;: &quot;./cli.js&quot; repository npm åŒ…æ‰˜ç®¡çš„åœ°æ–¹ï¼Œå¯¹äºæƒ³è´¡çŒ®ä»£ç çš„äººæ˜¯æœ‰å¸®åŠ©çš„ã€‚ 12345&quot;repository&quot;: { &quot;type&quot;: &quot;git&quot;, &quot;url&quot;: &quot;https://github.com/MrSeaWave/blogs&quot;} scripts å¯æ‰§è¡Œçš„å‘½ä»¤ã€‚å…·ä½“æ–‡æ¡£ 12345&quot;scripts&quot;: { &quot;dev&quot;: &quot;cross-env NODE_ENV=development node server.js&quot;, &quot;build&quot;: &quot;cross-env NODE_ENV=production node server.js&quot;} dependencies npm åŒ…æ‰€ä¾èµ–çš„å…¶ä»– npm åŒ…ï¼Œå½“ä½¿ç”¨npm install ä¸‹è½½è¯¥åŒ…æ—¶ï¼Œdependenciesä¸­æŒ‡å®šçš„åŒ…éƒ½ä¼šä¸€å¹¶è¢«ä¸‹è½½ã€‚æŒ‡å®šç‰ˆæœ¬èŒƒå›´çš„è§„åˆ™å¦‚ä¸‹ï¼š version ä¸¥æ ¼åŒ¹é… &gt; version å¿…é¡»å¤§äºè¯¥ç‰ˆæœ¬ &lt;= version å¿…é¡»å°äºç­‰äºè¯¥ç‰ˆæœ¬ ^version å…¼å®¹ç‰ˆæœ¬ 1.2.x : 1.2.0, 1.2.1 ç­‰ï¼Œä¸èƒ½æ˜¯ 1.3x â€¦ 12345&quot;dependencies&quot;: { &quot;react&quot;: &quot;^17.0.2&quot;, &quot;react-dom&quot;: &quot;^17.0.2&quot;} devDependencies npm åŒ…æ‰€ä¾èµ–çš„æ„å»ºå’Œæµ‹è¯•ç›¸å…³çš„ npm åŒ…ï¼Œæ”¾ç½®åˆ°devDependenciesï¼Œå½“ä½¿ç”¨npm install ä¸‹è½½è¯¥åŒ…æ—¶ï¼ŒdevDependenciesä¸­æŒ‡å®šçš„åŒ…ä¸ä¼šä¸€å¹¶è¢«ä¸‹è½½ã€‚ 123456&quot;devDependencies&quot;: { &quot;eslint&quot;: &quot;^8.1.0&quot;, &quot;jest&quot;: &quot;^24.8.0&quot;, &quot;webpack&quot;: &quot;^5.0.0&quot;} peerDependencies æŒ‡å®š npm åŒ…ä¸ä¸» npm åŒ…çš„å…¼å®¹æ€§ï¼Œå½“å¼€å‘æ’ä»¶æ—¶æ˜¯éœ€è¦çš„ï¼Œä¾‹å¦‚å¼€å‘ React ç»„ä»¶æ—¶ï¼Œå…¶ç»„ä»¶æ˜¯ä¾èµ–äºreactã€react-domnpm åŒ…çš„ï¼Œå¯ä»¥åœ¨peerDependenciesæŒ‡å®šéœ€è¦çš„ç‰ˆæœ¬ã€‚ 12345&quot;peerDependencies&quot;: { &quot;react&quot;: &quot;&gt;=16.8.0&quot;, &quot;react-dom&quot;: &quot;&gt;=16.8.0&quot;} æ³¨ï¼šå¦‚æœpeerDependenciesæŒ‡å®šçš„ npm åŒ…æ²¡æœ‰ä¸‹è½½ï¼Œnpm ç‰ˆæœ¬ 1 å’Œ 2 ä¼šç›´æ¥ä¸‹è½½ã€‚ npm3 ä¸ä¼šä¸‹è½½ï¼Œä¼šç»™å‡ºè­¦å‘Šã€‚ engines æŒ‡å®š npm åŒ…å¯ä»¥ä½¿ç”¨çš„ Node ç‰ˆæœ¬ 1234&quot;engines&quot; : { &quot;node&quot; : &quot;&gt;=10.0.0&quot;} resolutionsyarn ä¸­å¸¦çš„å­—æ®µ resolutions å­—æ®µç»Ÿä¸€æ‰€æœ‰ä¾èµ–å’Œä¾èµ–çš„ä¾èµ–çš„ç‰ˆæœ¬ï¼Œå…·ä½“æŸ¥çœ‹ 12345{ &quot;resolutions&quot;:{ // ----æ•‘ç«é˜Ÿé•¿ &quot;coa&quot;:&quot;x.xx.x&quot; }} å‚è€ƒ npm å®˜æ–¹æ–‡æ¡£-æ›´å…¨ æ˜é‡‘-package.json å„å­—æ®µçš„ä½œç”¨","link":"/articles/2021/12/08/packageJson-field/"},{"title":"pm2 è¿›ç¨‹é—´é€šä¿¡","text":"æœ¬æ–‡å°†ä»‹ç» pm2 è¿›ç¨‹é—´å¦‚ä½•é€šä¿¡ pm2-master.jsï¼Œå‘é€æ•°æ®ï¼Œå¯ä»¥åœ¨ pm2 å†…éƒ¨æˆ–è€…å¤–éƒ¨è¿è¡Œ 123456789101112131415161718192021222324252627282930313233343536373839const pm2 = require('pm2');const neighborIds = [];pm2.connect(function () { // åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹å¹¶è·å–å®ƒä»¬çš„åç§°/ID pm2.list(function (err, processes) { for (const i in processes) { console.log('Id:', processes[i].pm_id, 'Name:', processes[i].name); if (processes[i].name === 'pm2-slave') { neighborIds.push(processes[i].pm_id); } } console.log('neighborIds: ', neighborIds); // å°†ä¿¡æ¯å‘é€åˆ°æŒ‡å®šè¿›ç¨‹ pm2.sendDataToProcessId( neighborIds[0], { type: 'process:msg', data: { some: 'data', }, topic: true, }, function (err, res) { console.log('callback', err, res); } ); });});// æ¥æ”¶ä¿¡æ¯pm2.launchBus(function (err, pm2_bus) { pm2_bus.on('process:msg', function (packet) { console.log('pm2-master launchBus', packet); });}); pm2-slave.jsï¼Œæ¥æ”¶æ•°æ®ï¼Œä¸éœ€è¦å¼•ç”¨ pm2 çš„åŒ…ï¼Œä½†æ˜¯ä¸€å®šè¦åœ¨ pm2 é‡Œè¿è¡Œ 1234567891011121314const sendMsgToMaster = () =&gt; { process.send({ type: 'process:msg', data: { success: true, num: Math.random(), }, });};process.on('message', function (packet) { console.log('got message from pm2-master', packet); setTimeout(sendMsgToMaster, 2 * 1000);}); ecosystem.config.jsï¼Œpm2 é…ç½® 123456789101112131415161718192021module.exports = { apps: [ // pm2-master å¯ä»¥ä¸ç”¨ pm2 è¿è¡Œ // { // name: 'pm2-master', // script: './pm2-master.js', // instances: 1, // watch: ['pm2-master.js'], // merge_logs: true, // exec_mode: 'cluster', // max_memory_restart: '600M', // instance_var: 'NODE_APP_INSTANCE' // }, { name: 'pm2-slave', script: './pm2-slave.js', watch: ['pm2-slave.js'], exec_mode: 'cluster', }, ],}; å‚è€ƒé“¾æ¥ process.send process.on pm2 Send message to process pm2-ipc.js Sending data to PM2 process using programatic API","link":"/articles/2021/07/20/pm2-ipc/"},{"title":"RGBé¢œè‰²æ’å€¼æ¸å˜åŸç†","text":"æœ¬æ–‡å°†è¦è®²è¿° RGB é¢œè‰²æ’å€¼æ¸å˜åŸç†åŠå…¶å®ç°ã€‚ å…¶å® RGB é¢œè‰²å˜æ¢çš„åŸç†å°±æ˜¯çº¿æ€§æ’å€¼ã€‚ ä¾‹å¦‚å°†é¢œè‰²RGB(0,0,0)å˜æ¢ä¸ºRGB(255,255,255)ï¼Œå…¶ä¸­è¦è¾“å‡º 100 æ¬¡ç»“æœï¼Œåˆ™å¢åŠ é‡å°±æ˜¯(255-0)/100ï¼Œå°†RGBåˆ†å¼€è®¡ç®—ä¹Ÿæ˜¯ä¸€æ ·ã€‚ åŒç†ï¼ŒRGB(100,200,150)å˜æ¢ä¸ºRGB(255,0,255)ï¼Œå¢åŠ é‡çš„è®¡ç®—å¦‚ä¸‹: 123R = (255 - 100) / 100 = 1.55;G = (0 - 200) / 100 = -2;B = (255 - 150) / 100 = 1.05; è¿™ 100 ä¸ªç‰‡æ®µæ˜¯æœ‰å…³å¢åŠ é‡çš„é€’å½’ç»“æœï¼Œå°†ç‰‡æ®µè¿ç»­æ’­æ”¾ï¼Œå°±å½¢æˆäº†åŠ¨ç”»ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªç”¨HTML5+JavaScriptå®ç°çš„ RGB é¢œè‰²æ’å€¼æ¸å˜åŠ¨ç”»ï¼Œåœ¨çº¿DEMO ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;RGB Color Interpolation Gradient&lt;/title&gt; &lt;style&gt; body &gt; * { margin: 0 auto; width: 300px; } div { height: 300px; background-color: rgb(0, 0, 0); } input { display: block; width: 100%; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div&gt;&lt;/div&gt; &lt;p&gt;R(&lt;span&gt;0&lt;/span&gt;):&lt;input type=&quot;range&quot; id=&quot;red&quot; min=&quot;0&quot; max=&quot;255&quot; value=&quot;0&quot; /&gt;&lt;/p&gt; &lt;p&gt;G(&lt;span&gt;0&lt;/span&gt;):&lt;input type=&quot;range&quot; id=&quot;green&quot; min=&quot;0&quot; max=&quot;255&quot; value=&quot;0&quot; /&gt;&lt;/p&gt; &lt;p&gt;B(&lt;span&gt;0&lt;/span&gt;):&lt;input type=&quot;range&quot; id=&quot;blue&quot; min=&quot;0&quot; max=&quot;255&quot; value=&quot;0&quot; /&gt;&lt;/p&gt; &lt;p&gt;To RGB:&lt;input type=&quot;text&quot; value=&quot;255,255,255&quot; /&gt;&lt;button&gt;Animation&lt;/button&gt;&lt;/p&gt; &lt;script&gt; NodeList.prototype.forEach = Array.prototype.forEach; let rgb = [0, 0, 0]; let div = document.querySelector('div'); let inputs = document.querySelectorAll(&quot;input[type='range']&quot;); let toRGB = document.querySelector(&quot;input[type='text']&quot;); let button = document.querySelector('button'); let red = inputs[0]; let green = inputs[1]; let blue = inputs[2]; let lock = false; function change(i) { let span = inputs[i].parentElement.querySelector('span'); return function (e) { let value; if (e) { value = parseInt(e.target.value); span.innerHTML = value; rgb[i] = value; } else { value = parseInt(inputs[i].value); span.innerHTML = value; } div.style.backgroundColor = 'rgb(' + Math.round(rgb[0]) + ',' + Math.round(rgb[1]) + ',' + Math.round(rgb[2]) + ')'; }; } let redChange = change(0); let greenChange = change(1); let blueChange = change(2); red.addEventListener('change', redChange); green.addEventListener('change', greenChange); blue.addEventListener('change', blueChange); button.addEventListener('click', function () { if (lock) { return; } let finalValue = toRGB.value; let patternRGB = /^(([0-9])|([1-9]\\d)|(1[0-9]{2})|(2[0-4][0-9])|(25[0-5]))[,](([0-9])|([1-9]\\d)|(1[0-9]{2})|(2[0-4][0-9])|(25[0-5]))[,](([0-9])|([1-9]\\d)|(1[0-9]{2})|(2[0-4][0-9])|(25[0-5]))$/; if (!patternRGB.test(finalValue)) { alert('Format is not correct, you should enter a value like 255,255,255'); return; } finalValue = finalValue.split(','); let rf = finalValue[0]; let gf = finalValue[1]; let bf = finalValue[2]; lock = true; red.disabled = true; green.disabled = true; blue.disabled = true; rgb[0] = Math.round(rgb[0]); rgb[1] = Math.round(rgb[1]); rgb[2] = Math.round(rgb[2]); let r = rgb[0]; let g = rgb[1]; let b = rgb[2]; let ri = (rf - r) / 100; let gi = (gf - g) / 100; let bi = (bf - b) / 100; setTimeout(function (i) { i = i || 1; rgb[0] += ri; rgb[1] += gi; rgb[2] += bi; red.value = rgb[0]; green.value = rgb[1]; blue.value = rgb[2]; redChange(); greenChange(); blueChange(); if (i &lt; 100) { let f = arguments.callee; setTimeout(function () { f(i + 1); }, 50); } else { lock = false; red.disabled = false; green.disabled = false; blue.disabled = false; } }, 0); }); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt;","link":"/articles/2021/06/11/rgb-color-gradient-interpolation-principle-and-algorithm/"},{"title":"ssh-key","text":"æœ¬æ–‡å°†ä»‹ç»çš„æ˜¯å¦‚ä½•åœ¨ mac ä¸Šä¸Šé…ç½® SSH Key ä¸­çš„ private keyã€‚ åœ¨ Mac ä¸Šé…ç½® SSH Key ä¸­çš„ private keyå½“å¾€githubçš„é¡¹ç›®ä¸Šæäº¤ä»£ç æ—¶ï¼Œgithubéœ€è¦çŸ¥é“ä½ ç”µè„‘ä¸Šæœ‰æ²¡æœ‰å’Œé‚£äº›Deploy keysä¸­æŸä¸ªpublic keyé…å¯¹çš„private keyã€‚æ¥ä¸‹æ¥å°±æ˜¯é…ç½®æ€æ ·æ‰¾åˆ°è¿™ä¸ªprivate key ç”Ÿæˆ 1 ä¸ª SSH Key: 1$ ssh-keygen -t rsa -C &quot;youremail@xxx.com&quot; æŒ‰å›è½¦å 12345678Generating public/private rsa key pair.Enter file in which to save the key (/Users/localMac/.ssh/id_rsa): id_rsa_TestSSH_github(å–ä¸ªåå­—)Enter passphrase (empty for no passphrase):Enter same passphrase again:Your identification has been saved inid_rsa_TestSSH_github.Your public key has been saved inid_rsa_TestSSH_github.pub. æœ€å¥½æ¯æ¬¡ç”Ÿæˆæ—¶éƒ½ç»™SSH Keyå–ä¸ªåå­—ï¼Œè¿™æ ·åé¢åœ¨ç®¡ç†æ—¶è‡ªå·±ä¹Ÿä¸€ç›®äº†ç„¶ã€‚æˆ‘è¿™é‡Œçš„æ ¼å¼æ˜¯id_rsa_é¡¹ç›®å_gitæä¾›æ–¹ï¼Œæˆ‘ç”Ÿæˆçš„æ‰€æœ‰keyéƒ½éµå¾ªè¿™ä¸ªè§„åˆ™å‘½åã€‚å»ºè®®ä½ ä¹Ÿæœ‰ä½ è‡ªå·±çš„ä¸€ç§å‘½åæ–¹å¼ï¼Œå¹¶ä¸”ä¿æŒç»Ÿä¸€ã€‚å¦‚æœä¸å–åå­—ï¼Œé»˜è®¤çš„æ˜¯id_rsaï¼Œå¦‚æœåé¢ç”Ÿæˆæ—¶ä¸å‘½åï¼Œä¼šæŠŠè¿™ä¸ªè¦†ç›–æ‰ã€‚å¯†ç å¯ä»¥ä¸è®¾ç½®ï¼Œå…å¾—æ¯æ¬¡æäº¤æ—¶è¿˜è¦è¾“å…¥ä¸€æ¬¡ï¼Œå®‰å…¨æ€§è‡ªå·±è¡¡é‡å§ã€‚ç¬¬ä¸€æ¬¡ç”Ÿæˆkeyæ—¶ï¼Œä¼šåœ¨~ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª.sshç›®å½•ã€‚ 12$ cd ~/.ssh$ ls æŠŠid_rsa_TestSSH_github.pubæ·»åŠ åˆ°githubå¯¹åº”çš„é¡¹ç›®çš„Deploy keysä¸­ã€‚ sshæœåŠ¡å™¨é»˜è®¤æ˜¯å»æ‰¾id_rsaï¼Œç°åœ¨éœ€è¦æŠŠè¿™ä¸ªkeyæ·»åŠ åˆ°ssh-agentä¸­ï¼Œè¿™æ ·sshæœåŠ¡å™¨æ‰èƒ½è®¤è¯†id_rsa_TestSSH_github 1$ ssh-add -K ~/.ssh/id_rsa_TestSSH_github è¿™é‡Œä¸ºä»€ä¹ˆåŠ ä¸Šäº†ä¸€ä¸ª-K å‚æ•°å‘¢ï¼Ÿå› ä¸ºåœ¨ Mac ä¸Šï¼Œå½“ç³»ç»Ÿé‡å¯åä¼šâ€œå¿˜è®°â€è¿™ä¸ªå¯†é’¥ï¼Œæ‰€ä»¥é€šè¿‡æŒ‡å®š-K æŠŠ SSH key å¯¼å…¥åˆ°å¯†é’¥é“¾ä¸­ æŸ¥çœ‹æ·»åŠ ç»“æœï¼š 1$ ssh-add -l åˆ›å»ºæœ¬åœ°çš„é…ç½®æ–‡ä»¶ ~/.ssh/configï¼Œç¼–è¾‘å¦‚ä¸‹ï¼š 12345678910Host TestSSH.github.com HostName github.com User git PreferredAuthentications publickey IdentityFile ~/.ssh/id_rsa_TestSSH_githubHost YourProjectName.gitlab.com HostName gitlab.com User git PreferredAuthentications publickey IdentityFile ~/.ssh/id_rsa_YourProjectName_gitlab Host çš„åå­—å¯ä»¥éšæ„å–ï¼Œæˆ‘è¿™è¾¹æŒ‰ç…§çš„è§„åˆ™æ˜¯é¡¹ç›®å.git æœåŠ¡å™¨æ¥æºï¼Œæ¥ä¸‹æ¥ä¼šç”¨åˆ°è¿™ä¸ªåå­—ã€‚æµ‹è¯•æ˜¯å¦é…ç½®æ­£ç¡®ï¼š 1$ ssh -T git@TestSSH.github.com (å°±æ˜¯åˆšåˆšä½ ç»™Hostå–çš„åå­—) æ•²ä¸€ä¸‹å›è½¦ï¼Œå¦‚ä¸‹å‡ºç°ä¸‹é¢çš„æç¤ºå°±è¿æ¥æˆåŠŸäº†ï¼š 1Hi MrSeaWave/TestSSH! You've successfully authenticated, but GitHub does not provide shell access. ä¸€å®šè¦æ³¨æ„å“¦ï¼Œå¸å·åç§°/é¡¹ç›®åç§°ï¼Œå¦‚æœè¿™ä¸ª key æ²¡æœ‰è¿æ¥æˆåŠŸï¼Œå®ƒæœ‰å¯èƒ½æç¤ºçš„æ˜¯åˆ«çš„ key çš„ã€‚ ä¿®æ”¹ github é¡¹ç›®é…ç½®ï¼Œä½¿é¡¹ç›®æœ¬èº«èƒ½å…³è”åˆ°ä½¿ç”¨çš„ keyã€‚ å¦‚æœä½ åœ¨ä¹‹å‰å·²ç»æŠŠé¡¹ç›® clone åˆ°æœ¬åœ°äº†ï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹æ³•ï¼š(1) æ‰“å¼€é¡¹ç›®ç›®å½•/.git/configï¼Œå°†[remote â€œoriginâ€]ä¸­çš„urlä¸­çš„github.comä¿®æ”¹ä¸ºTestSSH.github.comï¼Œå°±æ˜¯ä½ åœ¨ç¬¬ 4 æ­¥ä¸­ç»™Hostå–çš„é‚£ä¸ªåå­—ã€‚å¦‚ä¸‹ï¼š 123remote &quot;origin&quot;] url = git@TestSSH.github.com:MrSeaWave/TestSSH.git fetch = +refs/heads/*:refs/remotes/origin/* (2) ä¹Ÿå¯ä»¥åœ¨æäº¤æ—¶ä¿®æ”¹ 12$ git remote rm origin$ git remote add origin git@TestSSH.github.com:MrSeaWave/TestSSH.git å¦‚æœè¿˜æ²¡æœ‰ clone åˆ°æœ¬åœ°ï¼Œåˆ™åœ¨ clone æ—¶å¯ä»¥ç›´æ¥å°†github.comæ”¹ä¸ºTestSSH.github.comï¼Œå¦‚ä¸‹ï¼š 1$ git clone git@TestSSH.github.com:MrSeaWave/TestSSH.git Happy CodingğŸ˜„","link":"/articles/2021/10/26/ssh-key/"},{"title":"github-actions å…¥é—¨","text":"GitHub Actions æ˜¯ GitHub çš„æŒç»­é›†æˆæœåŠ¡ï¼Œäº 2018 å¹´ 10 æœˆæ¨å‡ºã€‚ GitHub Actions ç®€ä»‹GitHub Actions å¸®åŠ©æ‚¨è‡ªåŠ¨å®Œæˆè½¯ä»¶å¼€å‘å‘¨æœŸå†…çš„ä»»åŠ¡ã€‚ GitHub Actions æ˜¯äº‹ä»¶é©±åŠ¨çš„ï¼Œæ„å‘³ç€æ‚¨å¯ä»¥åœ¨æŒ‡å®šäº‹ä»¶å‘ç”Ÿåè¿è¡Œä¸€ç³»åˆ—å‘½ä»¤ã€‚ ä¾‹å¦‚ï¼Œæ¯æ¬¡æœ‰äººä¸ºä»“åº“åˆ›å»ºæ‹‰å–è¯·æ±‚æ—¶ï¼Œæ‚¨éƒ½å¯ä»¥è‡ªåŠ¨è¿è¡Œå‘½ä»¤æ¥æ‰§è¡Œè½¯ä»¶æµ‹è¯•è„šæœ¬ã€‚ æ­¤ç¤ºæ„å›¾è¯´æ˜å¦‚ä½•ä½¿ç”¨ GitHub Actions è‡ªåŠ¨è¿è¡Œè½¯ä»¶æµ‹è¯•è„šæœ¬ã€‚äº‹ä»¶ä¼šè‡ªåŠ¨è§¦å‘å…¶ä¸­åŒ…ä½œä¸šçš„å·¥ä½œæµç¨‹ã€‚ ç„¶åï¼Œä½œä¸šä½¿ç”¨æ­¥éª¤æ¥æ§åˆ¶æ“ä½œè¿è¡Œçš„é¡ºåºã€‚ è¿™äº›æ“ä½œæ˜¯è‡ªåŠ¨åŒ–è½¯ä»¶æµ‹è¯•çš„å‘½ä»¤ã€‚ å¾ˆå¤šæ“ä½œåœ¨ä¸åŒé¡¹ç›®é‡Œé¢æ˜¯ç±»ä¼¼çš„ï¼Œå®Œå…¨å¯ä»¥å…±äº«ã€‚GitHub æ³¨æ„åˆ°äº†è¿™ä¸€ç‚¹ï¼Œæƒ³å‡ºäº†ä¸€ä¸ªå¾ˆå¦™çš„ç‚¹å­ï¼Œå…è®¸å¼€å‘è€…æŠŠæ¯ä¸ªæ“ä½œå†™æˆç‹¬ç«‹çš„è„šæœ¬æ–‡ä»¶ï¼Œå­˜æ”¾åˆ°ä»£ç ä»“åº“ï¼Œä½¿å¾—å…¶ä»–å¼€å‘è€…å¯ä»¥å¼•ç”¨ã€‚ å¦‚æœä½ éœ€è¦æŸä¸ª actionï¼Œä¸å¿…è‡ªå·±å†™å¤æ‚çš„è„šæœ¬ï¼Œç›´æ¥å¼•ç”¨ä»–äººå†™å¥½çš„ action å³å¯ï¼Œæ•´ä¸ªæŒç»­é›†æˆè¿‡ç¨‹ï¼Œå°±å˜æˆäº†ä¸€ä¸ª actions çš„ç»„åˆã€‚è¿™å°±æ˜¯ GitHub Actions æœ€ç‰¹åˆ«çš„åœ°æ–¹ï¼ GitHub åšäº†ä¸€ä¸ªå®˜æ–¹å¸‚åœºï¼Œå¯ä»¥æœç´¢åˆ°ä»–äººæäº¤çš„ actionsã€‚å¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª awesome actions çš„ä»“åº“ï¼Œä¹Ÿå¯ä»¥æ‰¾åˆ°ä¸å°‘ actionã€‚ ä¸Šé¢è¯´äº†ï¼Œæ¯ä¸ª action å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹è„šæœ¬ï¼Œå› æ­¤å¯ä»¥åšæˆä»£ç ä»“åº“ï¼Œä½¿ç”¨userName/repoNameçš„è¯­æ³•å¼•ç”¨ actionã€‚æ¯”å¦‚ï¼Œactions/setup-nodeå°±è¡¨ç¤ºgithub.com/actions/setup-nodeè¿™ä¸ªä»“åº“ï¼Œå®ƒä»£è¡¨ä¸€ä¸ª actionï¼Œä½œç”¨æ˜¯å®‰è£… Node.jsã€‚äº‹å®ä¸Šï¼ŒGitHub å®˜æ–¹çš„ actions éƒ½æ”¾åœ¨ github.com/actions é‡Œé¢ã€‚ æ—¢ç„¶ actions æ˜¯ä»£ç ä»“åº“ï¼Œå½“ç„¶å°±æœ‰ç‰ˆæœ¬çš„æ¦‚å¿µï¼Œç”¨æˆ·å¯ä»¥å¼•ç”¨æŸä¸ªå…·ä½“ç‰ˆæœ¬çš„ actionã€‚ä¸‹é¢éƒ½æ˜¯åˆæ³•çš„ action å¼•ç”¨ï¼Œç”¨çš„å°±æ˜¯ Git çš„æŒ‡é’ˆæ¦‚å¿µï¼Œè¯¦è§å®˜æ–¹æ–‡æ¡£ã€‚ actions123actions/setup-node@74bc508 # æŒ‡å‘ä¸€ä¸ª commitactions/setup-node@v1.0 # æŒ‡å‘ä¸€ä¸ªæ ‡ç­¾actions/setup-node@master # æŒ‡å‘ä¸€ä¸ªåˆ†æ”¯ åŸºç¡€æ¦‚å¿µGitHub Actions æœ‰ä¸€äº›è‡ªå·±çš„æœ¯è¯­ã€‚ workflow ï¼ˆå·¥ä½œæµç¨‹ï¼‰ï¼šæŒç»­é›†æˆä¸€æ¬¡è¿è¡Œçš„è¿‡ç¨‹ï¼Œå°±æ˜¯ä¸€ä¸ª workflowã€‚ job ï¼ˆä»»åŠ¡ï¼‰ï¼šä¸€ä¸ª workflow ç”±ä¸€ä¸ªæˆ–å¤šä¸ª jobs æ„æˆï¼Œå«ä¹‰æ˜¯ä¸€æ¬¡æŒç»­é›†æˆçš„è¿è¡Œï¼Œå¯ä»¥å®Œæˆå¤šä¸ªä»»åŠ¡ã€‚ stepï¼ˆæ­¥éª¤ï¼‰ï¼šæ¯ä¸ª job ç”±å¤šä¸ª step æ„æˆï¼Œä¸€æ­¥æ­¥å®Œæˆã€‚ action ï¼ˆåŠ¨ä½œï¼‰ï¼šæ¯ä¸ª step å¯ä»¥ä¾æ¬¡æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå‘½ä»¤ï¼ˆactionï¼‰ã€‚ è™šæ‹Ÿç¯å¢ƒGitHub æ‰˜ç®¡çš„è¿è¡Œå™¨æ˜¯ç”±å®‰è£…äº† GitHub Actions è¿è¡Œå™¨åº”ç”¨ç¨‹åºçš„ GitHub æ‰˜ç®¡çš„è™šæ‹Ÿæœºã€‚ GitHub æä¾›ä½¿ç”¨ Linuxã€Windows å’Œ macOS æ“ä½œç³»ç»Ÿçš„è¿è¡Œå™¨ã€‚ GitHub AcÂ­tions ä¸ºæ¯ä¸ªä»»åŠ¡ (job) éƒ½æä¾›äº†ä¸€ä¸ªè™šæ‹Ÿæœºæ¥æ‰§è¡Œï¼Œæ¯å°è™šæ‹Ÿæœºéƒ½æœ‰ç›¸åŒçš„ç¡¬ä»¶èµ„æºï¼š 2 æ ¸ CPU 7 GB RAM å†…å­˜ 14 GB SSD ç¡¬ç›˜ç©ºé—´ è™šæ‹Ÿç¯å¢ƒ YAML å·¥ä½œæµç¨‹æ ‡ç­¾ Windows Server 2019 windows-latest æˆ– windows-2019 Ubuntu 20.04 ubuntu-20.04 Ubuntu 18.04 ubuntu-latest æˆ– ubuntu-18.04 Ubuntu 16.04 ubuntu-16.04 macOS Big Sur 11.0 macos-11.0 macOS Catalina 10.15 macos-latest æˆ– macos-10.15 æ³¨ï¼šUbuntu 20.04 è™šæ‹Ÿç¯å¢ƒç›®å‰ä»…ä½œä¸ºé¢„è§ˆæä¾›ã€‚ ubuntu-latest YAML å·¥ä½œæµç¨‹æ ‡ç­¾ä»ä½¿ç”¨ Ubuntu 18.04 è™šæ‹Ÿç¯å¢ƒã€‚ ä½¿ç”¨é™åˆ¶ï¼š æ¯ä¸ª workflow çš„è¿è¡Œæ—¶é™ä¸º 72 å°æ—¶ æ¯å°æ—¶å¯ä»¥è°ƒç”¨ 1000 æ¬¡ GitHub API ã€‚ æ¯ä¸ª job æœ€å¤šå¯ä»¥æ‰§è¡Œ 6 ä¸ªå°æ—¶ã€‚ å…è´¹ç‰ˆçš„ç”¨æˆ·æœ€å¤§æ”¯æŒ 20 ä¸ª job å¹¶å‘æ‰§è¡Œï¼ŒmacOS æœ€å¤§åªæ”¯æŒ 5 ä¸ªã€‚ ç§æœ‰ä»“åº“ Linux è¿è¡Œå™¨æ¯æœˆç´¯è®¡ä½¿ç”¨æ—¶é—´ä¸º 2000 åˆ†é’Ÿï¼Œè¶…è¿‡å$ 0.008/åˆ†é’Ÿï¼Œå…¬å…±ä»“åº“åˆ™æ— é™åˆ¶ã€‚ æ³¨ï¼š è™½ç„¶åç§°å«æŒç»­é›†æˆï¼Œä½†å½“æ‰€æœ‰ä»»åŠ¡ç»ˆæ­¢å’Œå®Œæˆæ—¶ï¼Œè™šæ‹Ÿç¯å¢ƒå†…çš„æ•°æ®ä¼šéšä¹‹æ¸…ç©ºï¼Œå¹¶ä¸ä¼šæŒç»­ã€‚å³æ¯ä¸ªæ–°ä»»åŠ¡éƒ½æ˜¯ä¸€ä¸ªå…¨æ–°çš„è™šæ‹Ÿç¯å¢ƒã€‚ WorkflowGitHub Actions çš„é…ç½®æ–‡ä»¶å«åš workflow æ–‡ä»¶ï¼Œå­˜æ”¾åœ¨ä»£ç ä»“åº“çš„.github/workflowsç›®å½•ã€‚ workflow æ–‡ä»¶é‡‡ç”¨ YAML æ ¼å¼ï¼Œæ–‡ä»¶åå¯ä»¥ä»»æ„å–ï¼Œä½†æ˜¯åç¼€åç»Ÿä¸€ä¸º.yml or .yamlï¼Œæ¯”å¦‚foo.yml or foo.yamlã€‚ä¸€ä¸ªåº“å¯ä»¥æœ‰å¤šä¸ª workflow æ–‡ä»¶ã€‚GitHub åªè¦å‘ç°.github/workflowsç›®å½•é‡Œé¢æœ‰.yml or .yamlæ–‡ä»¶ï¼Œå°±ä¼šè‡ªåŠ¨è¿è¡Œè¯¥æ–‡ä»¶ã€‚ workflow æ–‡ä»¶çš„é…ç½®å­—æ®µéå¸¸å¤šï¼Œè¯¦è§å®˜æ–¹æ–‡æ¡£ã€‚ä¸‹é¢æ˜¯ä¸€äº›åŸºæœ¬å­—æ®µï¼š name å·¥ä½œæµç¨‹çš„åç§°ã€‚ GitHub åœ¨ä»“åº“çš„æ“ä½œé¡µé¢ä¸Šæ˜¾ç¤ºå·¥ä½œæµç¨‹çš„åç§°ã€‚ å¦‚æœçœç•¥ nameï¼ŒGitHub å°†å…¶è®¾ç½®ä¸ºç›¸å¯¹äºä»“åº“æ ¹ç›®å½•çš„å·¥ä½œæµç¨‹æ–‡ä»¶è·¯å¾„ã€‚ name1name: GitHub Actions Demo on å¿…è¦ è§¦å‘ workflow çš„ GitHub äº‹ä»¶çš„åç§°ã€‚ ä½ å¯ä»¥æä¾›å•ä¸€äº‹ä»¶ stringã€äº‹ä»¶çš„ arrayã€äº‹ä»¶ types çš„ array æˆ–äº‹ä»¶é…ç½® mapï¼Œä»¥å®‰æ’å·¥ä½œæµç¨‹çš„è¿è¡Œï¼Œæˆ–å°†å·¥ä½œæµç¨‹çš„æ‰§è¡Œé™äºç‰¹å®šæ–‡ä»¶ã€æ ‡è®°æˆ–åˆ†æ”¯æ›´æ”¹ã€‚ æœ‰å…³å¯ç”¨äº‹ä»¶çš„åˆ—è¡¨ï¼Œè¯·å‚é˜…â€œè§¦å‘å·¥ä½œæµç¨‹çš„äº‹ä»¶â€ ä½¿ç”¨å•ä¸€äº‹ä»¶ Example using a single event1on: push ä¸Šé¢ä»£ç æŒ‡å®šï¼Œpushäº‹ä»¶è§¦å‘ workflowã€‚ ä½¿ç”¨äº‹ä»¶åˆ—è¡¨çš„ç¤ºä¾‹ Example using a list of events1on: [push, pull_request] ä¸Šé¢ä»£ç æŒ‡å®šï¼Œpushäº‹ä»¶æˆ–pull_requestäº‹ä»¶éƒ½å¯ä»¥è§¦å‘ workflowã€‚ å®Œæ•´çš„äº‹ä»¶åˆ—è¡¨ï¼Œè¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚é™¤äº†ä»£ç åº“äº‹ä»¶ï¼ŒGitHub Actions ä¹Ÿæ”¯æŒå¤–éƒ¨äº‹ä»¶è§¦å‘ï¼Œæˆ–è€…å®šæ—¶è¿è¡Œã€‚ on.&lt;push|pull_request&gt;.&lt;tags|branches&gt; æŒ‡å®šè§¦å‘äº‹ä»¶æ—¶ï¼Œå¯ä»¥é™å®šåˆ†æ”¯æˆ–æ ‡ç­¾ã€‚ 1234on: push: branches: - master ä¸Šé¢ä»£ç æŒ‡å®šï¼Œåªæœ‰masteråˆ†æ”¯å‘ç”Ÿpushäº‹ä»¶æ—¶ï¼Œæ‰ä¼šè§¦å‘ workflowã€‚ jobs workflowè¿è¡ŒåŒ…æ‹¬ä¸€é¡¹æˆ–å¤šé¡¹jobsã€‚ jobsé»˜è®¤æ˜¯å¹¶è¡Œè¿è¡Œã€‚ è¦æŒ‰é¡ºåºè¿è¡Œä½œä¸šï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ &lt;job_id&gt;needs å…³é”®è¯åœ¨å…¶ä»–jobä¸Šå®šä¹‰ä¾èµ–é¡¹ã€‚ æ¯ä¸ªä½œä¸šåœ¨ runs-on æŒ‡å®šçš„è¿è¡Œå™¨ç¯å¢ƒä¸­è¿è¡Œã€‚ jobs.&lt;job_id&gt;.name workflow æ–‡ä»¶çš„ä¸»ä½“æ˜¯jobså­—æ®µï¼Œè¡¨ç¤ºè¦æ‰§è¡Œçš„ä¸€é¡¹æˆ–å¤šé¡¹ä»»åŠ¡ã€‚ jobså­—æ®µé‡Œé¢ï¼Œéœ€è¦å†™å‡ºæ¯ä¸€é¡¹ä»»åŠ¡çš„job_idï¼Œå…·ä½“åç§°è‡ªå®šä¹‰ã€‚job_idé‡Œé¢çš„nameå­—æ®µæ˜¯ä»»åŠ¡çš„è¯´æ˜ã€‚ 12345jobs: my_first_job: name: My first job my_second_job: name: My second job ä¸Šé¢ä»£ç çš„jobså­—æ®µåŒ…å«ä¸¤é¡¹ä»»åŠ¡ï¼Œjob_idåˆ†åˆ«æ˜¯my_first_jobå’Œmy_second_jobã€‚ jobs.&lt;job_id&gt;.needs needså­—æ®µæŒ‡å®šå½“å‰ä»»åŠ¡çš„ä¾èµ–å…³ç³»ï¼Œå³è¿è¡Œé¡ºåºã€‚ 123456jobs: job1: job2: needs: job1 job3: needs: [job1, job2] ä¸Šé¢ä»£ç ä¸­ï¼Œjob1å¿…é¡»å…ˆäºjob2å®Œæˆï¼Œè€Œjob3ç­‰å¾…job1å’Œjob2çš„å®Œæˆæ‰èƒ½è¿è¡Œã€‚å› æ­¤ï¼Œè¿™ä¸ª workflow çš„è¿è¡Œé¡ºåºä¾æ¬¡ä¸ºï¼šjob1ã€job2ã€job3ã€‚ jobs.&lt;job_id&gt;.runs-on runs-onå­—æ®µæŒ‡å®šè¿è¡Œæ‰€éœ€è¦çš„è™šæ‹Ÿæœºç¯å¢ƒã€‚å®ƒæ˜¯å¿…å¡«å­—æ®µã€‚ç›®å‰å¯ç”¨çš„è™šæ‹Ÿæœºå¦‚ä¸‹ã€‚ 123- ubuntu-latestï¼Œubuntu-18.04æˆ–ubuntu-16.04- windows-latestï¼Œwindows-2019æˆ–windows-2016- macOS-latestæˆ–macOS-10.14 ä¸‹é¢ä»£ç æŒ‡å®šè™šæ‹Ÿæœºç¯å¢ƒä¸ºubuntu-18.04ã€‚ 1runs-on: ubuntu-18.04 jobs.&lt;job_id&gt;.steps stepså­—æ®µæŒ‡å®šæ¯ä¸ª Job çš„è¿è¡Œæ­¥éª¤ï¼Œå¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ­¥éª¤ã€‚æ¯ä¸ªæ­¥éª¤éƒ½å¯ä»¥æŒ‡å®šä»¥ä¸‹ä¸‰ä¸ªå­—æ®µã€‚ 123- jobs.&lt;job_id&gt;.steps.nameï¼šæ­¥éª¤åç§°ã€‚- jobs.&lt;job_id&gt;.steps.runï¼šè¯¥æ­¥éª¤è¿è¡Œçš„å‘½ä»¤æˆ–è€… actionã€‚- jobs.&lt;job_id&gt;.steps.envï¼šè¯¥æ­¥éª¤æ‰€éœ€çš„ç¯å¢ƒå˜é‡ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ workflow æ–‡ä»¶çš„èŒƒä¾‹ã€‚ workflow12345678910111213141516name: Greeting from Monaon: pushjobs: my-job: name: My Job runs-on: ubuntu-latest steps: - name: Print a greeting env: MY_VAR: Hi there! My name is FIRST_NAME: Mona MIDDLE_NAME: The LAST_NAME: Octocat run: | echo $MY_VAR $FIRST_NAME $MIDDLE_NAME $LAST_NAME. ä¸Šé¢ä»£ç ä¸­ï¼Œstepså­—æ®µåªåŒ…æ‹¬ä¸€ä¸ªæ­¥éª¤ã€‚è¯¥æ­¥éª¤å…ˆæ³¨å…¥å››ä¸ªç¯å¢ƒå˜é‡ï¼Œç„¶åæ‰§è¡Œä¸€æ¡ Bash å‘½ä»¤ã€‚ jobs.&lt;job_id&gt;.steps[*].uses é€‰æ‹©è¦ä½œä¸ºjobä¸­stepçš„ä¸€éƒ¨åˆ†è¿è¡Œçš„æ“ä½œã€‚ æ“ä½œæ˜¯ä¸€ç§å¯é‡å¤ä½¿ç”¨çš„ä»£ç å•ä½ã€‚ ä½ å¯ä»¥ä½¿ç”¨å·¥ä½œæµç¨‹æ‰€åœ¨ä»“åº“ä¸­ã€å…¬å…±ä»“åº“ä¸­æˆ–å‘å¸ƒ Docker å®¹å™¨æ˜ åƒä¸­å®šä¹‰çš„æ“ä½œã€‚ ç¤ºä¾‹123456789steps: # Reference a specific commit - uses: actions/setup-node@74bc508 # Reference the major version of a release - uses: actions/setup-node@v1 # Reference a minor version of a release - uses: actions/setup-node@v1.2 # Reference a branch - uses: actions/setup-node@main æ›´å¤šusesä½¿ç”¨ç¤ºä¾‹å‚è€ƒå®˜ç½‘ ç¤ºä¾‹ä¸€ä¸ªç®€å•çš„ workflow æ–‡ä»¶ç¤ºä¾‹workflow example123456789101112131415161718192021222324252627name: Hello Worldon: push: branches: - mainjobs: my_first_job: name: My first job runs-on: ubuntu-latest steps: - name: checkout uses: actions/checkout@main - name: Run a single-line script run: echo &quot;Hello World!&quot; my_second_job: name: My second job runs-on: macos-latest steps: - name: Run a multi-line script env: MY_VAR: Hello World! MY_NAME: P3TERX run: | echo $MY_VAR echo My name is $MY_NAME ä¸Šé¢è¿™ä¸ª workflow æ–‡ä»¶çš„è¦ç‚¹å¦‚ä¸‹ã€‚ æ•´ä¸ªæµç¨‹åœ¨mainåˆ†æ”¯å‘ç”Ÿpushäº‹ä»¶æ—¶è§¦å‘ã€‚ æœ‰ä¸¤ä¸ªä¸ªjobï¼Œä¸€ä¸ªè¿è¡Œåœ¨è™šæ‹Ÿæœºç¯å¢ƒubuntu-latestã€‚ä¸€ä¸ªè¿è¡Œåœ¨macos-latest My First Job ç¬¬ä¸€æ­¥æ˜¯è·å–æºç ï¼Œä½¿ç”¨çš„ action æ˜¯actions/checkoutã€‚ ç¬¬äºŒæ­¥æ˜¯è¿è¡Œä¸€ä¸ªç®€å•çš„è„šæœ¬ï¼šecho &quot;Hello World!&quot; My Second Job è®¾å®šç¯å¢ƒå˜é‡ MY_VAR å’ŒMY_NAME è¿è¡Œè„šæœ¬æ‰“å°ç¯å¢ƒå˜é‡ ä¿å­˜ä¸Šé¢çš„æ–‡ä»¶åï¼Œå°†æ•´ä¸ªä»“åº“æ¨é€åˆ° GitHubã€‚ GitHub å‘ç°äº† workflow æ–‡ä»¶ä»¥åï¼Œå°±ä¼šè‡ªåŠ¨è¿è¡Œã€‚ä½ å¯ä»¥åœ¨ç½‘ç«™ä¸Šå®æ—¶æŸ¥çœ‹è¿è¡Œæ—¥å¿—ï¼Œæ—¥å¿—é»˜è®¤ä¿å­˜ 30 å¤©ã€‚ ç¤ºä¾‹æ–‡ä»¶è¿è¡Œæˆªå›¾ï¼š react é¡¹ç›®å‘å¸ƒåˆ° Github Pagesç¤ºä¾‹é¡¹ç›®éœ€è¦å°†æ„å»ºæˆæœå‘åˆ° GitHub ä»“åº“ï¼Œå› æ­¤éœ€è¦ GitHub å¯†é’¥ã€‚æŒ‰ç…§å®˜æ–¹æ–‡æ¡£ï¼Œç”Ÿæˆä¸€ä¸ªå¯†é’¥ã€‚ç„¶åï¼Œå°†è¿™ä¸ªå¯†é’¥å‚¨å­˜åˆ°å½“å‰ä»“åº“çš„Settings/Secretsé‡Œé¢ã€‚ åœ¨è¿™ä¸ªä»“åº“çš„.github/workflowsç›®å½•ï¼Œç”Ÿæˆä¸€ä¸ª workflow æ–‡ä»¶ï¼Œåå­—å¯ä»¥éšä¾¿å–ï¼Œè¿™ä¸ªç¤ºä¾‹æ˜¯react-cli.ymlã€‚ æˆ‘ä»¬é€‰ç”¨ä¸€ä¸ªåˆ«äººå·²ç»å†™å¥½çš„ actionï¼šJamesIves/github-pages-deploy-actionï¼Œå®ƒæä¾›äº† workflow çš„èŒƒä¾‹æ–‡ä»¶ï¼Œç›´æ¥æ‹·è´è¿‡æ¥å°±è¡Œäº†ï¼ˆæŸ¥çœ‹æºç ï¼‰ react-cli123456789101112131415161718192021222324name: github-test-actionsä¸Šçš„Reacté¡¹ç›®éƒ¨ç½²åˆ°github pageson: push: branches: - react-branchjobs: build-and-deploy: runs-on: ubuntu-latest steps: - name: Checkout ğŸ›ï¸ uses: actions/checkout@v2 with: persist-credentials: false - name: Install and Build ğŸ”§ run: | npm install npm run build - name: Deploy ğŸš€ uses: JamesIves/github-pages-deploy-action@3.7.1 with: ACCESS_TOKEN: ${{ secrets.REACT_WORKFLOW_TOKEN }} BRANCH: gh-pages # The branch the action should deploy to. FOLDER: build # The folder the action should deploy. æ•´ä¸ªæµç¨‹åœ¨react-branchåˆ†æ”¯å‘ç”Ÿpushäº‹ä»¶æ—¶è§¦å‘ã€‚ åªæœ‰ä¸€ä¸ªjobï¼Œè¿è¡Œåœ¨è™šæ‹Ÿæœºç¯å¢ƒubuntu-latestã€‚ ç¬¬ä¸€æ­¥æ˜¯è·å–æºç ï¼Œä½¿ç”¨çš„ action æ˜¯actions/checkoutã€‚ ç¬¬äºŒæ­¥æ˜¯å®‰è£…ä¸æ„å»ºã€‚ ç¬¬ä¸‰æ­¥æ˜¯éƒ¨ç½²ï¼Œä½¿ç”¨çš„ action æ˜¯JamesIves/github-pages-deploy-actionï¼Œä½¿ç”¨ä¸‰ä¸ªå˜é‡ï¼Œåˆ†åˆ«ä¸º GitHub å¯†é’¥ã€å‘å¸ƒåˆ†æ”¯ã€æ„å»ºæˆæœæ‰€åœ¨ç›®å½•ã€‚å…¶ä¸­ï¼Œåªæœ‰ GitHub å¯†é’¥æ˜¯å˜é‡ï¼Œéœ€è¦å†™åœ¨åŒæ‹¬å·é‡Œé¢ï¼Œå…¶ä»–ä¸‰ä¸ªéƒ½å¯ä»¥ç›´æ¥å†™åœ¨æ–‡ä»¶é‡Œã€‚ ä¿å­˜ä¸Šé¢çš„æ–‡ä»¶åï¼Œå°†æ•´ä¸ªä»“åº“æ¨é€åˆ° GitHubã€‚ ç­‰åˆ° workflow è¿è¡Œç»“æŸï¼Œè®¿é—® GitHub Pageï¼Œä¼šçœ‹åˆ°ç½‘é¡µå·²ç»éƒ¨ç½²åˆ°æŒ‡å®šç½‘å€ä¸Šäº†ã€‚ å‚è€ƒé“¾æ¥ GitHub Actions GitHub Actions å…¥é—¨æ•™ç¨‹ GitHub æ‰˜ç®¡çš„è¿è¡Œå™¨çš„è§„æ ¼ GitHub ä½¿ç”¨é™åˆ¶ã€è®¡è´¹å’Œç®¡ç† GitHub æ“ä½œçš„å·¥ä½œæµç¨‹è¯­æ³• äº”åˆ†é’Ÿäº†è§£ YAML actions/checkout github-pages-deploy-action","link":"/articles/2021/01/06/start-github-actions/"},{"title":"ç»ˆç«¯å¦‚ä½•æŒ‚ä»£ç†","text":"æœ¬æ–‡å°†ä»‹ç»ç»ˆç«¯æ˜¯å¦‚ä½•æŒ‚ä»£ç†çš„ã€‚ å‰æé¦–å…ˆä½ éœ€è¦ç±»ä¼¼äºshadowsocksX-NG-R8çš„ä»£ç†è½¯ä»¶ï¼Œæœ¬æ–‡ä»¥shadowsocksX-NG-R8ä¸ºä¾‹ æ­£æ–‡æ‰“å¼€shdowsocksä¸ºä»£ç†æ¨¡å¼ã€‚ ä»¥zshä½œä¸ºè¯´æ˜ .zshrc1$ vim ~/.zshrc ç¬¬ä¸€ç§ï¼š æ·»åŠ å¦‚ä¸‹ä»£ç†é…ç½®: edit12345678910111213# where need proxyproxy () { export http_proxy=&quot;socks5://127.0.0.1:1086&quot; export https_proxy=&quot;socks5://127.0.0.1:1086&quot; echo &quot;Socks Proxy on&quot;}# where need noproxynoproxy () { unset http_proxy unset https_proxy echo &quot;Socks Proxy off&quot;} ç¬¬äºŒç§ï¼š edit123# proxy listalias proxy='export all_proxy=socks5://127.0.0.1:1086'alias noproxy='unset all_proxy' æ³¨ï¼šä¸¤ç§æ–¹å¼çš†å¯ï¼Œ127.0.0.1:1086å–è‡ªé«˜çº§è®¾ç½® :wqä¿å­˜é€€å‡º .zshrc1$ source ~/.zshrc éªŒè¯æ˜¯å¦proxyæˆåŠŸ: 12345678910$ curl cip.ccIP : 101.81.77.200åœ°å€ : ä¸­å›½ ä¸Šæµ·è¿è¥å•† : ç”µä¿¡æ•°æ®äºŒ : ä¸Šæµ·å¸‚ | ç”µä¿¡æ•°æ®ä¸‰ :URL : http://www.cip.cc/101.81.77.200 æ‰§è¡Œproxy: 1$ proxy 123456789$ curl cip.ccIP : 42.200.244.149åœ°å€ : ä¸­å›½ é¦™æ¸¯ pccw.comæ•°æ®äºŒ : é¦™æ¸¯ | ç”µè®¯ç›ˆç§‘å•†ç”¨ç½‘ç»œæ•°æ®ä¸‰ : ä¸­å›½é¦™æ¸¯ | ç”µè®¯ç›ˆç§‘URL : http://www.cip.cc/42.200.244.149 å¦‚æœcip.ccä¸èƒ½ç”¨ï¼Œå¯ä»¥æ¢ä¸ªç±»ä¼¼çš„ç«™ç‚¹æŸ¥è¯¢ å¦‚æœä¸éœ€è¦èµ°ä»£ç†ï¼Œæ‰§è¡Œï¼š 123$ noproxy$ curl cip.ccIP : 101.81.77.200 Clash è®¾å®šä»£ç†åè®¿é—®curl cip.ccæ—¶ï¼Œå¦‚æœè¿”å›çš„ä¾ç„¶æ˜¯ç›´è¿çš„ IP ä¿¡æ¯ï¼Œå¯èƒ½æ˜¯å› ä¸ºä½ çš„ä»£ç†æœ‰è§„åˆ™åˆ¤æ–­ï¼Œcip.cc æ˜¯å›½å†…åŸŸåï¼Œç›´è¿äº†ã€‚å»ºè®®ç›´æ¥èµ°curl -vv https://www.google.com å‚è€ƒé“¾æ¥ Mac OSX ç»ˆç«¯èµ° shadowsocks ä»£ç† #18 è¯·é—® clashx æ€ä¹ˆè®¾ç½®ç»ˆç«¯ä»£ç†å‘¢ï¼Ÿ","link":"/articles/2021/04/02/terminal-proxy/"},{"title":"uPic å›¾åºŠé…ç½®æ•™ç¨‹ - Github","text":"ç®€ä»‹uPic(upload Picture) æ˜¯ä¸€æ¬¾ Mac ç«¯çš„å›¾åºŠ(æ–‡ä»¶)ä¸Šä¼ å®¢æˆ·ç«¯ï¼Œå¯å°†å›¾ç‰‡ã€å„ç§æ–‡ä»¶ä¸Šä¼ åˆ°é…ç½®å¥½çš„æŒ‡å®šæä¾›å•†çš„å¯¹è±¡å­˜å‚¨ä¸­ã€‚ç„¶åå¿«é€Ÿè·å–å¯ä¾›äº’è”ç½‘è®¿é—®çš„æ–‡ä»¶ URLã€‚ é…ç½®é¡¹è¯´æ˜ ç”¨æˆ·å: Github ç”¨æˆ·åã€‚ä¾‹å¦‚ï¼šæˆ‘çš„ Github ä¸»é¡µhttps://github.com/MrSeaWave ï¼Œæˆ‘çš„ç”¨æˆ·åå°±æ˜¯MrSeaWave ä»“åº“å: éœ€è¦å‚¨å­˜ä¸Šä¼ æ–‡ä»¶çš„ä»“åº“åç§°ã€‚ä¾‹å¦‚ï¼šæˆ‘çš„ä»“åº“åœ°å€ä¸ºhttps://github.com/MrSeaWave/figure-bed-profile ï¼Œä»“åº“åç§°å°±æ˜¯figure-bed-profile åˆ†æ”¯: åˆ†æ”¯åç§°ï¼Œé»˜è®¤æ˜¯mainï¼Œå¦‚æœæ˜¯å…¶ä»–åˆ†æ”¯ï¼Œå°±å¿…é¡»å…ˆåˆ›å»ºå¥½åˆ†æ”¯ï¼Œæ‰èƒ½ä¸Šä¼  Token: Github çš„ä¸ªäººè®¿é—®ä»¤ç‰Œï¼ˆPersonal access tokensï¼‰ åŸŸå: é»˜è®¤å¯ä¸è®¾ç½®åŸŸåï¼Œä¼šä½¿ç”¨ Github é»˜è®¤çš„è®¿é—®åœ°å€ã€‚å½“ä½ çš„ä»“åº“å¼€å¯äº†pagesåŠŸèƒ½ï¼Œå¹¶é…ç½®å¥½äº†è‡ªå®šä¹‰åŸŸåæ—¶ï¼Œè¿™é‡Œå°±å¯ä»¥ä½¿ç”¨ä½ çš„è‡ªå®šä¹‰åŸŸå ä½¿ç”¨é»˜è®¤ CDN åŠ é€Ÿè®¿é—®: å‹¾é€‰æ—¶ä¼šè‡ªåŠ¨ä½¿ç”¨ jsdelivr CDN è¿›è¡ŒåŠ é€Ÿè®¿é—® ä¿å­˜è·¯å¾„: æ–‡ä»¶å‚¨å­˜çš„è·¯å¾„ï¼ˆåŒ…æ‹¬æ–‡ä»¶å¤¹ï¼‰ã€‚ æ”¯æŒ {year} {month} {day} {hour} {minute} {second} {since_second} {since_millisecond} {random} {filename} {.suffix} ç­‰å˜é‡ã€‚æ¯”å¦‚ï¼šä¸Šä¼ çš„å›¾ç‰‡ä¸º uPic.jpgï¼Œè®¾å®šä¸º â€œuPic/{filename}{.suffix}â€ï¼Œåˆ™ä¼šä¿å­˜åˆ° â€œuPic/uPic.jpgâ€ã€‚ Token è·å–æ–¹å¼ è¿›å…¥Github Token åˆ›å»ºé¡µé¢ å‹¾é€‰ repo è®¿é—®æƒé™ã€‚ç„¶åæ»šåŠ¨é¡µé¢åˆ°åº•éƒ¨ï¼Œç‚¹å‡»Generate tokenæŒ‰é’®æ¥ç”Ÿæˆ tokenã€‚ å¤åˆ¶ç”Ÿæˆå¥½çš„ Token å€¼åˆ° uPic token è¾“å…¥æ¡†ã€‚æ³¨æ„ï¼šæ­¤ Token åªä¼šæ˜¾ç¤ºä¸€æ¬¡ï¼è¯·åŠ¡å¿…ä¿å­˜å¥½ï¼Œå¦åˆ™ä¹‹åä¸¢å¤±äº†ï¼Œå°±å¾—é‡æ–°åˆ›å»ºäº†ã€‚ æœ€ç»ˆæ•ˆæœä¿å­˜ä¸€ä¸‹ï¼Œåœ¨èœå•æ -å›¾åºŠæ é€‰ä¸­åˆšåˆšé…ç½®å¥½çš„ Github å›¾åºŠï¼Œä¸Šä¼ ä¸€å¼ å›¾ç‰‡è¯•è¯•å§ã€‚ä¸Šä¼ æˆåŠŸåï¼ŒGithub ä»“åº“å°±ä¼šå‡ºç°ä½ åˆšä¸Šä¼ çš„æ–‡ä»¶å•¦","link":"/articles/2021/03/24/upic-github/"},{"title":"vscode æ’ä»¶ project-manager ä½¿ç”¨","text":"åœ¨é¡¹ç›®å¼€å‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åŒæ—¶æ“ä½œå¤šä¸ªé¡¹ç›®ï¼Œç»å¸¸éœ€è¦åˆ‡æ¢é¡¹ç›®ã€‚ ä»¥å‰çš„æ–¹å¼ åœ¨å·¥å…·æ ä¸­ç‚¹å‡»æ–‡ä»¶ï¼Œæ‰“å¼€ï¼Œé€‰æ‹©æœ¬åœ°é¡¹ç›®çš„ç›®å½• / æ–°å»ºçª—å£ å¦‚æœæœ‰æœ€è¿‘æ‰“å¼€çš„é¡¹ç›®ï¼Œç‚¹å‡»æ‰“å¼€æœ€è¿‘çš„æ–‡ä»¶ è¿™ä¸¤ç§æ–¹å¼å¯¹äºéœ€è¦ç»å¸¸åˆ‡æ¢é¡¹ç›®æ—¶ï¼Œæ¯”è¾ƒè€—æ—¶ ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒVSCode æä¾›äº† Project Manager æ’ä»¶ç®¡ç†ï¼Œå¼€å‘æ—¶å¸¸ç”¨çš„é¡¹ç›®ã€‚ Project Manager ç®¡ç†é¡¹ç›®å¯ç”¨å‘½ä»¤ Project Manager: Save Project å°†å½“å‰æ–‡ä»¶å¤¹å¦å­˜ä¸ºæ–°é¡¹ç›® Project Manager: Edit Project æ‰‹åŠ¨ç¼–è¾‘é¡¹ç›®ï¼ˆprojects.jsonï¼‰ Project Manager: List Projects to Open åˆ—å‡ºæ‰€æœ‰å·²ä¿å­˜/æ£€æµ‹åˆ°çš„é¡¹ç›®å¹¶é€‰æ‹©ä¸€ä¸ª Project Manager: List Projects to Open in New Window åˆ—å‡ºæ‰€æœ‰å·²ä¿å­˜/æ£€æµ‹åˆ°çš„é¡¹ç›®ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªåœ¨æ–°çª—å£ä¸­æ‰“å¼€ Project Manager: Refresh Projects åˆ·æ–°ç¼“å­˜çš„é¡¹ç›® ä¿å­˜é¡¹ç›®command+ shift + p æ‰“å¼€é…ç½®æ–‡ä»¶ï¼Œè¾“å…¥ Project Manager: Save Projects æ‚¨å¯ä»¥éšæ—¶å°†å½“å‰é¡¹ç›®ä¿å­˜åœ¨ç®¡ç†å™¨ä¸­ã€‚ä½ åªéœ€è¦è¾“å…¥ä¸€ä¸ªåå­—ã€‚å®ƒç”šè‡³ä¼šè‡ªåŠ¨ä¸ºä½ å»ºè®®ä¸€ä¸ªåå­—:) æŒ‰ Enter é”®åï¼Œå³ä¸‹è§’å¼¹å‡ºä¿å­˜æˆåŠŸæç¤ºã€‚ ç¼–è¾‘é¡¹ç›®ä¸ºäº†æ›´è½»æ¾åœ°è‡ªå®šä¹‰é¡¹ç›®åˆ—è¡¨ï¼Œæ‚¨å¯ä»¥ projects.json ç›´æ¥åœ¨ Code ä¸­ç¼–è¾‘æ–‡ä»¶ã€‚åªéœ€æ‰§è¡Œ Project Manager: Edit Projectså’Œprojects.json æ–‡ä»¶è¢«æ‰“å¼€ã€‚è¿™å¾ˆç®€å•ï¼Œæˆ‘å°±æ‰‹åŠ¨æ·»åŠ äº†ä¸€ä¸ª blogs é¡¹ç›®ï¼š ç¡®ä¿ JSON æ–‡ä»¶æ ¼å¼æ­£ç¡®ã€‚å¦åˆ™ï¼Œé¡¹ç›®ç®¡ç†å™¨å°†æ— æ³•æ‰“å¼€å®ƒï¼Œå¹¶ä¸”ä¼šå‡ºç°ç±»ä¼¼è¿™æ ·çš„é”™è¯¯æ¶ˆæ¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨åº”è¯¥ä½¿ç”¨ Open File æŒ‰é’®æ¥ä¿®å¤å®ƒã€‚ åˆ·æ–°é¡¹ç›®command+ shift + p æ‰“å¼€é…ç½®ï¼Œè¾“å…¥ Project Manager: Refresh Projects åˆ·æ–°é¡¹ç›® é¡¹ç›®åˆ—è¡¨åˆ·æ–°ä¹‹åï¼Œå·¦ä¾§å¯¼èˆªæ ï¼Œå¤šå‡ºä¸€ä¸ªæ–‡ä»¶å¤¹å›¾æ ‡ï¼Œç”¨äºç®¡ç†é¡¹ç›®ï¼Œç‚¹å‡»å…¶ä¸­ä¸€ä¸ªï¼Œè‡ªåŠ¨åˆ‡æ¢é¡¹ç›®ã€‚ å¯ç”¨è®¾ç½®è®¾ç½®æ’ä»¶çš„å¯é…ç½®é¡¹ï¼Œåœ¨ é¦–é€‰é¡¹ - è®¾ç½® - æ‹“å±• - Project Manager Configuration ä½ç½® ä¸¾ä¾‹ï¼šæ‚¨å¯ä»¥é€‰æ‹©é¡¹ç›®çš„æ’åºæ–¹å¼ 1&quot;projectManager.sortList&quot;: &quot;Name&quot; Savedï¼šæ‚¨ä¿å­˜é¡¹ç›®çš„é¡ºåº Nameï¼šæ‚¨ä¸ºé¡¹ç›®é”®å…¥çš„åç§° Pathï¼šé¡¹ç›®çš„å®Œæ•´è·¯å¾„ Recentï¼šæœ€è¿‘ä½¿ç”¨çš„é¡¹ç›®","link":"/articles/2021/03/31/vscode-project-manager/"},{"title":"vs-codeâ€œå®ç”¨æ’ä»¶â€","text":"åœ¨ä½¿ç”¨vs-codeæ—¶ï¼Œæ•´ç†äº†ä¸€äº›å¥½ç”¨çš„vs-codeæ’ä»¶åˆ†äº«ã€‚ åŸºç¡€å¿…å¤‡Chinesevscodeç¼–è¾‘å™¨æ±‰åŒ–åŒ…ï¼Œå®‰è£…åï¼Œåœ¨ locale.json ä¸­æ·»åŠ  &quot;locale&quot;: &quot;zh-cn&quot;ï¼Œå³å¯è½½å…¥ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰è¯­è¨€åŒ…ã€‚ Auto Rename Tagè‡ªåŠ¨é‡å‘½åæˆå¯¹çš„HTMLæ ‡è®°ï¼Œä¿®æ”¹å¼€å§‹æ ‡ç­¾ï¼Œç»“æŸæ ‡ç­¾ä¼šåŒæ­¥ä¿®æ”¹ã€‚ Auto Close Tagè‡ªåŠ¨é—­åˆHTML/XMLæ ‡ç­¾ HTML SnippetsHTML ä»£ç ç‰‡æ®µï¼Œè¯¥æ’ä»¶å¯ä¸ºä½ æä¾› html æ ‡ç­¾çš„ä»£ç æç¤ºï¼Œä¸ç”¨é”®å…¥å°–æ‹¬å·äº†ã€‚ Bracket Pair Colorizerè¯¥æ’ä»¶å¯ä»¥ä¸ºä½ æŠŠæˆå¯¹çš„æ‹¬å·åšé¢œè‰²åŒºåˆ†ï¼Œå¹¶ä¸”æä¾›ä¸€æ ¹è¿æ¥çº¿ã€‚æ–¹ä¾¿æˆ‘ä»¬å®¡é˜…ä»£ç ç»“æ„ã€‚ CSS Peekcss æ ·å¼æŸ¥çœ‹å™¨ï¼Œå¯å¿«é€ŸæŸ¥çœ‹æˆ‘ä»¬çš„ css æ ·å¼ï¼Œéå¸¸æ–¹ä¾¿å¿«æ·ã€‚ Npm Intellisenseå¯è‡ªåŠ¨å®Œæˆå¯¼å…¥è¯­å¥ä¸­çš„ npm æ¨¡å—ã€‚ open in browserå¿«é€Ÿæ‰“å¼€htmlæ–‡ä»¶åˆ°æµè§ˆå™¨é¢„è§ˆã€‚ Debugger for Chromeè°ƒè¯•å·¥å…·ï¼Œå¿…è£…ï¼›å…·ä½“ä½¿ç”¨æŸ¥çœ‹å®˜ç½‘ vscode-iconsæä¾›äº†éå¸¸æ¼‚äº®çš„ç›®å½•æ ‘å›¾æ ‡ä¸»é¢˜ã€‚ Material Icon Themeæä¾›äº†éå¸¸æ¼‚äº®çš„ç›®å½•æ ‘å›¾æ ‡ä¸»é¢˜ã€‚ï¼ˆè¿™æ¬¾æœ€çˆ±ã€‚ Atom One Dark ThemeOne Dark Theme based on Atomã€‚ Dracula Officialå¸è¡€é¬¼ä¸»é¢˜ã€‚ Path Intellisenseè‡ªåŠ¨æç¤ºæ–‡ä»¶è·¯å¾„ï¼Œæ”¯æŒå„ç§å¿«é€Ÿå¼•å…¥æ–‡ä»¶ã€‚ Image previewé¼ æ ‡æ‚¬æµ®åœ¨é“¾æ¥ä¸Šå¯åŠæ—¶é¢„è§ˆå›¾ç‰‡ã€‚ Highlight Matching Tagç‚¹å‡»æŸ Tag æ—¶å¯¹åº”çš„ Tag ä¸‹ä¼šæœ‰ä¸‹åˆ’çº¿æ ‡ç¤ºï¼Œæ¯”è¾ƒå®ç”¨ï¼› Beautifyåœ¨ä»£ç æ–‡ä»¶å³é”®é¼ æ ‡ä¸€é”®æ ¼å¼åŒ– html,js,css JavaScript (ES6) code snippetsES6 è¯­æ³•æ™ºèƒ½æç¤ºï¼Œä»¥åŠå¿«é€Ÿè¾“å…¥ã€‚ VeturVScodeå®˜æ–¹é’¦å®š Vue æ’ä»¶ï¼ŒVueå¼€å‘è€…å¿…å¤‡ã€‚å†…å«è¯­æ³•é«˜äº®ï¼Œæ™ºèƒ½æç¤ºï¼Œemmetï¼Œé”™è¯¯æç¤ºï¼Œæ ¼å¼åŒ–ï¼Œè‡ªåŠ¨è¡¥å…¨ï¼Œdebuggerç­‰å®ç”¨åŠŸèƒ½ã€‚ indent-rainbowç”¨é¢œè‰²å¡«å……ç¼©è¿›ï¼Œéå¸¸ç›´è§‚ï¼Œå¦‚æœæœ‰ç¼©è¿›é”™è¯¯è¿˜ä¼šå˜æˆçº¢è‰²ã€‚ï¼ˆ å¯¹å†™ Nim or Python ç”¨å¤„æå¤§ã€‚ ä»£ç é£æ ¼è§„èŒƒPrettier - Code formatterPrettier æ˜¯ä¸€ä¸ªâ€œæœ‰æ€åº¦â€çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ã€‚ï¼Œprettieræ”¯æŒæˆ‘ä»¬å¤§å‰ç«¯ç›®å‰å¤§éƒ¨åˆ†è¯­è¨€å¤„ç†ï¼ŒåŒ…æ‹¬JavaScript ã€Flowã€ TypeScript ã€CSS ã€SCSS ã€Less ã€JSX ã€Vue ã€GraphQL ã€JSON ã€Markdown ESlintè§„èŒƒ js ä»£ç ä¹¦å†™è§„åˆ™ï¼Œå¦‚æœè§‰å¾—å¤ªè¿‡ä¸¥è°¨ï¼Œå¯è‡ªå®šä¹‰è§„åˆ™ã€‚ Code Spell Checkeræ˜¯æ‹¼å†™æ£€æŸ¥ç¨‹åºï¼Œæ£€æŸ¥ä¸å¸¸è§çš„å•è¯ï¼Œå¦‚æœå•è¯æ‹¼å†™é”™è¯¯ï¼Œä¼šç»™å‡ºè­¦å‘Šæç¤ºã€‚ koroFileHeaderåœ¨vscodeä¸­ç”¨äºç”Ÿæˆæ–‡ä»¶å¤´éƒ¨æ³¨é‡Šå’Œå‡½æ•°æ³¨é‡Šçš„æ’ä»¶ï¼Œç»è¿‡å¤šç‰ˆè¿­ä»£åï¼Œæ’ä»¶ï¼šæ”¯æŒæ‰€æœ‰ä¸»æµè¯­è¨€ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œçµæ´»æ–¹ä¾¿ï¼Œæ–‡æ¡£é½å…¨ï¼Œé£Ÿç”¨ç®€å•ï¼ Better Alignä»£ç ä¹¦å†™çš„æ•´æ´ï¼Œå·¥æ•´å¾€å¾€æ˜¯è¡¡é‡ä¸€ä¸ªç¨‹åºå‘˜ç´ å…»çš„æ ‡å‡†ï¼Œè¿™æ¬¾æ’ä»¶å¯ä»¥è®©ä½ çš„ä»£ç æ›´æ’ç‰ˆä¼˜é›…ã€‚ change-caseé€šå¸¸æˆ‘ä»¬å¯¹ä¸€ä¸ªå˜é‡çš„å‘½åå¯èƒ½æ˜¯é©¼å³°ï¼Œå¯èƒ½æ˜¯å…¨å¤§å†™ï¼Œåˆæˆ–æ˜¯ä¸‹åˆ’çº¿ï¼Œè¿™é‡Œå¯é€šè¿‡è¿™ä¸ªæ’ä»¶è§£å†³å˜é‡å‘½åè§„èŒƒçš„é—®é¢˜ã€‚ é€‰ä¸­å˜é‡é…åˆç»„åˆé”®[Command+Shift+p]ï¼Œè¾“å…¥å¯¹åº”æ ¼å¼å³å¯ã€‚ 1234567891011121314151617extension.changeCase.commandsï¼šåˆ—å‡ºæ‰€æœ‰â€œæ›´æ”¹æ¡ˆä¾‹â€å‘½ä»¤ï¼Œå¦‚æœä»…é€‰æ‹©ä¸€ä¸ªå•è¯ï¼Œåˆ™å¸¦æœ‰é¢„è§ˆextension.changeCase.camelï¼šæ›´æ”¹å¤§å°å†™'camel'ï¼šè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶ç”¨ä¸‹ä¸€ä¸ªå­—æ¯å¤§å†™è¡¨ç¤ºåˆ†éš”ç¬¦extension.changeCase.constantï¼šæ›´æ”¹å¤§å°å†™â€œå¸¸é‡â€ï¼šè½¬æ¢ä¸ºå¤§å†™å­—æ¯ï¼Œä¸‹åˆ’çº¿åˆ†éš”å­—ç¬¦ä¸²extension.changeCase.dotï¼šæ›´æ”¹å¤§å°å†™çš„â€œç‚¹â€ï¼šè½¬æ¢ä¸ºå°å†™ï¼Œå¥ç‚¹åˆ†éš”çš„å­—ç¬¦ä¸²extension.changeCase.kebabï¼šæ›´æ”¹å¤§å°å†™â€œ kebabâ€ï¼šè½¬æ¢ä¸ºå°å†™å­—æ¯ï¼Œç”¨ç ´æŠ˜å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼ˆå‚æ•°åçš„åˆ«åï¼‰extension.changeCase.lowerï¼šæ›´æ”¹å¤§å°å†™ä¸ºâ€œå°å†™â€ï¼šè½¬æ¢ä¸ºå°å†™çš„å­—ç¬¦ä¸²extension.changeCase.lowerFirstï¼šæ›´æ”¹å¤§å°å†™â€œ lowerFirstâ€ï¼šè½¬æ¢ä¸ºé¦–å­—æ¯å°å†™çš„å­—ç¬¦ä¸²extension.changeCase.noï¼šè½¬æ¢æ²¡æœ‰ä»»ä½•å¤§å°å†™çš„å­—ç¬¦ä¸²ï¼ˆå°å†™å­—æ¯ï¼Œç©ºæ ¼åˆ†éš”ï¼‰extension.changeCase.paramï¼šæ›´æ”¹å¤§å°å†™ä¸º'param'ï¼šè½¬æ¢ä¸ºå°å†™å­—æ¯ï¼Œç”¨ç ´æŠ˜å·åˆ†éš”çš„å­—ç¬¦ä¸²extension.changeCase.pascalï¼šæ›´æ”¹å¤§å°å†™â€œ pascalâ€ï¼šè½¬æ¢ä¸ºä»¥ä¸camelCaseç›¸åŒçš„æ–¹å¼è¡¨ç¤ºçš„å­—ç¬¦ä¸²ï¼Œä½†é¦–å­—æ¯ä¹Ÿå¤§å†™extension.changeCase.pathï¼šæ›´æ”¹å¤§å°å†™çš„â€œè·¯å¾„â€ï¼šè½¬æ¢ä¸ºå°å†™ï¼Œç”¨æ–œæ åˆ†éš”çš„å­—ç¬¦ä¸²extension.changeCase.sentenceï¼šæ›´æ”¹å¤§å°å†™çš„â€œå¥å­â€ï¼šè½¬æ¢ä¸ºå°å†™çš„ç©ºæ ¼åˆ†éš”çš„å­—ç¬¦ä¸²extension.changeCase.snakeï¼šæ›´æ”¹å¤§å°å†™â€œ snakeâ€ï¼šè½¬æ¢ä¸ºå°å†™å­—æ¯ï¼Œä¸‹åˆ’çº¿åˆ†éš”å­—ç¬¦ä¸²extension.changeCase.swapï¼šæ›´æ”¹å¤§å°å†™â€œäº¤æ¢â€ï¼šè½¬æ¢ä¸ºæ¯ä¸ªå¤§å°å†™ç›¸åçš„å­—ç¬¦ä¸²extension.changeCase.titleï¼šæ›´æ”¹å¤§å°å†™â€œæ ‡é¢˜â€ï¼šè½¬æ¢ä¸ºä»¥ç©ºæ ¼åˆ†éš”çš„å­—ç¬¦ä¸²ï¼Œæ¯ä¸ªå•è¯çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å‡å¤§å†™extension.changeCase.upperï¼šæ›´æ”¹å¤§å°å†™ä¸ºå¤§å†™ï¼šè½¬æ¢ä¸ºå¤§å†™å­—ç¬¦ä¸²extension.changeCase.upperFirstï¼šæ›´æ”¹å¤§å°å†™ä¸ºâ€œ upperFirstâ€ï¼šè½¬æ¢ä¸ºé¦–å­—æ¯å¤§å†™çš„å­—ç¬¦ä¸² Better Commentsä¸°å¯Œæ³¨é‡Šé¢œè‰²ï¼Œè®©æ³¨é‡Šä¹Ÿå…·æœ‰ç”Ÿå‘½åŠ›ï¼Œå¦‚éœ€è‡ªå®šä¹‰æ ·å¼ï¼Œéœ€è¦å†™å…¥é…ç½®ä»£ç ã€‚ 1234567891011é…ç½®ä»£ç &quot;better-comments.tags&quot;: [ { &quot;tag&quot;: &quot;*&quot;, &quot;color&quot;: &quot;#98C379&quot;, &quot;strikethrough&quot;: false, &quot;backgroundColor&quot;: &quot;transparent&quot; }]ä½¿ç”¨// * ç»¿è‰²çš„é«˜äº®æ³¨é‡Š TODO Treeæˆ‘ä»¬ç»å¸¸ä¼šåœ¨ä»£ç ä¸­ä½¿ç”¨TODOæ¥æ ‡è®°æˆ‘ä»¬çš„ä»£ç ï¼Œæé«˜å¯è¯»æ€§ï¼ŒTODO Treeè¿™æ¬¾æ’ä»¶æä¾›äº†å¯è§†åŒ–çª—å£æ¥æŸ¥çœ‹å’Œç®¡ç†æˆ‘ä»¬çš„TODO Tree å…¶ä»–æ’ä»¶ï¼ˆå¼€å‘ç¥å™¨GitLensGitLenså¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£ä»£ç ã€‚å¿«é€ŸæŸ¥çœ‹æ›´æ”¹è¡Œæˆ–ä»£ç å—çš„å¯¹è±¡ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼ŒåŠŸèƒ½ä¸°å¯Œä¸”é«˜åº¦å¯å®šåˆ¶ï¼Œå¯ä»¥æ»¡è¶³ä½ çš„éœ€æ±‚ GitHistoryGitHistoryå¯æŸ¥çœ‹å’Œæœç´¢ git æ—¥å¿—ä»¥åŠå›¾å½¢å’Œè¯¦ç»†ä¿¡æ¯ï¼ŒåŒæ—¶è¿˜æ”¯æŒåˆ†æ”¯æ¯”è¾ƒï¼Œåˆ†æ”¯ç®¡ç†ç­‰æ“ä½œï¼Œéå¸¸æ–¹ä¾¿ã€‚ Partial Diffæ–‡ä»¶æ¯”è¾ƒæ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„åœºæ™¯ï¼Œå¦‚æœå…‰å‡­æˆ‘ä»¬è‚‰çœ¼åˆ†åˆ«çš„è¯ï¼Œç´¯äººä¸è¯´è¿˜å®¹æ˜“å‡ºé”™ã€‚ Partial Diffçš„å‡ºç°å°±æ­£å¥½è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ Markdown All in Oneè¿™æ¬¾ç¥å™¨å¯ä»¥è®©æˆ‘ä»¬åœ¨vscodeé‡Œé¢å¿«ä¹çš„ä¹¦å†™Markdownï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚æä¾›äº†ä¸°å¯Œçš„å¿«æ·é”®ï¼Œå¯è¾¹å†™è¾¹çœ‹ï¼Œè½»æ¾è½¬åŒ–ä¸ºhtmlæˆ–pdfæ–‡ä»¶ï¼Œååˆ†å¥½ç”¨ï¼Œå¼ºçƒˆæ¨èã€‚ vscode-drawioè¿™æ¬¾ç¥å™¨å¯ä»¥è®©æˆ‘ä»¬åœ¨vscodeé‡Œé¢å¿«ä¹çš„ç”»æµç¨‹å›¾ã€‚æ–°å»º .drawio åç¼€æ–‡ä»¶å¹¶æ‹–å…¥ vscode ä¸­ã€‚ Polacode-2020è¿™æ¬¾ç¥å™¨å¯ä»¥å°†æˆ‘ä»¬çš„ä»£ç è½¬åŒ–æˆä¸€å¼ é€¼æ ¼æ»¡æ»¡çš„å›¾ç‰‡ï¼Œåœ¨å†™æ–‡ç« æˆ–è€…ä»£ç åˆ†äº«çš„æ—¶å€™ã€‚æŠ›å‡ºä¸€å¼ è¿™æ ·çš„å›¾ç‰‡ï¼Œå¯æ¯”éšæ‰‹æˆªå›¾ä½“é¢å¤šäº†ã€‚ carbon-now-shä¹Ÿæ˜¯ä¸€æ¬¾å°†ä»£ç è½¬æ¢æˆå›¾ç‰‡çš„æ’ä»¶ï¼Œä¸è¿‡å®ƒä¼šæ‰“å¼€carbon.now.shç½‘ç«™ REST Clientè¿™æ¬¾ç¥å™¨å¯ä»¥è®©æˆ‘ä»¬åœ¨vscodeé‡Œé¢è¿›è¡Œæ¥å£è°ƒè¯•ï¼Œæä¾›ä¸°å¯Œçš„ api é…ç½®æ–¹å¼ï¼Œè®©æˆ‘ä»¬ä¸ç”¨ç¦»å¼€ç¼–è¾‘å™¨ä¹Ÿå¯ä»¥éšæ—¶è°ƒç”¨æ¥å£è°ƒè¯•ã€‚ æ–°å»ºä¸€ä¸ª.httpæ–‡ä»¶ï¼Œå†™ä¸‹åŸºæœ¬çš„æµ‹è¯•ä»£ç ï¼Œç‚¹å‡» Send Requestå³å¯åœ¨å³è¾¹çª—å£æŸ¥çœ‹æ¥å£è¿”å›ç»“æœï¼Œéå¸¸ niceã€‚ Browser Previewå¯ä»¥è®©æˆ‘ä»¬åœ¨vscodeé‡Œé¢æ‰“å¼€æµè§ˆå™¨ï¼Œä¸€è¾¹ç¼–ç ä¸€è¾¹æŸ¥çœ‹ã€‚ JavaScript Boosterè¿™æ¬¾ç¥å™¨å¯ä»¥åœ¨æˆ‘ä»¬ä»£ç å†™çš„ä¸è§„èŒƒæˆ–è€…æœ‰å¾…è°ƒæ•´çš„åœ°æ–¹ï¼Œåœ¨å…‰æ ‡èšç„¦åï¼Œä¼šæœ‰ä¸€ä¸ªå°ç¯æ³¡ï¼Œåªéœ€è·Ÿéšç¯æ³¡ ğŸ’¡ï¼Œä¼šæç¤ºå¯¹åº”çš„ä¸åˆç†åŸå› å’Œæ”¹è¿›æ–¹æ¡ˆï¼Œæå¤§çš„æé«˜äº†æˆ‘ä»¬çš„ä»£ç ä¼˜é›…åº¦ã€‚ å½“åœ¨JavaScriptï¼ˆæˆ–TypeScript / Flowï¼‰ä¸­ç¼–è¾‘ä»£ç æ—¶ï¼Œæ­¤VS Codeæ‰©å±•æä¾›äº†å„ç§ä»£ç æ“ä½œï¼ˆå¿«é€Ÿä¿®å¤ï¼‰ã€‚åªéœ€æ³¨æ„å·¦ä¾§çš„ç¯æ³¡ ğŸ’¡ï¼Œç„¶åæŒ‰ä¸€ä¸‹å®ƒå³å¯äº†è§£å¦‚ä½•åœ¨å…‰æ ‡ä¸‹è½¬æ¢ä»£ç ã€‚ Settings Syncè®©æˆ‘ä»¬çš„vscodeé…ç½®åŒæ­¥åˆ°äº‘ç«¯ï¼Œå½“æˆ‘ä»¬è·Ÿæ¢ç”µè„‘æˆ–è€…å†æ¬¡å®‰è£…vscodeçš„æ—¶å€™ï¼Œåªéœ€è¦ç™»å½•è´¦å·å³å¯åŒæ­¥é…ç½®äº†ï¼Œè€Œä¸ç”¨å†æ¬¡ä»å¤´å¼€å§‹ã€‚ï¼ˆé’ˆå¯¹è€ç‰ˆæœ¬çš„vscodeï¼‰ é¢„è§ˆç‰ˆvscodeè‡ªå¸¦é…ç½®åŒæ­¥åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡ Microsoft è´¦æˆ·æˆ– GitHub è´¦æˆ·è¿›è¡Œå¤šæœºå™¨åŒæ­¥ã€‚å…·ä½“å¯å‚è€ƒå®˜ç½‘ Vimå¦‚æœä½ æ˜¯vimé‡åº¦ç”¨æˆ·ï¼Œé‚£ä¹ˆè¿™æ¬¾æ’ä»¶å¿…ä¸å¯å°‘ã€‚ Live Shareå¯ä»¥ä½¿æ‚¨èƒ½å¤Ÿä¸ä»–äººå®æ—¶è¿›è¡Œåä½œå¼ç¼–è¾‘å’Œè°ƒè¯•ï¼Œæ— è®ºæ‚¨ä½¿ç”¨çš„æ˜¯å“ªç§ç¼–ç¨‹è¯­è¨€æˆ–æ­£åœ¨æ„å»ºçš„åº”ç”¨ç¨‹åºç±»å‹ã€‚å…·ä½“ä½¿ç”¨ç»†èŠ‚å¯æŸ¥çœ‹å®˜ç½‘ Remote Developmentè¿œç¨‹å¼€å‘å¿…å¤‡æ‰©å±•å®‰è£…ï¼ˆåˆ’æ—¶ä»£çš„äº§å“ï¼‰ã€‚ä¼šä¸ºä½ å®‰è£…åŒ…æ‹¬ Remote-SSH ç­‰å…¨éƒ¨è¿œç¨‹å¼€å‘ä½¿ç”¨çš„æ‰©å±•ã€‚å…·ä½“æ­å»ºå¯å‚è€ƒVS Code Remote ç¯å¢ƒæ­å»º","link":"/articles/2021/03/15/vs-code-plugins/"},{"title":"webpack import() åŠ¨æ€åŠ è½½æ¨¡å—è¸©å‘","text":"æœ¬æ–‡æ˜¯å…³äº webpack ä¸­ä½¿ç”¨ import æ—¶çš„è¸©å‘è®°å½•ã€‚ webpack æ ¹æ® ES2015 loader è§„èŒƒå®ç°äº†ç”¨äºåŠ¨æ€åŠ è½½çš„import()æ–¹æ³•ã€‚ è¿™ä¸ªåŠŸèƒ½å¯ä»¥å®ç°æŒ‰éœ€åŠ è½½æˆ‘ä»¬çš„ä»£ç ï¼Œå¹¶ä¸”ä½¿ç”¨äº†promiseå¼çš„å›è°ƒï¼Œè·å–åŠ è½½çš„åŒ…ã€‚ åœ¨ä»£ç ä¸­æ‰€æœ‰è¢«import()çš„æ¨¡å—ï¼Œéƒ½å°†æ‰“æˆä¸€ä¸ªå•ç‹¬çš„åŒ…ï¼Œæ”¾åœ¨chunkå­˜å‚¨çš„ç›®å½•ä¸‹ã€‚åœ¨æµè§ˆå™¨è¿è¡Œåˆ°è¿™ä¸€è¡Œä»£ç æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨è¯·æ±‚è¿™ä¸ªèµ„æºï¼Œå®ç°å¼‚æ­¥åŠ è½½ã€‚ demo å¦‚ä¸‹ï¼š 1234 import('lodash').then((_) =&gt; { // Do something with lodash (a.k.a '_')... });} å¯ä»¥çœ‹åˆ°ï¼Œimport()çš„è¯­æ³•ååˆ†ç®€å•ã€‚è¯¥å‡½æ•°åªæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯å¼•ç”¨åŒ…çš„åœ°å€ï¼Œè¿™ä¸ªåœ°å€ä¸ es6 çš„ import ä»¥åŠ CommonJS çš„ require è¯­æ³•ç”¨åˆ°çš„åœ°å€å®Œå…¨ä¸€è‡´ã€‚å¯ä»¥å®ç°æ— ç¼åˆ‡æ¢ã€‚ ç„¶è€Œåœ¨å¼€å‘æ—¶ä¸ºäº†å·æ‡’çœäº‹ï¼Œå¾ˆå–œæ¬¢å°è£…éƒ¨åˆ†æ’ä»¶ï¼š(è¿™é‡Œä½¿ç”¨äº†react-loadableæ¥ç®€åŒ–ç»„ä»¶çš„æ‡’åŠ è½½å°è£…) 12345678const LazyLoad = (path) =&gt; { return Loadable({ loader: () =&gt; import(path), loading: Loading, });};const B = LazyLoad('./b.js'); ç„¶åå¼€å¿ƒçš„åœ¨ä»£ç ä¸­å†™ä¸ŠLazyLoad('./pages/xxx')ã€‚æœä¸å…¶ç„¶ï¼ŒæŒ‚äº†ï¼Œæ”¶è·äº†æŠ¥é”™ï¼š è¿™æ˜¯å› ä¸º webpack ç¼–è¯‘çš„æ—¶å€™ import é¢„å‘ï¼Œ**ä¸æ”¯æŒåŠ¨æ€è·¯å¾„!!!**å› ä¸º webpack éœ€è¦å…ˆæ‰«ä¸€é js æ–‡ä»¶ï¼Œæ‰¾å‡ºé‡Œé¢æŒ‰éœ€åŠ è½½çš„éƒ¨åˆ†ï¼Œè¿›è¡ŒæŒ‰éœ€æ‰“åŒ…ï¼Œä½†ä¸ä¼šå…³å¿ƒå†…éƒ¨çš„ js æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ webpack æ‰«æçš„æ—¶å€™ï¼Œjs ä¸­çš„å˜é‡å¹¶ä¸ä¼šè®¡ç®—å‡ºç»“æœï¼Œæ‰€ä»¥ import ä¸æ”¯æŒåŠ¨æ€è·¯å¾„ã€‚ å¦‚ï¼š 1import('./app'+path+'/util') =&gt; /^\\.\\/app.*\\/util$/ import å‚æ•°ä¸­çš„æ‰€æœ‰å˜é‡ï¼Œéƒ½ä¼šè¢«æ›¿æ¢ä¸ºã€.*ã€‘ï¼Œè€Œ webpack å°±æ ¹æ®è¿™ä¸ªæ­£åˆ™ï¼ŒæŸ¥æ‰¾æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„åŒ…ï¼Œå°†å…¶ä½œä¸º package è¿›è¡Œæ‰“åŒ…ã€‚å…·ä½“å¯æŸ¥çœ‹å®˜æ–¹ å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥ä¼ å…¥ä¸€ä¸ªå˜é‡ï¼Œwebpack å°±ä¼šæŠŠ (æ•´ä¸ªç”µè„‘çš„åŒ…éƒ½æ‰“åŒ…è¿›æ¥) è®¤ä¸ºä½ åœ¨é€—ä»–ï¼Œå¹¶ä¸”æŠ›å‡ºä¸€ä¸ª WARNING: Critical dependency: the request of a dependency is an expressionã€‚ æ‰€ä»¥ import çš„æ­£ç¡®å§¿åŠ¿ï¼Œåº”è¯¥æ˜¯å°½å¯èƒ½é™æ€åŒ–è¡¨è¾¾åŒ…æ‰€å¤„çš„è·¯å¾„ï¼Œæœ€å°åŒ–å˜é‡æ§åˆ¶çš„åŒºåŸŸã€‚ å¦‚æˆ‘ä»¬è¦å¼•ç”¨ä¸€å †é¡µé¢ç»„ä»¶ï¼Œå¯ä»¥ä½¿ç”¨import('./pages/'+ComponentName)ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°å¼•ç”¨çš„å°è£…ï¼ŒåŒæ—¶ä¹Ÿé¿å…æ‰“åŒ…å¤šä½™çš„å†…å®¹ã€‚ å¦å¤–ä¸€ä¸ªå½±å“åŠŸèƒ½å°è£…çš„ç‚¹ï¼Œæ˜¯import()ä¸­çš„ç›¸å¯¹è·¯å¾„ï¼Œæ˜¯importè¯­å¥æ‰€åœ¨æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ï¼Œæ‰€ä»¥è¿›ä¸€æ­¥å°è£… import æ—¶ä¼šå‡ºç°ä¸€äº›éº»çƒ¦ã€‚ å› ä¸ºimportè¯­å¥ä¸­çš„è·¯å¾„ä¼šåœ¨ç¼–è¯‘åè¢«å¤„ç†æˆwebpackå‘½ä»¤æ‰§è¡Œç›®å½•çš„ç›¸å¯¹è·¯å¾„ã€‚ æ‰€ä»¥ï¼š æ—¢ç„¶ import ä¸èƒ½æï¼Œé‚£åªèƒ½å°è£…é import çš„éƒ¨åˆ†ï¼š 12345678const LazyLoad = (loader) =&gt; Loadable({ loader, loading: Loading, });const B = LazyLoad(() =&gt; import('./b.js'));const C = LazyLoad(() =&gt; import('./c.js')); å‚è€ƒæ–‡æ¡£ webpack è„‘é˜”ç–¼çš„ webpack æŒ‰éœ€åŠ è½½ webpack import() åŠ¨æ€åŠ è½½æ¨¡å—è¸©å‘","link":"/articles/2021/06/23/webpack-import/"},{"title":"å‰ç«¯é¡µé¢æ·»åŠ æ°´å°","text":"ä¸ºé˜²æ­¢ä¿¡æ¯æ³„éœ²ï¼Œç»™ç½‘é¡µåŠ æ°´å°æ˜¯ä¸€ç§å¸¸è§çš„æ–¹æ³•ã€‚æœ¬ç¯‡æ–‡ç« å°†ä»‹ç»ä¸€ç§æ·»åŠ æ˜æ°´å°çš„æ–¹æ³•ã€‚ ç»™é¡µé¢æŒ‡å®šæ ‡ç­¾æ·»åŠ æ°´å°èƒŒæ™¯ï¼ŒåŸç†æ˜¯ canvas ç”»å›¾ï¼Œcanvas.toDataURL()è½¬æˆ base64 æ•°æ®ï¼ŒåŠ¨æ€æ·»åŠ åˆ°æ ‡ç­¾çš„ backgroundã€‚ ç‰¹ç‚¹ï¼š ä¸å½±å“ç°æœ‰ä»£ç  å¯ä»¥ä»»æ„ç»™ç½‘é¡µçš„ä¸åŒéƒ¨åˆ†æ·»åŠ æ°´å° çº¯å‰ç«¯ js å®ç° å¯ç®€å•é˜²æ­¢ç”¨æˆ·é€šè¿‡æµè§ˆå™¨å¼€å‘è€…å·¥å…·éšè—æ°´å° ç”Ÿæˆæ°´å°ç”Ÿæˆæ°´å°å•ä¸ªå›¾ç‰‡æ°´å°çš„ç‰¹ç‚¹æ˜¯ï¼ŒåŒ…å«ä¸€æ®µæ ‡è¯†ä¿¡æ¯ï¼ŒåŒæ—¶éœ€è¦è¦†ç›–è¶³å¤Ÿçš„åŒºåŸŸï¼Œå¾ˆè‡ªç„¶æƒ³åˆ°å¯ä»¥ç”¨ backgroundï¼ŒæŒ‡å®šimageï¼Œå¹¶è®©å®ƒåœ¨x,y 2 ä¸ªæ–¹å‘ä¸Šé‡å¤å±•ç¤ºã€‚ ç”¨canvasæŠŠä¿¡æ¯ç”»æˆå›¾ä¹‹åï¼Œè°ƒç”¨toDataURL()æ–¹æ³•å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ª urlï¼Œè¯¥ url å®é™…åŒ…å«äº† Base64 è¿‡çš„å›¾åƒä¿¡æ¯ï¼Œå¯ä»¥ç›´æ¥ç”¨åœ¨backgroundä¸Š ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š 123456789101112131415161718192021// åˆ›å»ºæ°´å°èƒŒæ™¯å›¾ç‰‡function createImageUrl(options) { const canvas = document.createElement('canvas'); const text = options.text; canvas.width = options.width; canvas.height = options.height; const ctx = canvas.getContext('2d'); ctx.shadowOffsetX = 2; // Xè½´é˜´å½±è·ç¦»ï¼Œè´Ÿå€¼è¡¨ç¤ºå¾€ä¸Šï¼Œæ­£å€¼è¡¨ç¤ºå¾€ä¸‹ ctx.shadowOffsetY = 2; // Yè½´é˜´å½±è·ç¦»ï¼Œè´Ÿå€¼è¡¨ç¤ºå¾€å·¦ï¼Œæ­£å€¼è¡¨ç¤ºå¾€å³ ctx.shadowBlur = 2; // é˜´å½±çš„æ¨¡ç³Šç¨‹åº¦ // ctx.shadowColor = 'rgba(0, 0, 0, 0.5)'; //é˜´å½±é¢œè‰² ctx.font = options.font; ctx.fillStyle = options.fontColor; ctx.rotate(options.rotateDegree); ctx.translate(options.translateX, options.translateY); ctx.textAlign = 'left'; // åœ¨ (x, y)ä½ç½®å¡«å……å®ä½“æ–‡æœ¬ ctx.fillText(text, 35, 32); return canvas.toDataURL('image/png');} è®¾ç½®èƒŒæ™¯å°†ä¸Šé¢å¾—åˆ°çš„å›¾ç‰‡æ”¾åœ¨æŸä¸ªdivçš„backgroundä¸Šï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼š position: fixed: è¿™æ ·å¯ä»¥ä¿è¯ä¸ç®¡å†…å®¹å¦‚ä½•æ»šåŠ¨ï¼Œæ°´å°éƒ½èƒ½æ˜¾ç¤ºï¼› pointer-events: none: é˜»æ­¢æ°´å°å½±å“é¡µé¢å†…å®¹ åŠ¨æ€è®¡ç®—å‡ºæ°´å°çš„ä½ç½® ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930// å°†èƒŒæ™¯å¡«å……è‡³æŒ‡å®šæ°´å°ä½ç½®å¤„function createContainer(options, forceCreate) { const oldDiv = document.getElementById(options.id); if (!forceCreate &amp;&amp; oldDiv) return container; const url = createImageUrl(options); const div = oldDiv || document.createElement('div'); div.id = options.id; // æ°´å°å®¹å™¨çš„çˆ¶å…ƒç´ ï¼Œé»˜è®¤document.body let parentEl = options.preventTamper ? document.body : options.parentEl || document.body; if (typeof parentEl === 'string') { if (parentEl.startsWith('#')) parentEl = parentEl.substring(1); parentEl = document.getElementById(parentEl); } // è¿”å›å…ƒç´ çš„å¤§å°åŠå…¶ç›¸å¯¹äºè§†å£çš„ä½ç½®ã€‚ const rect = parentEl.getBoundingClientRect(); // é»˜è®¤ï¼šæŒ‰ç…§çˆ¶å…ƒç´ çš„åç§»ä½ç½® options.style.left = (options.left || rect.left) + 'px'; options.style.top = (options.top || rect.top) + 'px'; div.style.cssText = getStyleText(options); div.setAttribute('class', ''); div.style.background = 'url(' + url + ') repeat top left'; !oldDiv &amp;&amp; parentEl.appendChild(div); return div;} é˜²æ­¢å®¢æˆ·ç«¯ç¯¡æ”¹æˆªæ­¢åˆ°ä¸Šé¢ä¸ºæ­¢ï¼Œæ°´å°å¯ä»¥æ­£å¸¸æ˜¾ç¤ºäº†ï¼Œä½†è¿™æ ·åªèƒ½é˜²æ­¢å°ç™½ç”¨æˆ·ï¼Œç¨å¾®æœ‰ç‚¹æŠ€æœ¯çš„ç”¨æˆ·å°±çŸ¥é“ï¼Œå¯ä»¥ç”¨æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·æ¥åŠ¨æ€æ›´æ”¹domï¼Œæ¯”å¦‚display: noneï¼›å°±å¯ä»¥éšè—æ°´å°ï¼›æ‰€ä»¥è¿˜éœ€è¦åŠ ä¸€ç‚¹æœºåˆ¶é˜²æ­¢ç”¨æˆ·è¿›è¡Œç¯¡æ”¹ï¼›å½“ç„¶ï¼Œä»æœ¬è´¨ä¸Šæ¥è¯´æ˜¯æ²¡æœ‰ç»å¯¹çš„åŠæ³•åœ¨å®¢æˆ·ç«¯å»é˜²ç”¨æˆ·çš„ï¼Œæ‰€ä»¥è¿™é‡Œåªæ˜¯å¢åŠ äº†ç”¨æˆ·ç¯¡æ”¹çš„éš¾åº¦ã€‚ 1. ä¸é—´æ–­æ¯”è¾ƒ div çš„å€¼ç›‘æµ‹æ°´å° div çš„å˜åŒ–ï¼Œä¸€æ—¦å‘ç”Ÿå˜åŒ–ï¼Œåˆ™é‡æ–°ç”Ÿæˆæ°´å°ã€‚ è®°å½•åˆšç”Ÿæˆçš„ div çš„innerHTMLï¼Œæ¯éš”å‡ ç§’å°±å–ä¸€æ¬¡æ–°çš„å€¼ï¼Œé€šè¿‡æ¯”è¾ƒä¸¤è€…çš„md5ï¼Œå¦‚æœå‘ç”Ÿå˜åŒ–åˆ™é‡æ–°ç”Ÿæˆã€‚ä½†è¿™ä¸ªæ–¹æ³•æœ‰å‡ ä¸ªç¼ºç‚¹ï¼š æ»åæ€§ï¼Œä¿®æ”¹ä¸èƒ½é©¬ä¸Šè¢«ç›‘æµ‹åï¼›è€Œå¦‚æœé—´éš”æ—¶é—´è¿‡çŸ­ï¼Œåˆ™å¯èƒ½å½±å“æ€§èƒ½ï¼› ç”Ÿæˆmd5ä¹Ÿæœ‰ä¸å°çš„å¼€é”€ï¼Œç‰¹åˆ«æ˜¯æ‰“å¼€å¤šä¸ªé¡µé¢çš„æ—¶å€™ï¼› æ‰€ä»¥è¿™ç§æ–¹æ³•ä¸å¯è¡Œã€‚ 2. MutationObserverä½¿ç”¨æµè§ˆå™¨æä¾›çš„ä¸€ç§ç›‘æµ‹å…ƒç´ å˜åŒ–çš„ APIï¼šMutationObserver ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344// ç›‘å¬å…ƒç´ function observe(options, observeBody) { observeWatermark(options); observeBody &amp;&amp; observeBodyElement(options);}// ç›‘å¬æ°´å°function observeWatermark(options) { const target = container; const childCallBack = () =&gt; { // å…³é—­ä¸Šä¸ªè§‚å¯Ÿï¼Œé‡æ–°åˆ›å»ºå…ƒç´ ï¼Œé‡æ–°è§‚å¯Ÿ observer.disconnect(); container = createContainer(options, true); observer.observe(target, observeConfig); }; observer = new MutationObserver(childCallBack); // å¼€å§‹è§‚å¯Ÿç›®æ ‡èŠ‚ç‚¹ observer.observe(target, observeConfig);}// ç›‘å¬bodyå…ƒç´ ï¼Œå¦‚æœæ°´å°elementè¢«åˆ é™¤ï¼Œåˆ™é‡æ–°åˆ›å»º&amp;&amp;é‡æ–°ç›‘å¬function observeBodyElement(options) { const callback = (mutations) =&gt; { mutations.forEach((m) =&gt; { if (m.type === 'childList' &amp;&amp; m.removedNodes.length &gt; 0) { let watermarkNodeRemoved = false; for (const n of m.removedNodes) { if (n.id === options.id) { watermarkNodeRemoved = true; } } if (watermarkNodeRemoved) { container = createContainer(options); observe(options, false); } } }); }; const pObserver = new MutationObserver(callback); pObserver.observe(document.body, { childList: true, subtree: true });} MutationObserver åªèƒ½ç›‘æµ‹åˆ°è¯¸å¦‚å±æ€§æ”¹å˜ã€å¢åˆ å­ç»“ç‚¹ç­‰ï¼Œå¯¹äºè‡ªå·±æœ¬èº«è¢«åˆ é™¤ï¼Œæ˜¯æ²¡æœ‰åŠæ³•çš„ï¼›è¿™é‡Œé€šè¿‡åŒæ—¶ç›‘æµ‹çˆ¶ç»“ç‚¹ï¼Œçœ‹ div æ˜¯å¦è¢«åˆ é™¤æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚ æœ€ç»ˆä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156// é»˜è®¤é…ç½®const defaultOption = { id: 'watermark-id', // parentEl: '', // é˜²æ­¢åˆ«äººå¤–ç•Œç ´å preventTamper: false, // æ°´å°å•ä¸ªå›¾ç‰‡é…ç½® width: 110, height: 80, text: 'watermark', font: '20px Times New Roman', fontColor: 'rgba(204,204,204,0.45)', // é¡ºæ—¶é’ˆæ—‹è½¬çš„å¼§åº¦ rotateDegree: (30 * Math.PI) / 180, // å¹³ç§»å˜æ¢ translateX: 0, translateY: 0, // æ°´å°å®¹å™¨çš„æ ·å¼ style: { 'pointer-events': 'none', width: '100%', height: '100%', top: 0, left: 0, position: 'fixed', 'z-index': 1000, },};// è§‚å¯Ÿé…ç½®const observeConfig = { attributes: true, childList: true, characterData: true, subtree: true,};let container;let observer;// åˆ›å»ºæ°´å°èƒŒæ™¯å›¾ç‰‡function createImageUrl(options) { const canvas = document.createElement('canvas'); const text = options.text; canvas.width = options.width; canvas.height = options.height; const ctx = canvas.getContext('2d'); ctx.shadowOffsetX = 2; // Xè½´é˜´å½±è·ç¦»ï¼Œè´Ÿå€¼è¡¨ç¤ºå¾€ä¸Šï¼Œæ­£å€¼è¡¨ç¤ºå¾€ä¸‹ ctx.shadowOffsetY = 2; // Yè½´é˜´å½±è·ç¦»ï¼Œè´Ÿå€¼è¡¨ç¤ºå¾€å·¦ï¼Œæ­£å€¼è¡¨ç¤ºå¾€å³ ctx.shadowBlur = 2; // é˜´å½±çš„æ¨¡ç³Šç¨‹åº¦ // ctx.shadowColor = 'rgba(0, 0, 0, 0.5)'; //é˜´å½±é¢œè‰² ctx.font = options.font; ctx.fillStyle = options.fontColor; ctx.rotate(options.rotateDegree); ctx.translate(options.translateX, options.translateY); ctx.textAlign = 'left'; // åœ¨ (x, y)ä½ç½®å¡«å……å®ä½“æ–‡æœ¬ ctx.fillText(text, 35, 32); return canvas.toDataURL('image/png');}// å°†èƒŒæ™¯å¡«å……è‡³æŒ‡å®šæ°´å°ä½ç½®å¤„function createContainer(options, forceCreate) { const oldDiv = document.getElementById(options.id); if (!forceCreate &amp;&amp; oldDiv) return container; const url = createImageUrl(options); const div = oldDiv || document.createElement('div'); div.id = options.id; // æ°´å°å®¹å™¨çš„çˆ¶å…ƒç´ ï¼Œé»˜è®¤document.body let parentEl = options.preventTamper ? document.body : options.parentEl || document.body; if (typeof parentEl === 'string') { if (parentEl.startsWith('#')) parentEl = parentEl.substring(1); parentEl = document.getElementById(parentEl); } // è¿”å›å…ƒç´ çš„å¤§å°åŠå…¶ç›¸å¯¹äºè§†å£çš„ä½ç½®ã€‚ const rect = parentEl.getBoundingClientRect(); // é»˜è®¤ï¼šæŒ‰ç…§çˆ¶å…ƒç´ çš„åç§»ä½ç½® options.style.left = (options.left || rect.left) + 'px'; options.style.top = (options.top || rect.top) + 'px'; div.style.cssText = getStyleText(options); div.setAttribute('class', ''); div.style.background = 'url(' + url + ') repeat top left'; !oldDiv &amp;&amp; parentEl.appendChild(div); return div;}// è·å–é…ç½®ä¸­çš„stylefunction getStyleText(options) { let ret = ''; const style = options.style; Object.keys(style).forEach((k) =&gt; { ret += k + ': ' + style[k] + ';'; }); return ret;}// ç›‘å¬å…ƒç´ function observe(options, observeBody) { observeWatermark(options); observeBody &amp;&amp; observeBodyElement(options);}// ç›‘å¬æ°´å°function observeWatermark(options) { const target = container; const childCallBack = () =&gt; { // å…³é—­ä¸Šä¸ªè§‚å¯Ÿï¼Œé‡æ–°åˆ›å»ºå…ƒç´ ï¼Œé‡æ–°è§‚å¯Ÿ observer.disconnect(); container = createContainer(options, true); observer.observe(target, observeConfig); }; observer = new MutationObserver(childCallBack); // å¼€å§‹è§‚å¯Ÿç›®æ ‡èŠ‚ç‚¹ observer.observe(target, observeConfig);}// ç›‘å¬bodyå…ƒç´ ï¼Œå¦‚æœæ°´å°elementè¢«åˆ é™¤ï¼Œåˆ™é‡æ–°åˆ›å»º&amp;&amp;é‡æ–°ç›‘å¬function observeBodyElement(options) { const callback = (mutations) =&gt; { mutations.forEach((m) =&gt; { if (m.type === 'childList' &amp;&amp; m.removedNodes.length &gt; 0) { let watermarkNodeRemoved = false; for (const n of m.removedNodes) { if (n.id === options.id) { watermarkNodeRemoved = true; } } if (watermarkNodeRemoved) { container = createContainer(options); observe(options, false); } } }); }; const pObserver = new MutationObserver(callback); pObserver.observe(document.body, { childList: true, subtree: true });}// å…¥å£å‡½æ•°function init(options) { options = !options ? defaultOption : { ...defaultOption, ...options }; container = createContainer(options); options.preventTamper &amp;&amp; observe(options, true);}init({ preventTamper: true }); æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š å‚è€ƒé“¾æ¥ å‰ç«¯é¡µé¢åŠ¨æ€æ·»åŠ æ°´å° ç»™ç½‘é¡µåŠ æ°´å° Canvas API CanvasRenderingContext2D MutationObserver","link":"/articles/2021/07/09/watermark/"},{"title":"hexo new ç”Ÿæˆæ–°çš„æ–‡ç« ","text":"ä»‹ç»å…³äºå¦‚ä½•æ–°å»ºåšå®¢ï¼Œå®˜ç½‘å·²ç»æœ‰äº†æ˜ç¡®çš„ä»‹ç»ï¼š ä½ å¯ä»¥æ‰§è¡Œä¸‹åˆ—å‘½ä»¤æ¥åˆ›å»ºä¸€ç¯‡æ–°æ–‡ç« æˆ–è€…æ–°çš„é¡µé¢ã€‚ å‘½ä»¤è¡Œ1$ hexo new [layout] &lt;title&gt; æ‚¨å¯ä»¥åœ¨å‘½ä»¤ä¸­æŒ‡å®šæ–‡ç« çš„å¸ƒå±€ï¼ˆlayoutï¼‰ï¼Œé»˜è®¤ä¸º postï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ _config.yml ä¸­çš„ default_layout å‚æ•°æ¥æŒ‡å®šé»˜è®¤å¸ƒå±€ã€‚ è¿™å¥è¯æœ‰å‡ ä¸ªåœ°æ–¹éœ€è¦è§£é‡Šä¸€ä¸‹ï¼š layoutæ˜¯ä»€ä¹ˆï¼Ÿlayoutçš„æ„æ€æ˜¯å¸ƒå±€ï¼Œhexoåšå®¢å®‰è£…æˆåŠŸåï¼Œåœ¨é»˜è®¤çš„æ ¹éƒ¨å½•ä¸‹ï¼Œæœ‰ä¸€ä¸ªscaffoldsæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä¸ª 3 ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯draft.md,page.md,post.mdã€‚è¿™ 3 ä¸ªæ–‡ä»¶å°±æ˜¯é»˜è®¤çš„ layout ã€‚è¿™ä¸‰ä¸ªå¸ƒå±€åˆ†åˆ«ä¼šæœ‰ä»€ä¹ˆæ ·çš„ä½œç”¨å’Œæ•ˆæœï¼Œæˆ‘ä»¬ä¼šåœ¨åé¢çš„å†…å®¹ä¸­è¿›è¡Œè¯¦ç»†è¯´æ˜ã€‚ å¦‚æœä¸æä¾› layout çš„è¯ï¼Œä¹Ÿå¯ä»¥ç”Ÿæˆåšå®¢ï¼Œä¸è¿‡é»˜è®¤çš„ layout æ˜¯åœ¨ _config.yml ä¸­çš„é…ç½®ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¦‚æœæ²¡æœ‰æ›´æ”¹è¿‡ä»»ä½• _config.yml ä¸­çš„å†…å®¹çš„è¯ï¼Œé»˜è®¤çš„ layout æ˜¯ post å¦‚æœ title åŒ…å«ç©ºæ ¼çš„è¯ï¼Œ title éœ€è¦ç”¨å¼•å·åŒ…è£¹èµ·æ¥ã€‚ä¹Ÿå°±æ˜¯æ„å‘³ç€ï¼Œå¦‚æœ title æ²¡æœ‰ç©ºæ ¼çš„è¯ï¼Œå¯ä»¥ä¸ä½¿ç”¨å¼•å·ã€‚ å‡è®¾æˆ‘ä»¬æƒ³è¦å†™ä¸€ç¯‡åä¸º myBlog çš„åšå®¢ï¼Œå¦‚æœè¾“å…¥å®Œæ•´çš„å‘½ä»¤çš„è¯ï¼Œåº”è¯¥æ˜¯ï¼š hexo new post &quot;myBlog&quot;ã€‚ä½†æ˜¯å› ä¸ºé»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„ layout å°±æ˜¯postï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°† post çœç•¥æ‰ï¼Œå†™ä¸º hexo new &quot;myBlog&quot; ã€‚åˆå› ä¸ºæˆ‘ä»¬çš„åšå®¢åå­—ä¸­æ²¡æœ‰ç©ºæ ¼ï¼Œå› æ­¤å¯ä»¥å°†çœç•¥å·å»æ‰ï¼Œå†™ä¸ºhexo new myBlogã€‚è¿™ä¸ªå‘½ä»¤å·²ç»æ˜¯ç®€åŒ–åˆ°ä¸èƒ½å†ç®€åŒ–çš„å‘½ä»¤äº†ã€‚è€Œå¦‚æœæˆ‘ä»¬çš„åšå®¢åç§°æ˜¯ my first blogï¼Œå› ä¸ºåç§°åŒ…å«äº†ç©ºæ ¼ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„å‘½ä»¤å°±å¿…é¡»å°†åšå®¢åç§°åŒ…è£¹èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯è¯´æœ€ç®€åŒ–çš„å‘½ä»¤å°±æ˜¯ hexo new &quot;my first blog&quot; ã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šç½‘ä¸Šçš„æ”»ç•¥è¯´æ–°ç”Ÿæˆä¸€ç¯‡æ–‡ç« æ—¶ç”¨hexo new &lt;title&gt;çš„å‘½ä»¤çš„åŸå› ï¼Œè¿™ä¸ªå‘½ä»¤æ²¡é”™ï¼Œä½†æ˜¯åªæ˜¯å¤§éƒ¨åˆ†çš„æƒ…å†µï¼Œè€Œä¸æ˜¯å®Œæ•´çš„å‘½ä»¤ã€‚ å¸ƒå±€ï¼ˆLayoutï¼‰Hexo æœ‰ä¸‰ç§é»˜è®¤å¸ƒå±€ï¼špostã€page å’Œ draftã€‚åœ¨åˆ›å»ºè¿™ä¸‰ç§ä¸åŒç±»å‹çš„æ–‡ä»¶æ—¶ï¼Œå®ƒä»¬å°†ä¼šè¢«ä¿å­˜åˆ°ä¸åŒçš„è·¯å¾„ï¼›è€Œæ‚¨è‡ªå®šä¹‰çš„å…¶ä»–å¸ƒå±€å’Œ post ç›¸åŒï¼Œéƒ½å°†å‚¨å­˜åˆ° source/_posts æ–‡ä»¶å¤¹ã€‚ å¸ƒå±€ è·¯å¾„ post source/_posts page source draft source/_drafts layout ä¸º post çš„æƒ…å†µä»¥ä¸Šé¢çš„æƒ…å†µä¸ºä¾‹ï¼Œæˆ‘ä»¬çš„å‘½ä»¤æ˜¯ hexo new post myBlog ï¼Œæ‰§è¡Œè¿™ä¸ªå‘½ä»¤ä¹‹åï¼Œä½ ä¼šå‘ç°å‘½ä»¤è¡Œä¼šæœ‰å¦‚ä¸‹æç¤ºï¼š å®ƒå‘Šè¯‰ä½ ï¼Œåœ¨æ ¹ç›®å½•çš„ä¸‹çš„ source æ–‡ä»¶å¤¹ä¸­åˆ›å»ºäº†ä¸€ä¸ª _post æ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”åœ¨å†…ç”Ÿæˆäº†ä¸€ä¸ªmyBlog.mdçš„æ–‡ä»¶ã€‚æ‰“å¼€å¯¹åº”çš„æ–‡ä»¶å¤¹ï¼Œä½ ä¼šå‘ç°myBlog.mdçš„æ–‡ä»¶ï¼Œè¿™å°±æ˜¯ä½ æ–°ç”Ÿæˆçš„æ–‡ä»¶ã€‚ä½ å¯ä»¥é€šè¿‡æŸç§æ”¯æŒmarkdownçš„ç¼–è¾‘å™¨æ‰“å¼€è¿™ä¸ªæ–‡ä»¶ï¼Œç„¶åä½¿ç”¨markdownæ ¼å¼çš„æ–¹æ³•ä¹¦å†™è¿™ç¯‡åšå®¢ã€‚ layout ä¸º draft çš„æƒ…å†µHexo çš„ä¸€ç§ç‰¹æ®Šå¸ƒå±€ï¼šdraftï¼Œè¿™ç§å¸ƒå±€åœ¨å»ºç«‹æ—¶ä¼šè¢«ä¿å­˜åˆ° source/_drafts æ–‡ä»¶å¤¹ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨hexo new draft myDraftBlogï¼Œç”ŸæˆmyDrafaBlog.mdæ–‡ä»¶ï¼Œè¿™ä¸ª md æ–‡ä»¶æ˜¯è‰ç¨¿çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ç¯‡æ–‡ç« ä»…ä»…æ˜¯ä½œä¸ºä½ çš„è‰ç¨¿è€Œä¸æ˜¯æ­£å¼ç¨¿ï¼Œæ‰€ä»¥ä¸ä¼šå‘è¡¨åœ¨åšå®¢ä¸»é¡µä¸Šã€‚è‰ç¨¿å°±æ˜¯éœ€è¦ä½ ä¸æ–­å®Œå–„çš„æ–‡ç« ï¼ŒçŸ¥é“æœ‰ä¸€å¤©ä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯ä»¥æ­£å¼å‘è¡¨äº†ï¼Œä½ å¯é€šè¿‡ publish å‘½ä»¤å°†è‰ç¨¿ç§»åŠ¨åˆ° source/_posts æ–‡ä»¶å¤¹ï¼Œè¯¥å‘½ä»¤çš„ä½¿ç”¨æ–¹å¼ä¸ new ååˆ†ç±»ä¼¼ï¼Œæ‚¨ä¹Ÿå¯åœ¨å‘½ä»¤ä¸­æŒ‡å®šlayout æ¥æŒ‡å®šå¸ƒå±€ã€‚ publish1$ hexo publish [layout] &lt;title&gt; ï¼ˆè‰ç¨¿é»˜è®¤ä¸ä¼šæ˜¾ç¤ºåœ¨é¡µé¢ä¸­ï¼Œæ‚¨å¯åœ¨æ‰§è¡Œæ—¶åŠ ä¸Š â€“draft å‚æ•°ï¼Œæˆ–æ˜¯æŠŠ render_drafts å‚æ•°è®¾ä¸º true æ¥é¢„è§ˆè‰ç¨¿ã€‚ï¼‰ æ‰§è¡Œhexo publish draft myDraftBlogï¼Œä½ å°±ä¼šå‘ç°ï¼Œsource/_draftæ–‡ä»¶å¤¹ä¸‹çš„myDraftBlog.mdæ–‡ä»¶æ¶ˆå¤±äº†ï¼Œè€Œåœ¨_postæ–‡ä»¶å¤¹ä¸‹ä½ ä¼šæ‰¾åˆ°myDraftBlog.mdæ–‡ä»¶ã€‚ layout ä¸º page çš„æƒ…å†µæˆ‘ä»¬å¯ä»¥å°è¯•ä¸€ä¸‹ä¸‹é¢è¿™ä¸ªå‘½ä»¤hexo new page &quot;about&quot;ï¼Œè¿™ä¸ªæ—¶å€™ä½ æ‰“å¼€sourceæ–‡ä»¶å¤¹ä½ ä¼šå‘ç°ä¸€ä¸ªaboutçš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢ä¼šæœ‰ä¸€ä¸ªindex.mdçš„æ–‡ä»¶ã€‚æ‰“å¼€http://localhost:4000/aboutï¼Œè¿™ä¸ªæ—¶å€™ä½ å°±ä¼šå‘ç°ä½ åˆšæ‰ç¼–è¾‘çš„ index.md çš„å†…å®¹ä¼šå‡ºç°åœ¨è¿™é‡Œã€‚ layout ä¸º pageçš„æ—¶å€™ï¼Œå…¶å®å°±æ˜¯ç›¸å½“äºç”Ÿæˆä¸€ä¸ªæ–°çš„è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯´çš„urlçš„pathï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ç§°ä½œè·¯ç”±ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæˆ‘ä»¬çš„åšå®¢å†è¿›è¡Œç»†åˆ†å„ä¸ªå†…å®¹ç‰ˆå—ï¼Œæ›´æœ‰æ¡ç†çš„ç»„ç»‡æˆ‘ä»¬çš„åšå®¢ã€‚ Front-matterFront-matter æ˜¯æ–‡ä»¶æœ€ä¸Šæ–¹ä»¥ --- åˆ†éš”çš„åŒºåŸŸï¼Œç”¨äºæŒ‡å®šä¸ªåˆ«æ–‡ä»¶çš„å˜é‡ï¼Œä¸¾ä¾‹æ¥è¯´ï¼š eg1234---title: Hello Worlddate: 2013/7/13 20:46:25--- ä»¥ä¸‹æ˜¯é¢„å…ˆå®šä¹‰çš„å‚æ•°ï¼Œæ‚¨å¯åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨è¿™äº›å‚æ•°å€¼å¹¶åŠ ä»¥åˆ©ç”¨ã€‚ å‚æ•° æè¿° é»˜è®¤å€¼ layout å¸ƒå±€ config.default_layout title æ ‡é¢˜ æ–‡ç« çš„æ–‡ä»¶å date å»ºç«‹æ—¥æœŸ æ–‡ä»¶å»ºç«‹æ—¥æœŸ updated æ›´æ–°æ—¥æœŸ æ–‡ä»¶æ›´æ–°æ—¥æœŸ comments å¼€å¯æ–‡ç« çš„è¯„è®ºåŠŸèƒ½ true tags æ ‡ç­¾ ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰ categories åˆ†ç±» ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰ permalink è¦†ç›–æ–‡ç« ç½‘å€ åˆ†ç±»å’Œæ ‡ç­¾åªæœ‰æ–‡ç« æ”¯æŒåˆ†ç±»å’Œæ ‡ç­¾ï¼Œæ‚¨å¯ä»¥åœ¨ Front-matter ä¸­è®¾ç½®ã€‚åœ¨å…¶ä»–ç³»ç»Ÿä¸­ï¼Œåˆ†ç±»å’Œæ ‡ç­¾å¬èµ·æ¥å¾ˆæ¥è¿‘ï¼Œä½†æ˜¯åœ¨ Hexo ä¸­ä¸¤è€…æœ‰ç€æ˜æ˜¾çš„å·®åˆ«ï¼šåˆ†ç±»å…·æœ‰é¡ºåºæ€§å’Œå±‚æ¬¡æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ Foo, Bar ä¸ç­‰äº Bar, Fooï¼›è€Œæ ‡ç­¾æ²¡æœ‰é¡ºåºå’Œå±‚æ¬¡ã€‚ eg12345categories: - Diarytags: - PS3 - Games å¦‚æœä½ éœ€è¦ä¸ºæ–‡ç« æ·»åŠ å¤šä¸ªåˆ†ç±»ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹ list ä¸­çš„æ–¹æ³•ã€‚ åˆ†ç±»Eg1234categories: - [Diary, PlayStation] - [Diary, Games] - [Life] æ­¤æ—¶è¿™ç¯‡æ–‡ç« åŒæ—¶åŒ…æ‹¬ä¸‰ä¸ªåˆ†ç±»ï¼š PlayStation å’Œ Games åˆ†åˆ«éƒ½æ˜¯çˆ¶åˆ†ç±» Diary çš„å­åˆ†ç±»ï¼ŒåŒæ—¶ Life æ˜¯ä¸€ä¸ªæ²¡æœ‰å­åˆ†ç±»çš„åˆ†ç±»ã€‚ æ ‡ç­¾æ’ä»¶å…·ä½“å†…å®¹å‚è€ƒå®˜ç½‘ å‚è€ƒé“¾æ¥ hexo å†™ä½œ","link":"/articles/2021/01/05/writing-hexo/"},{"title":"å¾®ä¿¡å°ç¨‹åºäº‘å¼€å‘è·å–ç”¨æˆ·æ‰‹æœºå·","text":"åœ¨ç½‘ä¸Šæœç´¢æ—¶ï¼Œå¤§éƒ¨åˆ†å¾®ä¿¡å°ç¨‹åºäº‘å¼€å‘è·å–æ‰‹æœºå·ç çš„ä¾‹å­è¿˜éƒ½æ˜¯éœ€è¦é€šè¿‡codeè·å–session_keyæ¥è§£å¯†ä¿¡æ¯å–å¾—æ‰‹æœºå·ç ï¼Œæ€»æ„Ÿè§‰å“ªé‡Œä¸å¯¹ï¼Œå®˜ç½‘ä¸Šéƒ½å·²ç»è¯´è¿‡ï¼Œäº‘å¼€å‘æ˜¯è‡ªåŠ¨é‰´æƒçš„ï¼Œä¸åº”è¯¥è¿˜è¦è§£å¯†,å› æ­¤ä¸‹é¢ä»‹ç»å¦‚ä½•ä½¿ç”¨äº‘å¼€å‘è·å–ç”¨æˆ·ä¿¡æ¯æ•°æ®ã€‚ å…·ä½“æ­¥éª¤1ï¼Œé¡µé¢ cellphone.wxml cellphone.wxml1&lt;button open-type=&quot;getPhoneNumber&quot; bindgetphonenumber=&quot;getPhoneNumber&quot;&gt;&lt;/button&gt; 2ï¼Œæ–‡ä»¶cellphone.js cellphone.js12345678910111213141516Page({ getPhoneNumber(e) { console.log(e.detail); wx.cloud .callFunction({ name: 'openapi', data: { action: 'getcellphone', id: e.detail.cloudID, }, }) .then((res) =&gt; { console.log('res: ', res); }); },}); 3ï¼Œäº‘å‡½æ•° openapi çš„index.js index.js123456789101112131415161718192021// äº‘å‡½æ•°å…¥å£æ–‡ä»¶const cloud = require('wx-server-sdk');cloud.init();// äº‘å‡½æ•°å…¥å£å‡½æ•°exports.main = async (event, context) =&gt; { switch (event.action) { case 'getcellphone': { return getCellphone(event); } default: { return; } }};async function getCellphone(event) { const res = await cloud.getOpenData({ list: [event.id], }); return { res, event };} è°ƒç”¨åresæ•°æ®å¦‚ä¸‹ res123456789101112131415161718{ &quot;list&quot;: [ { &quot;cloudID&quot;: &quot;***********&quot;, &quot;data&quot;: { &quot;phoneNumber&quot;: &quot;****&quot;, // ç”¨æˆ·ç»‘å®šçš„æ‰‹æœºå·ï¼ˆå›½å¤–æ‰‹æœºå·ä¼šæœ‰åŒºå·ï¼‰ &quot;purePhoneNumber&quot;: &quot;******&quot;, // æ²¡æœ‰åŒºå·çš„æ‰‹æœºå· &quot;countryCode&quot;: &quot;86&quot;, // åŒºå· &quot;watermark&quot;: { &quot;timestamp&quot;: 1612332238, &quot;appid&quot;: &quot;********&quot; } } } ], &quot;errMsg&quot;: &quot;getOpenData:ok&quot;, &quot;errCode&quot;: 0} å…¨ç¨‹ä¸æ¶‰åŠcode,session_keyå’ŒåŠ å¯†è§£å¯†å•¥äº‹ï¼Œå³å¯è·å–åˆ°ç”¨æˆ·çš„æ‰‹æœºå·ã€‚ å‚è€ƒé“¾æ¥ å¾®ä¿¡å°ç¨‹åºäº‘å¼€å‘è·å–æ‰‹æœºå·ç  è·å–æ‰‹æœºå·| å¾®ä¿¡å¼€æ”¾æ–‡æ¡£ - å¾®ä¿¡å¼€æ”¾ç¤¾åŒº - è…¾è®¯ Cloud.getOpenData(list: string[]): Object","link":"/articles/2021/02/03/wx-get-cellphone/"},{"title":"ä»é›¶å®‰è£…å¿…å¤‡è½¯ä»¶","text":"ä»Šæ—¥æ‰“ç®—é‡æ–°ç»„è£…ç³»ç»Ÿï¼Œå› æ­¤éœ€è¦ä»é›¶å¼€å§‹å®‰è£…åœ¨ Mac ä¸Šçš„å¿…å¤‡çš„ä¸€äº›è½¯ä»¶ã€‚ Itermä»å®˜ç½‘ä¸‹è½½ iterm2 å‚è€ƒ learn-the-command-line-iterm-and-zsh è®¾å®šä¸»é¢˜ iTerm2 Solarized é…è‰²: https://github.com/altercation/solarized iTerm2 é…è‰²åˆé›†ç½‘ç«™: http://iterm2colorschemes.com/ iTerm2 é…è‰²åˆé›† GitHub åœ°å€ï¼šhttps://github.com/mbadolato/iTerm2-Color-Schemes/tree/master/schemes ç›®å‰ Solarized å·²é›†æˆè¿› Iterm2ï¼Œå¯ä¸å¿…ä¸‹è½½ã€‚ è®¾å®šå­—ä½“ Powerline å­—ä½“ä¸ºäº†ç»ˆç«¯ä¸‹èƒ½æ­£ç¡®çš„æ˜¾ç¤º fancy å­—ç¬¦ï¼Œéœ€è¦å®‰è£… powerline å­—ä½“ï¼Œè¿™æ ·ï¼Œè¿™äº› fancy å­—ç¬¦ä¸è‡³äºæ˜¾ç¤ºä¸ºä¹±ç ã€‚ GitHub ä¸Šå·²ç»æœ‰åˆ¶ä½œå¥½çš„ Powerline å­—ä½“ï¼Œå¯ä»¥ä¸‹è½½äº†ç›´æ¥å®‰è£…åˆ°ç³»ç»Ÿï¼š Powerline å­—ä½“ä¸‹è½½: https://github.com/powerline/fonts å®‰è£…å¥½ä¹‹åï¼Œå°±å¯ä»¥é€‰æ‹©ä¸€æ¬¾ä½ å–œæ¬¢çš„ Powerline å­—ä½“äº†ï¼šPreferences -&gt; Profiles -&gt; Text -&gt; Font -&gt; Change Font å¯¼å…¥é…ç½®æ–‡ä»¶é…ç½®æ–‡ä»¶ï¼šhttps://github.com/MrSeaWave/dotfiles/blob/main/iterm2.json Oh my zshhttps://ohmyz.sh/ 1$ sh -c &quot;$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot; é…ç½®å¯¼å…¥https://github.com/MrSeaWave/dotfiles/blob/main/zshrc æ›´å¤šä½¿ç”¨å‚è€ƒ oh-my-zshå…¥é—¨ Homebrewhttps://brew.sh/ 1/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot; å¦‚æœé‡åˆ° Warning: /opt/homebrew/bin is not in your PATH. æŠ¥é”™ï¼Œå‚è€ƒstackoverflow.comè¿›è¡Œè§£å†³ã€‚ å°†ä¸‹é¢ä¸€å¥å†™å…¥ ~/.zshrc or ~/.bashrc export PATH=/opt/homebrew/bin:$PATH Githttps://git-scm.com/downloads å¦‚ä½•å°†å‘½ä»¤è¡Œä¸­çš„ git æç¤ºè¯­è¨€æ”¹ä¸ºè‹±æ–‡https://blog.csdn.net/michael_wgy_/article/details/105858848 1$ vim ~/.zshrc æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š 1alias git='LANG=en_GB git' æ›´æ–°é…ç½®ï¼š 1$ source ~/.zshrc Nodehttps://nodejs.org/zh-cn/download/ nhttps://github.com/tj/n 1$ npm install -g n nrmhttps://github.com/Pana/nrm 1$ npm install -g nrm Pnpmhttps://www.pnpm.cn/installation 1$ npm install -g pnpm yarnhttps://yarnpkg.com/getting-started/install Node.js &gt;=16.10 Corepack is included by default with all Node.js installs, but is currently opt-in. To enable it, run the following command: 1corepack enable Node.js &lt;16.10 Corepack isnâ€™t included with Node.js in versions before the 16.10; to address that, run: 1npm i -g corepack live-serverhttps://www.npmjs.com/package/live-server 1$ npm install -g live-server gitlab ssh-keyssh-keyä½¿ç”¨ fighttps://fig.io/ xniphttps://xnipapp.com/ Pastehttps://pasteapp.io/ Alfredhttps://www.alfredapp.com/ Bardenterhttps://www.macbartender.com/ LICEcaphttps://www.cockos.com/licecap/ Upichttps://github.com/gee1k/uPic uPic å›¾åºŠé…ç½®æ•™ç¨‹ - Github Unarchiverhttps://theunarchiver.com/ Postmanhttps://www.postman.com/ Sourcetreehttps://www.sourcetreeapp.com/ æ›´å¤šå‚è€ƒ Mac ä¸Šçš„ APP æ¨è","link":"/articles/2022/06/28/begin-install/"},{"title":"ç”¨ Node ç¼–å†™è·¨å¹³å° spawn è¯­å¥","text":"æœ¬æ–‡å°†ä¼šè®²è¿°å¦‚ä½•è·¨å¹³å°æ¥ä½¿ç”¨spawnè¯­å¥å‘¢ï¼Ÿï¼ˆå¯ä»¥åˆ©ç”¨cross-spawn spawnå½“æˆ‘ä»¬æƒ³è¦åœ¨jsæ–‡ä»¶ä¸­æƒ³è¦è°ƒç”¨ç³»ç»Ÿä¸Šçš„å‘½ä»¤æ—¶ï¼Œå¯ä»¥åˆ©ç”¨ Node.js çš„å­è¿›ç¨‹ï¼ˆchild_processï¼‰æ¨¡å—ä¸‹çš„ spawn å‡½æ•°ï¼Œï¼ˆä¸execåŒºåˆ«å¯ä»¥æŸ¥çœ‹issueï¼Œæœ¬æ–‡ä¸ä½œä»‹ç»ï¼‰ï¼Œå¦‚åœ¨ Linux, macOS ç­‰ç³»ç»Ÿä¸Šï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œï¼š 12345const spawn = require('child_process').spawn;spawn('npm', { stdio: 'inherit',}); æ¥è°ƒç”¨ npm å‘½ä»¤ã€‚ ç„¶è€Œï¼ŒåŒæ ·çš„è¯­å¥åœ¨ Windows ä¸Šæ‰§è¡Œåˆ™ä¼šæŠ¥é”™ï¼š 123456789Error: spawn npm ENOENT at exports._errnoException (util.js:855:11) at Process.ChildProcess._handle.onexit (internal/child_process.js:178:32) at onErrorNT (internal/child_process.js:344:16) at nextTickCallbackWith2Args (node.js:455:9) at process._tickCallback (node.js:369:17) at Function.Module.runMain (module.js:432:11) at startup (node.js:141:18) at node.js:980:3 å› ä¸ºåœ¨ Windows ä¸Šï¼Œå½“æˆ‘ä»¬æ‰§è¡Œ npm æ—¶ï¼Œå®é™…æ‰§è¡Œçš„æ˜¯ npm.cmd æ‰¹å¤„ç†ï¼Œè€Œåœ¨ Windows ä¸Šï¼Œ.cmd, .bat æ‰¹å¤„ç†æ˜¯æ— æ³•è„±ç¦» cmd.exe è¿™ä¸€è§£é‡Šå™¨è€Œå•ç‹¬è¿è¡Œçš„ã€‚ å› æ­¤ï¼Œéœ€è¦æ˜¾å¼åœ°è°ƒç”¨ cmd 123spawn('cmd', ['/c', 'npm'], { stdio: 'inherit',}); æˆ–è€…ä½¿ç”¨åœ¨è°ƒç”¨ spawn å‡½æ•°æ—¶ï¼Œè®¾ç½® shell é€‰é¡¹ä¸º true ä»¥éšå¼åœ°è°ƒç”¨ cmd ï¼ˆè¯¥é€‰é¡¹æ·»åŠ è‡ª Node.js v6 ç‰ˆæœ¬ï¼‰ 1234spawn('npm', { stdio: 'inherit', shell: true,}); å¦å¤–ï¼Œè™½ç„¶åœ¨ Linux, macOS ç­‰ç³»ç»Ÿä¸Šä¸éœ€è¦è®¾ç½® shell é€‰é¡¹ï¼Œå‘½ä»¤ä¹Ÿèƒ½å¤Ÿæ­£å¸¸æ‰§è¡Œï¼›è®¾ç½® shell ä¸º true ä¹Ÿä¸ä¼šå¦¨ç¢å‘½ä»¤çš„æ‰§è¡Œï¼Œåªæ˜¯ä¼šé¢å¤–çš„äº§ç”Ÿä¸€ä¸ªæœ¬ä¸å¿…è¦çš„ shell è¿›ç¨‹ï¼Œå½±å“æ€§èƒ½ã€‚ å› æ­¤ï¼Œå¦‚æœæƒ³è¦ç¼–å†™è·¨å¹³å°çš„ spawn å‘½ä»¤ï¼Œè€Œåˆä¸æƒ³å¢åŠ é¢å¤–çš„å¼€é”€çš„è¯ï¼Œå¯ä»¥åŠ ä¸ªåˆ¤æ–­ï¼š 12345678const process = require('process');const { spawn } = require('child_process');spawn('npm', { stdio: 'inherit', // ä»…åœ¨å½“å‰è¿è¡Œç¯å¢ƒä¸º Windows æ—¶ï¼Œæ‰ä½¿ç”¨ shell shell: process.platform === 'win32',}); cross-spawnåˆ©ç”¨ cross-spawn è½»æ¾ç¼–å†™è·¨å¹³å°å‘½ä»¤ï¼Œä½¿ç”¨è¯¥æ¨¡å—ï¼Œåœ¨è°ƒç”¨ spawn å‡½æ•°æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨æ ¹æ®å½“å‰çš„è¿è¡Œå¹³å°ï¼Œæ¥å†³å®šæ˜¯å¦ç”Ÿæˆä¸€ä¸ª shell æ¥æ‰§è¡Œæ‰€ç»™çš„å‘½ä»¤ã€‚ å¦‚ï¼š 12345const spawn = require('cross-spawn');spawn('npm', { stdio: 'inherit',}); å‚è€ƒé“¾æ¥ child_process.spawn cross-spawn Node.js ç¼–å†™è·¨å¹³å° spawn è¯­å¥","link":"/articles/2022/01/08/cross-spawn/"},{"title":"ä½¿ç”¨ depcheck æ¸…ç† package.json ä¸­ç”¨ä¸åˆ°çš„ä¾èµ–","text":"èƒŒæ™¯éšç€æ—¶é—´çš„æ¨ç§»ï¼Œé¡¹ç›®ä¸­ package.json ä¸­çš„ä¾èµ–è¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œå®‰è£…ä¾èµ–çš„é€Ÿåº¦è¶Šæ¥è¶Šæ…¢ï¼Œå„ç§å¥‡å¥‡æ€ªæ€ªçš„åŒ…ï¼Œä¸ä¸€å®šéƒ½ä¼šç”¨åˆ°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä¸ºé¡¹ç›®å‡è´Ÿï¼Œä½¿ç”¨ depcheck æ£€æµ‹é¡¹ç›®ä¸­ä¸ç”¨çš„ä¾èµ–åŒ…ï¼Œç„¶åç§»é™¤å®ƒä»¬ã€‚ å®‰è£…1$ npm install -g depcheck éœ€è¦ node.js &gt;= 10 ä½¿ç”¨åœ¨é¡¹ç›®ç›®å½•ä¸‹ç›´æ¥æ‰§è¡Œå‘½ä»¤ depcheckï¼Œæˆ–è€… depcheck &lt;ä½ çš„é¡¹ç›®ç›®å½•&gt; ç„¶åä¼šå‡ºæ¥è¿™æ ·çš„ç»“æœï¼š 1234567$&gt; depcheck /path/to/my/projectUnused dependencies* underscoreUnused devDependencies* jasmineMissing dependencies* lodash Unused è¡¨ç¤ºæ²¡æœ‰ä½¿ç”¨çš„ä¾èµ–åŒ…ï¼ŒMissing è¡¨ç¤ºä½¿ç”¨åˆ°äº†ä½†æ˜¯æ²¡æœ‰åœ¨ json æ–‡ä»¶ä¸­å£°æ˜çš„ä¾èµ–åŒ… éœ€è¦æ³¨æ„ç‰¹æ®Šçš„åŒ…ã€‚å¦‚å®˜ç½‘æ‰€è¿°ï¼š ä¸è¿‡å¯ä»¥ä½¿ç”¨å‚æ•°è¿‡æ»¤æ‰ä¸æƒ³è¢«æ£€æµ‹çš„æ–‡ä»¶æˆ–è€…ä¸æƒ³æ£€æµ‹å‡ºæ¥çš„åŒ… å¸¸ç”¨çš„å‚æ•°ï¼š --skip-missing=[true | false]ï¼šé»˜è®¤ falseï¼Œè¡¨ç¤ºæ˜¯å¦æ£€æµ‹ Missing çš„ä¾èµ–åŒ… --ignore-bin-package=[true | false]ï¼šé»˜è®¤ falseï¼Œè¡¨ç¤ºæ˜¯å¦å¿½ç•¥åŒ…å« bin æ¡ç›®çš„åŒ… --jsonï¼šè¡¨ç¤ºæ‰€æœ‰åŒ…çš„æ£€æµ‹ç»“æœä»¥ json æ ¼å¼è¾“å‡ºï¼Œå¤§æ¦‚å°±æ˜¯ XX åŒ…åœ¨å“ªäº›æ–‡ä»¶ä½¿ç”¨äº†ï¼Œ{&quot;åŒ…å&quot;:[&quot;path1&quot;,&quot;path2&quot;]} --ignores=&quot;eslint,babel-*&quot;ï¼šè¡¨ç¤ºè¦å¿½ç•¥çš„åŒ…åç§°ï¼ˆé€—å·åˆ†éš”ï¼‰ï¼Œæ¯”å¦‚ depcheck --ignores=&quot;eslint,@babel/*,babel-*&quot; --ignore-pathï¼šè¡¨ç¤ºè¦å¿½ç•¥çš„æ–‡ä»¶çš„æ¨¡å¼çš„æ–‡ä»¶çš„è·¯å¾„ï¼Œæ¯”å¦‚ depcheck --ignore-path=.eslintignore --ignore-dirsï¼šå·²ç»å¼ƒç”¨ï¼Œä½¿ç”¨ --ignore-patterns æ›¿ä»£ï¼Œè¡¨ç¤ºè¦å¿½ç•¥çš„ç›®å½•åï¼Œé€—å·åˆ†éš”--ignore-dirs=dist,coverage --ignore-patternsï¼šè¡¨ç¤ºè¦å¿½ç•¥çš„ç”¨é€—å·åˆ†éš”çš„æ¨¡å¼æè¿°æ–‡ä»¶ï¼Œæ¯”å¦‚ depcheck --ignore-patterns=build/Release,dist,coverage,*.log --parsers, --detectors and --specialsï¼šé«˜çº§çš„è¯­æ³•ä½¿ç”¨å‚è€ƒå®˜æ–¹æ–‡æ¡£ --config=[filename]ï¼šå¤–éƒ¨é…ç½®æ–‡ä»¶ æ³¨æ„ï¼šä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ª .depcheckrc æ–‡ä»¶ï¼ˆyml/jsonæ ¼å¼ï¼‰ï¼Œç„¶åç›´æ¥é…ç½® 12ignores: ['eslint', 'babel-*', '@babel/*']skip-missing: true æ³¨ï¼šç»“æœä»…ä¾›å‚è€ƒï¼Œç§»é™¤ç›¸åº”ä¾èµ–ä¸€å®šè¦å°å¿ƒï¼ï¼ï¼ å‚è€ƒé“¾æ¥ depcheck ä½¿ç”¨ depcheck æ¸…ç† package.json ä¸­ç”¨ä¸åˆ°çš„å¥—ä»¶","link":"/articles/2022/02/10/depcheck/"},{"title":"å®šåˆ¶ Github ä¸»é¡µ","text":"Github ä½œä¸ºä¸€ä¸ªèµ„æºæ‰˜ç®¡å¹³å°ï¼Œæˆ‘ä»¬æœ‰æ²¡æœ‰æƒ³è¿‡åœ¨ä¸»é¡µé”¦ä¸Šæ·»èŠ±å¦ï¼Ÿ è¿™ä¸ï¼Œä½ å¯ä»¥é€šè¿‡ yourUsername/yourUsername æ¥åˆ¶ä½œä½ çš„åç‰‡ã€‚ å…ˆè·Ÿå¤§å®¶å±•ç¤ºä¸‹æˆ‘æœ€ç»ˆå®ç°çš„æ•ˆæœï¼Œåœ¨çº¿ä½“éªŒåœ°å€ï¼šGithub ä¸»é¡µã€‚ åˆ›å»ºä»“åº“ é¦–å…ˆï¼Œç™»å½•ä½ çš„Githubè´¦å·ï¼š ç™»å½•åï¼Œåˆ›å»ºä¸€ä¸ªå’Œä½ ç”¨æˆ·åç›¸åŒçš„ä»“åº“ï¼Œå¡«å†™ä»“åº“ä»‹ç»ã€è®¾ç½®å…¬å¼€æƒé™ã€æ·»åŠ  README.md æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤º: â€‹ æœ€åç‚¹å‡» Create repositoryæŒ‰é’®ï¼Œå³å¯å®Œæˆä»“åº“åˆ›å»ºã€‚ ç•Œé¢ç¾åŒ–æˆ‘ä»¬åˆ›å»ºå®Œä»“åº“åï¼Œè¿›å…¥è‡ªå·±çš„ä¸ªäººä¸»é¡µï¼Œå³ï¼šgithub.com/ä½ çš„ç”¨æˆ·åã€‚ æˆ‘ä»¬èƒ½çœ‹åˆ°çš„é¡µé¢å¦‚ä¸‹æ‰€ç¤ºï¼Œçº¢æ¡†éƒ¨åˆ†å°±æ˜¯æˆ‘ä»¬åˆšæ‰åˆ›å»ºä»“åº“çš„README.mdæ–‡ä»¶é‡Œçš„å†…å®¹ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦ä¿®æ”¹æˆ‘ä»¬åˆšæ‰åˆ›å»ºçš„ä»“åº“ä¸­çš„ README.md æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œæˆ‘ä»¬çš„ä¸»é¡µå†…å®¹å°±ä¼šè·Ÿç€æ›´æ–°ã€‚ èµ„æº awesome-github-profile-readmeï¼šé‡Œé¢æ”¶é›†äº†å¾ˆå¤šå…³äºä¸»é¡µçš„æ¨¡ç‰ˆï¼Œå¤§å®¶å¯ä»¥å‚è€ƒä¸‹åˆ«äººçš„è®¾è®¡æ€è·¯ï¼Œç¨å¾®ä¿®æ”¹ä¿®æ”¹å°±æ˜¯è‡ªå·±çš„äº†[æ—ºæŸ´] ä¸ªæ€§åŒ–è®¾è®¡å¾½ç« (Badge)ç½‘ç«™ï¼šhttps://shields.io/ ä¸ä»…æä¾›è€Œä¸”å¯ä»¥å®šåˆ¶å¾ˆå¤šæœ‰è¶£çš„å¾½ç«  åŠ¨æ€è®¿é—®é‡å¾½ç«  visitor-badge Moe-counter äºŒæ¬¡å…ƒå±•ç¤ºè®¿é—®é‡ é¡¹ç›®å±•ç¤ºå¡ç‰‡github-readme-stats åˆ©ç”¨ Github å®˜æ–¹æä¾›çš„ API æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ç”¨æˆ·è‡ªå·±çš„é¡¹ç›®æƒ…å†µã€‚ ç»Ÿè®¡ä»£ç æ—¶å¸¸åˆ©ç”¨ WakaTime å¯¹äº‹æƒ…çš„ç»Ÿè®¡åŠŸèƒ½ï¼Œå¹¶ç»‘å®šåˆ° Github æ¥å®ç°å±•ç¤ºã€‚å®˜ç½‘ï¼šWakaTime æ€»ç»“ä¸€ä¸‹ç®€è¦çš„æ­¥éª¤ æ³¨å†Œ wakatime è´¦å· åœ¨è‡ªå·±å¸¸ç”¨çš„ IDE ä¸Šä¸‹è½½ wakatime æ’ä»¶ï¼Œé…ç½®ä¸Šè‡ªå·±çš„ API key å°†è‡ªå·±çš„ API key å­˜åˆ°è‡ªå·± GitHub ä»“åº“çš„ secrets åœ¨ README æ–‡ä»¶ä¸ŠåŠ ä¸Š 12&lt;!--START_SECTION:waka--&gt;&lt;!--END_SECTION:waka--&gt; é…ç½® GitHub ä»“åº“çš„ Actionï¼Œè¿™æ ·å°±èƒ½æ¯å¤©è‡ªåŠ¨è¿è¡Œäº† Emojiemoji-cheat-sheet gitmoji Github å…³æ³¨æ´»è·ƒå›¾è¡¨ç”±github-readme-activity-graph æä¾›çš„ api å®ç°: è·å–æœ€æ–°åšå®¢æ–‡ç« blog-post-workflow æœ€åä¸Šè¿°åŠŸèƒ½å¯ä»¥åˆ©ç”¨ github-profile-readme-generatorï¼Œä½ ä¼šå–œæ¬¢ä¸Šå®ƒçš„~ å‚è€ƒé“¾æ¥ å®šåˆ¶ä½ çš„ GitHub ä¸»é¡µ æ‰“é€ ä½  GITHUB çš„åç‰‡ ç»™è‡ªå·±å¼„ä¸€ä¸ªé…·é…·çš„ Github ä¸»é¡µå§","link":"/articles/2022/01/27/github-profile-readme/"},{"title":"G2 å¤šå›¾å½¢å›¾ä¾‹é—®é¢˜","text":"è°¨ä»¥æ­¤æ–‡è®°å½•ä¸‹å¦‚ä½•åˆ©ç”¨ G2 åœ¨åŒä¸€ä¸ªåæ ‡ç³»å†…ç»˜åˆ¶å¤šå›¾æ—¶ä½¿ç”¨å›¾ä¾‹é—®é¢˜ã€‚å¦‚æ— ç‰¹æ®Šè¯´æ˜ï¼Œå½“å‰ G2 ç‰ˆæœ¬ä¸ºï¼š4.1.37 æ•°æ®å¦‚ä¸‹ï¼š 12345678910111213141516171819202122const data = [ { time: '9:00-10:00', value: 30, value2: 30, }, { time: '10:00-11:00', value: 90, value2: 20, }, { time: '11:00-12:00', value: 50, value2: 40, }, { time: '12:00-13:00', value: 30, value2: 50, },]; åˆ©ç”¨ä¸Šè¿°æ•°æ®ç»˜åˆ¶å‡ºï¼š åˆ©ç”¨ G2 Geometry çš„ color å±æ€§é…ç½® color é€šé“æ˜ å°„è§„åˆ™ã€‚field å‚ä¸é¢œè‰²æ˜ å°„çš„æ•°æ®å­—æ®µï¼Œå…·ä½“æŸ¥çœ‹å®˜ç½‘ é¦–å…ˆå°†æºæ•°æ®æ”¹ä¸ºå¦‚ä¸‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243const originData = [ { time: '9:00-10:00', value: 30, value2: 30, }, { time: '10:00-11:00', value: 90, value2: 20, }, { time: '11:00-12:00', value: 50, value2: 40, }, { time: '12:00-13:00', value: 30, value2: 50, },];const data1 = [];const data2 = [];originData.forEach((item) =&gt; { const { time, value, value2 } = item; data1.push({ time, value, type: 'é”€å”®é¢Custom' }); data2.push({ time, value2, type2: 'é”€å”®é¢Line' });});const data = [...data1, ...data2];// data [// { time: '9:00-10:00', value: 30, type: 'é”€å”®é¢Custom' },// { time: '10:00-11:00', value: 90, type: 'é”€å”®é¢Custom' },// { time: '11:00-12:00', value: 50, type: 'é”€å”®é¢Custom' },// { time: '12:00-13:00', value: 30, type: 'é”€å”®é¢Custom' },// { time: '9:00-10:00', value2: 30, type2: 'é”€å”®é¢Line' },// { time: '10:00-11:00', value2: 20, type2: 'é”€å”®é¢Line' },// { time: '11:00-12:00', value2: 40, type2: 'é”€å”®é¢Line' },// { time: '12:00-13:00', value2: 50, type2: 'é”€å”®é¢Line' }// ] å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687import { Chart } from '@antv/g2';const originData = [ { time: '9:00-10:00', value: 30, value2: 30, }, { time: '10:00-11:00', value: 90, value2: 20, }, { time: '11:00-12:00', value: 50, value2: 40, }, { time: '12:00-13:00', value: 30, value2: 50, },];const data1 = [];const data2 = [];originData.forEach((item) =&gt; { const { time, value, value2 } = item; data1.push({ time, value, type: 'é”€å”®é¢Custom' }); data2.push({ time, value2, type2: 'é”€å”®é¢Line' });});const data = [...data1, ...data2];const chart = new Chart({ container: 'container', autoFit: true, height: 500, padding: 'auto',});chart.data(data);chart.scale('value', { alias: 'é”€å”®é¢(ä¸‡)', nice: true,});chart.scale('value2', { alias: 'é”€å”®é¢(ä¸‡)', nice: true,});chart.axis('time', { tickLine: null,});chart.axis('value2', { // åæ ‡ç³»ç½‘æ ¼ä¸å±•ç¤º grid: null,});chart.tooltip({ showMarkers: false,});// æœ‰å›¾ä¾‹æ˜¯å› ä¸ºæŒ‰ç…§typeæ¥ç”»å›¾ï¼Œä¸ºäº†è®©å›¾ä¾‹åœ¨åŒä¸€æ°´å¹³çº¿ä¸Šchart.legend('type', { position: 'bottom', maxWidth: 100, offsetY: -30, offsetX: 100,});chart.legend('type2', { position: 'bottom', maxWidth: 100,});chart.interaction('active-region');chart.removeInteraction('legend-filter');chart.interaction('legend-visible-filter');// color ä½¿ç”¨ä¸åŒçš„fieldçš„é¢œè‰²chart.interval().position('time*value').color('type', '#2194ff');chart.line().position('time*value2').color('type2', '#fdae6b');chart.tooltip({ // åˆå¹¶å½“å‰ç‚¹å¯¹åº”çš„æ‰€æœ‰æ•°æ®å¹¶å±•ç¤º shared: true,});chart.render(); ä½¿ç”¨è‡ªå®šä¹‰å›¾ä¾‹åœ¨åˆ©ç”¨ä¸Šè¿°æ–¹å¼æ—¶ï¼Œå›¾ä¾‹åœ¨ä¸‹é¢ä½ç½®åªèƒ½çºµå‘æ’åˆ—ï¼Œæ¯”è¾ƒéš¾å—ï¼Œå› æ­¤äº§ç”Ÿå¦‚ä¸‹æ–¹æ³•ï¼Œä½¿ç”¨è‡ªå®šä¹‰å›¾ä¾‹ ç‚¹å‡»å›¾ä¾‹æ—¶åˆ©ç”¨ chart.filterç‚¹å‡»å›¾ä¾‹åè®¾ç½®æ•°æ®ç­›é€‰è§„åˆ™ï¼Œå»è¿‡æ»¤æ•°æ®ï¼Œç›¸å…³æ–‡æ¡£æŸ¥çœ‹å®˜ç½‘ é¦–å…ˆåŒæ ·æ”¹é€ æ•°æ®ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243const originData = [ { time: '9:00-10:00', value: 30, value2: 30, }, { time: '10:00-11:00', value: 90, value2: 20, }, { time: '11:00-12:00', value: 50, value2: 40, }, { time: '12:00-13:00', value: 30, value2: 50, },];const data1 = [];const data2 = [];originData.forEach((item) =&gt; { const { time, value, value2 } = item; data1.push({ time, value, type: 'é”€å”®é¢Custom' }); data2.push({ time, value2, type2: 'é”€å”®é¢Line' });});const data = [...data1, ...data2];// data [// { time: '9:00-10:00', value: 30, type: 'é”€å”®é¢Custom' },// { time: '10:00-11:00', value: 90, type: 'é”€å”®é¢Custom' },// { time: '11:00-12:00', value: 50, type: 'é”€å”®é¢Custom' },// { time: '12:00-13:00', value: 30, type: 'é”€å”®é¢Custom' },// { time: '9:00-10:00', value2: 30, type2: 'é”€å”®é¢Line' },// { time: '10:00-11:00', value2: 20, type2: 'é”€å”®é¢Line' },// { time: '11:00-12:00', value2: 40, type2: 'é”€å”®é¢Line' },// { time: '12:00-13:00', value2: 50, type2: 'é”€å”®é¢Line' }// ] å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126import { Chart } from '@antv/g2';const originData = [ { time: '9:00-10:00', value: 30, value2: 30, }, { time: '10:00-11:00', value: 90, value2: 20, }, { time: '11:00-12:00', value: 50, value2: 40, }, { time: '12:00-13:00', value: 30, value2: 50, },];const data1 = [];const data2 = [];originData.forEach((item) =&gt; { const { time, value, value2 } = item; data1.push({ time, value, type: 'é”€å”®é¢Custom' }); data2.push({ time, value2, type2: 'é”€å”®é¢Line' });});const data = [...data1, ...data2];const chart = new Chart({ container: 'container', autoFit: true, height: 500, padding: 'auto',});chart.data(data);chart.scale('value', { alias: 'é”€å”®é¢(ä¸‡)', nice: true,});chart.scale('value2', { alias: 'é”€å”®é¢(ä¸‡)', nice: true,});chart.axis('time', { tickLine: null,});chart.axis('value2', { // åæ ‡ç³»ç½‘æ ¼ä¸å±•ç¤º grid: null,});chart.tooltip({ showMarkers: false,});// è‡ªå®šä¹‰å›¾ä¾‹ï¼Œä¸ºäº†è®©å›¾ä¾‹æ¨ªå‘chart.legend({ custom: true, items: [ { value: 'value', name: 'é”€å”®é¢Custom', marker: { symbol: 'square', style: { fill: '#3182bd', r: 5 } }, }, { value: 'value2', name: 'é”€å”®é¢line', marker: { symbol: 'hyphen', style: { stroke: '#fdae6b', r: 5, lineWidth: 3 }, }, }, ],});// ç›‘å¬å›¾ä¾‹ç‚¹å‡»äº‹ä»¶chart.on('legend-item:click', (ev) =&gt; { const target = ev.target; const delegateObject = target.get('delegateObject'); // å½“å‰å›¾ä¾‹çš„æ•°æ® const item = delegateObject.item; console.log('item', item); // éå†æ‰€æœ‰å›¾ä¾‹ï¼Œè·å–å½“å‰ç‚¹å‡»åä¾ç„¶å±•ç¤ºçš„å›¾ä¾‹ï¼š let showLegend = []; for (let i = 0; i &lt; delegateObject.legend.get('items').length; i++) { if (!delegateObject.legend.get('items')[i].unchecked) { showLegend.push(delegateObject.legend.get('items')[i].value); } } showLegend = [...showLegend]; console.log('showLegend', showLegend); console.log('filed item.value', item.value); // é’ˆå¯¹å½“å‰çš„filed,ä»åŸå§‹æ•°æ®dataä¸­è¿‡æ»¤å‡ºæœ‰æ•ˆæ•°æ® chart.filter(item.value, (value) =&gt; { if (value === undefined) { return true; } else { return showLegend.includes(item.value); } }); // ä¸€ä¸‹æ›´æ–°chartæ–¹æ³•éƒ½å¯ä»¥ // console.log(&quot;data&quot;, data); // chart.changeData(data); chart.render(true);});chart.interaction('active-region');// ä½¿ç”¨è‡ªå¸¦çš„è¿‡æ»¤äº¤äº’ï¼Œuncheckedä¼šè¢«è®¾å®šä¸ºtrue// chart.removeInteraction(&quot;legend-filter&quot;);// chart.interaction(&quot;legend-visible-filter&quot;);chart.interval().position('time*value').color('type', '#2194ff');chart.line().position('time*value2').color('type2', '#fdae6b');chart.tooltip({ // åˆå¹¶å½“å‰ç‚¹å¯¹åº”çš„æ‰€æœ‰æ•°æ®å¹¶å±•ç¤º shared: true,});chart.render(); ç‚¹å‡»å›¾ä¾‹æ—¶åˆ©ç”¨ chart.changeVisible()ä¸Šè¿°éƒ½æ˜¯è¦å…ˆæ”¹é€ æ•°æ®åˆ©ç”¨ colorï¼Œé‚£èƒ½å¦ç›´æ¥ä½¿ç”¨åŸç”Ÿæ•°æ®å‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨chart.changeVisible()æ¥æ˜¾ç¤ºæˆ–éšè—å›¾è¡¨ã€‚å…·ä½“æŸ¥çœ‹å®˜ç½‘ å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697import { Chart } from '@antv/g2';const data = [ { time: '9:00-10:00', value: 30, value2: 30, }, { time: '10:00-11:00', value: 90, value2: 20, }, { time: '11:00-12:00', value: 50, value2: 40, }, { time: '12:00-13:00', value: 30, value2: 50, },];const chart = new Chart({ container: 'container', autoFit: true, height: 500, padding: 'auto',});chart.data(data);chart.scale('value', { alias: 'é”€å”®é¢(ä¸‡)', nice: true,});chart.scale('value2', { alias: 'é”€å”®é¢(ä¸‡)', nice: true,});chart.axis('time', { tickLine: null,});chart.tooltip({ showMarkers: false,});// è‡ªå®šä¹‰å›¾ä¾‹chart.legend({ custom: true, items: [ { value: 'value', name: 'é”€å”®é¢Custom', marker: { symbol: 'square', style: { fill: '#3182bd', r: 5 } }, }, { value: 'value2', name: 'é”€å”®é¢line', marker: { symbol: 'hyphen', style: { stroke: '#fdae6b', r: 5, lineWidth: 3 }, }, }, ],});chart.on('legend-item:click', (ev) =&gt; { const target = ev.target; const delegateObject = target.get('delegateObject'); const item = delegateObject.item; console.log('item', item); console.log('filed item.value', item.value); // è·å–å½“å‰å›¾è¡¨ const currentGeometry = chart.geometries.find((w: any) =&gt; { return w.getAttribute('position').getFields()[1] === item.value; }); if (currentGeometry) { // æ›´æ”¹å›¾å±•ç¤ºçŠ¶æ€ currentGeometry.changeVisible(!currentGeometry.visible); }});chart.interaction('active-region');// ä½¿ç”¨è‡ªå¸¦çš„è¿‡æ»¤äº¤äº’ï¼Œuncheckedä¼šè¢«è®¾å®šä¸ºtrue// chart.removeInteraction(&quot;legend-filter&quot;);// chart.interaction(&quot;legend-visible-filter&quot;);chart.interval().position('time*value').color('#2194ff');chart.line().position('time*value2').color('#fdae6b');chart.tooltip({ // åˆå¹¶å½“å‰ç‚¹å¯¹åº”çš„æ‰€æœ‰æ•°æ®å¹¶å±•ç¤º shared: true,});chart.render(); å…¨éƒ¨æ‰‹æ§ï¼ŒåŒ…æ‹¬å›¾ä¾‹çš„ç‚¹å‡»çŠ¶æ€åœ¨ä¸Šå‡ ä¸ªä»£ç ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°åœ¨å›¾ä¾‹äº¤äº’æ—¶éƒ½æ˜¯ä½¿ç”¨åŸç”Ÿçš„legend-filteräº¤äº’ï¼Œæ¯æ¬¡ç‚¹å‡»ådelegateObject.item.uncheckedéƒ½å·²ç»è¢«ä¿®æ”¹ã€‚åœ¨æ­¤æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰äº¤äº’ï¼Œé æˆ‘ä»¬è‡ªå·±å»æ‰‹åŠ¨ä¿®æ”¹uncheckedçš„çŠ¶æ€ï¼Œä¾æ­¤å¯ä»¥å¹²å‡ºå¾ˆå¤šäº‹ï¼ˆä¾‹å¦‚æœ€åä¸€ä¸ªå›¾ä¾‹æ—¶ç‚¹å‡»æ— æ•ˆç­‰ é¦–å…ˆæˆ‘ä»¬éœ€è¦æ³¨å†Œä¸‹è‡ªå·±çš„äº¤äº’ï¼š 12345678910111213import { Chart, registerInteraction } from '@antv/g2';// ç™½å«–å›¾ä¾‹ç‚¹å‡»æ—¶çš„æ‰‹åŠ¿registerInteraction('chart-custom-legend-filter', { showEnable: [ { trigger: 'legend-item:mouseenter', action: 'cursor:pointer' }, { trigger: 'legend-item:mouseleave', action: 'cursor:default' }, ], start: [ // { trigger: 'legend-item:click', action: 'list-unchecked:toggle' }, // { trigger: 'legend-item:click', action: 'data-filter:filter' }, ],}); å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119import { Chart, registerInteraction } from '@antv/g2';// ç™½å«–å›¾ä¾‹ç‚¹å‡»æ—¶çš„æ‰‹åŠ¿registerInteraction('chart-custom-legend-filter', { showEnable: [ { trigger: 'legend-item:mouseenter', action: 'cursor:pointer' }, { trigger: 'legend-item:mouseleave', action: 'cursor:default' }, ], start: [ // { trigger: 'legend-item:click', action: 'list-unchecked:toggle' }, // { trigger: 'legend-item:click', action: 'data-filter:filter' }, ],});const data = [ { time: '9:00-10:00', value: 30, value2: 30, }, { time: '10:00-11:00', value: 90, value2: 20, }, { time: '11:00-12:00', value: 50, value2: 40, }, { time: '12:00-13:00', value: 30, value2: 50, },];const chart = new Chart({ container: 'container', autoFit: true, height: 500, padding: 'auto',});chart.data(data);chart.scale('value', { alias: 'é”€å”®é¢(ä¸‡)', nice: true,});chart.scale('value2', { alias: 'é”€å”®é¢(ä¸‡)', nice: true,});chart.axis('time', { tickLine: null,});chart.axis('value2', { // åæ ‡ç³»ç½‘æ ¼ä¸å±•ç¤º grid: null,});chart.tooltip({ showMarkers: false,});// è‡ªå®šä¹‰å›¾ä¾‹ï¼Œä¸ºäº†è®©å›¾ä¾‹æ¨ªå‘chart.legend({ custom: true, items: [ { value: 'value', name: 'é”€å”®é¢Custom', marker: { symbol: 'square', style: { fill: '#3182bd', r: 5 } }, }, { value: 'value2', name: 'é”€å”®é¢line', marker: { symbol: 'hyphen', style: { stroke: '#fdae6b', r: 5, lineWidth: 3 }, }, }, ],});chart.on('legend-item:click', (ev) =&gt; { const target = ev.target; const delegateObject = target.get('delegateObject'); const item = delegateObject.item; const originUnchecked = item.unchecked; console.log('originUnchecked', originUnchecked); console.log('item', item); console.log('filed item.value', item.value); // è·å–å½“å‰å›¾è¡¨ const currentGeometry = chart.geometries.find((w: any) =&gt; { return w.getAttribute('position').getFields()[1] === item.value; }); if (currentGeometry) { // æ›´æ”¹å›¾å±•ç¤ºçŠ¶æ€ currentGeometry.changeVisible(!currentGeometry.visible); } // æ›´æ”¹å›¾ä¾‹çŠ¶æ€ delegateObject.item.unchecked = !originUnchecked; // è§¦å‘æ›´æ–°æµç¨‹ chart.render(true);});chart.interaction('active-region');// è‡ªå®šä¹‰å›¾ä¾‹ï¼Œç§»é™¤é»˜è®¤çš„åˆ†ç±»å›¾ä¾‹ç­›é€‰äº¤äº’ï¼Œä½¿ç”¨è‡ªå®šä¹‰å›¾ä¾‹chart.removeInteraction('legend-filter');chart.interaction('chart-custom-legend-filter');chart.interval().position('time*value').color('#2194ff');chart.line().position('time*value2').color('#fdae6b');chart.tooltip({ // åˆå¹¶å½“å‰ç‚¹å¯¹åº”çš„æ‰€æœ‰æ•°æ®å¹¶å±•ç¤º shared: true,});chart.render(); ä»¥ä¸‹æ˜¯ä¸Šè¿°ä»£ç è¿è¡Œå®é™…çŠ¶æ€ï¼šï¼ˆå¦‚æœæƒ³è¦çœ‹ä¸åŒæ–‡ä»¶çš„ç»˜åˆ¶ï¼Œè¯·æ›´æ¢ package.json ä¸­çš„ main å¯¹åº”çš„å€¼ï¼‰ å‚è€ƒé“¾æ¥ G2 legend G2 Geometry G2 Interaction","link":"/articles/2022/01/07/g2-multiple-geometry-legend/"},{"title":"é˜…è¯» install-pkg æºç ","text":"æœ¬æ–‡æ˜¯åœ¨çœ‹åˆ° ã€ŠVue å›¢é˜Ÿæ ¸å¿ƒæˆå‘˜å¼€å‘çš„ 39 è¡Œå°å·¥å…· install-pkg å®‰è£…åŒ…ï¼Œå€¼å¾—ä¸€å­¦ï¼ã€‹ æ–‡ç« åï¼Œå¯¹ @antfu/install-pkg è¿›è¡Œçš„ä¸€æ¬¡æºç é˜…è¯»ã€‚ install-pkg ä»‹ç» Install package programmatically. Detect package managers automatically (npm, yarn and pnpm). è‡ªåŠ¨æ£€æµ‹åŒ…ç®¡ç†å™¨ï¼ˆnpmã€yarn å’Œ pnpmï¼‰æ¥ç¼–ç¨‹å¼å®‰è£…åŒ…ä¾èµ–ã€‚ 1npm i @antfu/install-pkg 123import { installPackage } from '@antfu/install-pkg';await installPackage('vite', { silent: true }); æºç å…¥å£æ–‡ä»¶ src/index.tså¯¼å‡ºæ‰€æœ‰ 12export * from './detect';export * from './install'; install.ts installPackage å®‰è£…åŒ…æ”¯æŒæŒ‡å®šåŒ…ç®¡ç†å™¨ï¼Œæ”¯æŒå®‰è£…å¤šä¸ªä¾èµ–ï¼Œæ”¯æŒé¢å¤–çš„å‚æ•°ã€‚ 12345678910111213141516171819202122232425262728293031import execa from 'execa';import { detectPackageManager } from '.';export interface InstallPackageOptions { cwd?: string; dev?: boolean; silent?: boolean; packageManager?: string; preferOffline?: boolean; additionalArgs?: string[];}export async function installPackage(names: string | string[], options: InstallPackageOptions = {}) { // åŒ…ç®¡ç†å™¨ const agent = options.packageManager || (await detectPackageManager(options.cwd)) || 'npm'; if (!Array.isArray(names)) names = [names]; // é¢å¤–çš„ä¾èµ– const args = options.additionalArgs || []; if (options.preferOffline) args.unshift('--prefer-offline'); return execa( agent, [agent === 'yarn' ? 'add' : 'install', options.dev ? '-D' : '', ...args, ...names].filter(Boolean), { stdio: options.silent ? 'ignore' : 'inherit', cwd: options.cwd, } );} ä¸Šè¿°ä»£ç æœ€ç»ˆæ‰§è¡Œç±»ä¼¼å¦‚ä¸‹è„šæœ¬ï¼š 1yarn add -D react react-dom detect.ts detectPackageManager åŒ…æ¢æµ‹å™¨æ ¹æ®å½“å‰çš„é”æ–‡ä»¶(yarn.lock or package-lock.json or pnpm-lock.yaml )åˆ¤æ–­æ˜¯å“ªä¸ªåŒ…ç®¡ç†å™¨ 123456789101112131415161718import path from 'path';import findUp from 'find-up';export type PackageManager = 'pnpm' | 'yarn' | 'npm';const LOCKS: Record&lt;string, PackageManager&gt; = { 'pnpm-lock.yaml': 'pnpm', 'yarn.lock': 'yarn', 'package-lock.json': 'npm',};// process.cwd()æ˜¯ è¿”å›å½“å‰å·¥ä½œç›®å½•ã€‚å¦‚ï¼šè°ƒç”¨nodeå‘½ä»¤æ‰§è¡Œè„šæœ¬æ—¶çš„ç›®å½•ã€‚export async function detectPackageManager(cwd = process.cwd()) { // é€šè¿‡findUp è·å–å½“å‰ç›®å½•lockæ–‡ä»¶ const result = await findUp(Object.keys(LOCKS), { cwd }); const agent = result ? LOCKS[path.basename(result)] : null; return agent;} å…¶ä¸­éœ€è¦æ³¨æ„çš„ä¸€äº› node ç›¸å…³çš„çŸ¥è¯†ï¼š process.cwd(): è¿”å›å½“å‰å·¥ä½œç›®å½•ã€‚å¦‚ï¼šè°ƒç”¨ node å‘½ä»¤æ‰§è¡Œè„šæœ¬æ—¶çš„ç›®å½•ã€‚ __dirname: è¿”å›æºä»£ç æ‰€åœ¨çš„ç›®å½•ã€‚ path.basename(): è¿”å› path çš„æœ€åä¸€éƒ¨åˆ† 12345path.basename('/foo/bar/baz/asdf/quux.html');// è¿”å›: 'quux.html'path.basename('/foo/bar/baz/asdf/quux.html', '.html');// è¿”å›: 'quux' å…¶ä¸­findUpä¸ºæŸ¥æ‰¾æ–‡ä»¶è·¯å¾„ï¼š 12345678/â””â”€â”€ Users â””â”€â”€ sindresorhus â”œâ”€â”€ unicorn.png â””â”€â”€ foo â””â”€â”€ bar â”œâ”€â”€ baz â””â”€â”€ example.js 12345678910111213141516171819import path from 'node:path';import { findUp, pathExists } from 'find-up';console.log(await findUp('unicorn.png'));//=&gt; '/Users/sindresorhus/unicorn.png'console.log(await findUp(['rainbow.png', 'unicorn.png']));//=&gt; '/Users/sindresorhus/unicorn.png'console.log( await findUp( async (directory) =&gt; { const hasUnicorns = await pathExists(path.join(directory, 'unicorn.png')); return hasUnicorns &amp;&amp; directory; }, { type: 'directory' } ));//=&gt; '/Users/sindresorhus' æ‰€ä»¥åœ¨æœ‰yarn.lockæ–‡ä»¶çš„é¡¹ç›®ä¸­ï¼ŒdetectPackageManager å‡½æ•°æœ€ç»ˆè¿”å› agent çš„æ˜¯yarnã€‚ è‡³æ­¤ï¼Œinstall-pkgçš„æºç å·²ç»çœ‹å®Œï¼Œå¯ä»¥æ€»ç»“åŸç†ä¸ºï¼š é€šè¿‡ lock æ–‡ä»¶è‡ªåŠ¨æ£€æµ‹ï¼Œç¡®å®šä½¿ç”¨å“ªä¸€ä¸ªåŒ…ç®¡ç†å™¨ï¼ˆnpmã€yarnã€pnpmï¼‰ï¼Œæœ€ç»ˆç”¨ execa æ‰§è¡Œç±»ä¼¼å¦‚ä¸‹çš„å‘½ä»¤ã€‚ 1yarn add -D react react-dom çœ‹å®Œæºç ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹ä¸‹ package.json ä¸­çš„ scripts å‘½ä»¤ï¼Œå­¦ä¹ ä¸€ä¸‹ã€‚ package.json script è§£æ123456789&quot;scripts&quot;: { &quot;prepublishOnly&quot;: &quot;nr build&quot;, &quot;dev&quot;: &quot;nr build --watch&quot;, &quot;start&quot;: &quot;esno src/index.ts&quot;, &quot;build&quot;: &quot;tsup src/index.ts --format cjs,esm --dts --no-splitting&quot;, &quot;release&quot;: &quot;bumpp --commit --push --tag &amp;&amp; pnpm publish&quot;, &quot;lint&quot;: &quot;eslint \\&quot;{src,test}/**/*.ts\\&quot;&quot;, &quot;lint:fix&quot;: &quot;nr lint -- --fix&quot; } nr? â€”-&gt; ni ç¥å™¨github ni æ¨èçœ‹å°¤é›¨æºªæ¨èç¥å™¨ ni ï¼Œèƒ½æ›¿ä»£ npm/yarn/pnpm ï¼Ÿç®€å•å¥½ç”¨ï¼æºç æ­ç§˜ï¼ å¯ä»¥è‡ªåŠ¨æ ¹æ®é”æ–‡ä»¶ yarn.lock / pnpm-lock.yaml / package-lock.json æ£€æµ‹ä½¿ç”¨ yarn / pnpm / npm çš„åŒ…ç®¡ç†å™¨ã€‚ ä¾‹å­ï¼š nr äº¤äº’å¼é€‰æ‹©è„šæœ¬ 12345678910nr# äº¤äº’å¼é€‰æ‹©è„šæœ¬# interactively select the script to run# supports https://www.npmjs.com/package/npm-scripts-info conventionnr dev --port=3000# npm run dev -- --port=3000# yarn run dev --port=3000# pnpm run dev -- --port=3000 nci - clean install 12345nci# npm ci# ç®€å•è¯´å°±æ˜¯ä¸æ›´æ–°é”æ–‡ä»¶# yarn install --frozen-lockfile# pnpm install --frozen-lockfile ç­‰ esnogithub esno æºç ä¸å¤šï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910#!/usr/bin/env nodeconst spawn = require('cross-spawn');const spawnSync = spawn.sync;const register = require.resolve('esbuild-register');const argv = process.argv.slice(2);process.exit(spawnSync('node', ['-r', register, ...argv], { stdio: 'inherit' }).status); esbuild-register ç®€å•è¯´ï¼šä½¿ç”¨ esbuild å³æ—¶ä¼ è¾“ JSXã€TypeScript å’Œ esnext åŠŸèƒ½ cross-spawnï¼šç¼–å†™è·¨å¹³å° spawn è¯­å¥ï¼Œå¯å‚è€ƒã€Šç”¨ Node ç¼–å†™è·¨å¹³å° spawn è¯­å¥ã€‹ tsupæ‰“åŒ… TypeScript åº“çš„æœ€ç®€å•ã€æœ€å¿«çš„æ–¹æ³•ã€‚ tsup bumpp äº¤äº’å¼æå‡ç‰ˆæœ¬å·bumpp version-bump-prompt äº¤äº’å¼ CLI å¯å¢åŠ æ‚¨çš„ç‰ˆæœ¬å·ç­‰ æ€»ç»“æœ€åï¼Œåœ¨ install-pkg ä¸Šå¯æŸ¥çœ‹æœ¬ç¯‡æºç æ–‡ç« ~ å‚è€ƒé“¾æ¥ [Vue å›¢é˜Ÿæ ¸å¿ƒæˆå‘˜å¼€å‘çš„ 39 è¡Œå°å·¥å…· install-pkg å®‰è£…åŒ…ï¼Œå€¼å¾—ä¸€å­¦ï¼](","link":"/articles/2022/01/08/install-pkg/"},{"title":"ä½¿ç”¨ np å¿«é€Ÿå‘å¸ƒ npm åŒ…","text":"åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­ ã€Šæ€ä¹ˆå‘å¸ƒ NPM åŒ…ã€‹ä¸­ï¼Œå·²ç»ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ npm è¿›è¡Œå‘åŒ…ï¼Œæœ¬æ–‡å°†ä¼šä»‹ç»ä¸€æ¬¾å‘åŒ…å·¥å…· np ï¼Œå®ƒæ˜¯ç”± sindresorhus å¤§ç¥æ‰€åˆ›é€ çš„ä¸€å¥— npm published å·¥å…·ï¼Œæ¯” npm åŸç”Ÿçš„ npm publish å¤šäº†æ›´å¤šæ–¹ä¾¿çš„åŠŸèƒ½ï¼ å‰è¨€ä½ äº†è§£ä¸šå†…æ˜¯å¦‚ä½•å‘å¸ƒ npm åŒ…çš„å—ï¼Ÿ å‚è€ƒä¸€ä¸ªæµè¡Œçš„æ¡†æ¶ï¼Œæ¯”å¦‚ Reactã€‚å¦‚æœä½ ä»”ç»†ç ”ç©¶ï¼Œä½ ä¼šæ³¨æ„åˆ°ä¸€äº›äº‹æƒ…ï¼š é¦–å…ˆï¼ŒReact æœ‰ä¸€ä¸ªGithubä»“åº“ï¼› å…¶æ¬¡ï¼ŒReact è¢«å‘å¸ƒåœ¨NPMä¸Šï¼› ç¬¬ä¸‰ï¼ŒReact éµå¾ª Semantic versioningï¼ˆè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼‰ ç¬¬å››ï¼Œæ¯ä¸€æ¬¡çš„æ›´æ–°éƒ½æœ‰ä¸€ä¸ªgit tagå…³è”å®ƒï¼Œè¿™ä¸ªtagä¹Ÿéµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ã€‚ ç¬¬äº”ï¼Œrelease notes è®°å½•ç€ React çš„æ¯ä¸€æ¬¡æ›´æ–°ã€‚ è¿™æ„å‘³ç€å‘å¸ƒåŒ…æ¶‰åŠå¾ˆå¤šæ­¥éª¤ã€‚è‡³å°‘ï¼Œä½ éœ€è¦ï¼š è¿è¡Œæµ‹è¯•ç”¨ä¾‹ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ æ ¹æ®Semantic versioningä¿®æ”¹package.jsonæ›´æ–°ç‰ˆæœ¬å· æ ¹æ®Semantic versioningåˆ›å»º git tag å‘å¸ƒåŒ…åˆ° Github å‘å¸ƒåŒ…åˆ° NPM ä¸ºæ¯æ¬¡æ›´æ–°åˆ›å»º release notes å½“æˆ‘ä»¬å‡†å¤‡å‘å¸ƒåŒ…çš„æ—¶å€™ï¼Œå¿˜è®°å…¶ä¸­ä¸€ä»¶äº‹æ˜¯å¾ˆå¸¸è§çš„ã€‚ æœ‰ä¸€ä¸ªæ›´ç®€å•çš„æ–¹å¼å¸®æˆ‘ä»¬å®Œæˆä»¥ä¸Šæ­¥éª¤ï¼Œåˆ©ç”¨å·¥å…· npã€‚ npnp ä¸€æ¬¾ æ¯” npm åŸç”Ÿçš„ npm publish å¤šäº†æ›´å¤šæ–¹ä¾¿çš„åŠŸèƒ½çš„å·¥å…· ä¼˜ç‚¹ï¼š äº’åŠ¨ç•Œé¢ ç¡®ä¿ä» master branch å‘å¸ƒ package ç¡®ä¿å·¥ä½œå·¥ä½œç›®å½•æ˜¯å¹²å‡€ä¸”æ²’æœ‰ä»»ä½•çš„ä¿®æ”¹ æ ¹æ® dependency tree é‡æ–°å®‰è£ä¾èµ–ç¡®ä¿ç›®å‰çš„ project æ˜¯æœ€æ–°çš„ è‡ªåŠ¨æ‰§è¡Œæµ‹è¯• æ›´å¤šè¯·å‚è€ƒ READMEã€‚ å®‰è£…1npm install np or å…¨å±€å®‰è£… npï¼Œä½¿æˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œ npã€‚ 1npm install --global np åœ¨ä½¿ç”¨ np å‰ï¼Œä½ éœ€è¦ç¡®å®šï¼š ä½ çš„é¡¹ç›®æ˜¯ä¸€ä¸ª Git ä»“åº“ï¼ˆrepositoryï¼‰ éœ€è¦æ·»åŠ è¿œç«¯ä»“åº“ï¼ˆremoteï¼‰çš„åœ°å€ ä½ å¿…é¡»è‡³å°‘å·²ç»pushåˆ° remote ä¸€æ¬¡ ä½ ä¹Ÿéœ€è¦ç¡®å®šä½ çš„å·¥ä½œç›®å½•æ˜¯å¹²å‡€çš„ å‘å¸ƒpackage.jsonå¦‚ä¸‹ï¼š 123456789101112131415161718192021222324{ &quot;name&quot;: &quot;np-pub-test&quot;, &quot;version&quot;: &quot;1.0.2&quot;, &quot;description&quot;: &quot;&quot;, &quot;main&quot;: &quot;index.js&quot;, &quot;files&quot;: [&quot;index.js&quot;], &quot;scripts&quot;: { &quot;test&quot;: &quot;echo \\&quot; -------run test---------- \\&quot;&quot;, &quot;release&quot;: &quot;np --no-yarn --no-2fa&quot; }, &quot;repository&quot;: { &quot;type&quot;: &quot;git&quot;, &quot;url&quot;: &quot;git+https://github.com/MrSeaWave/np-pub-test.git&quot; }, &quot;author&quot;: &quot;Sea &lt;MrDaemon@outlook.com&gt;&quot;, &quot;license&quot;: &quot;MIT&quot;, &quot;bugs&quot;: { &quot;url&quot;: &quot;https://github.com/MrSeaWave/np-pub-test/issues&quot; }, &quot;homepage&quot;: &quot;https://github.com/MrSeaWave/np-pub-test#readme&quot;, &quot;devDependencies&quot;: { &quot;np&quot;: &quot;^7.6.0&quot; }} è¿è¡Œnpm run releaseè¿›è¡Œå‘åŒ… æ ¹æ®æç¤ºé€‰æ‹©ç‰ˆæœ¬ï¼š ä¹‹åï¼Œnp ä¼šå¸®ä½ å®Œæˆå…¶ä½™çš„å‘å¸ƒå·¥ä½œã€‚ åœ¨æµç¨‹çš„æœ€åã€‚np ä¼šå¯åŠ¨æµè§ˆå™¨çª—å£ï¼Œåœ¨è¿™å†™ä½ çš„ release notesã€‚ æ€»ä¹‹ï¼Œnp ä½¿å¾— npm å‘åŒ…è¿‡ç¨‹å˜å¾—éå¸¸ç®€å•ï¼ é—®é¢˜é—®é¢˜ 1é€šå¸¸æˆ‘ä»¬åšä¸€ä¸ªè§„èŒƒç‚¹çš„ç»„ä»¶åŒ…ï¼Œéƒ½ä¼šä½¿ç”¨commitizenã€‚å½“ç„¶è¿˜è¦ç»“åˆ.commitlintrcï¼Œæ¥è§„èŒƒå’Œçº¦æŸæˆ‘ä»¬çš„commit messageã€‚ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼š æ€ä¹ˆä¿®æ”¹npçš„commit message é˜…è¯»å®˜æ–¹æ–‡æ¡£åå‘ç°ï¼Œå¢åŠ --messageå³å¯ 123456{ &quot;scripts&quot;: { &quot;test&quot;: &quot;echo \\&quot; -------run test---------- \\&quot;&quot;, &quot;release&quot;: &quot;np --no-yarn --no-2fa --message \\&quot;chore(release): v%s \\&quot;&quot; }} é—®é¢˜ 2å› ä¸º np å‘å¸ƒè¦æœ‰å¹²å‡€çš„å·¥ä½œåŒºã€‚å› æ­¤ å¦‚æœæˆ‘ä»¬æœ‰ä¿®æ”¹çš„æ–‡ä»¶æ²¡æœ‰æäº¤ã€‚å¦‚ä¸‹ï¼š æˆ– å¦‚æœæˆ‘ä»¬æœ‰æ–°å»ºçš„æ–‡ä»¶æœªæäº¤ï¼Œå¦‚ä¸‹ï¼š ç„¶åæˆ‘ä»¬å»å‘å¸ƒæ—¶ï¼Œä¼šå‘ç°å‘å¸ƒå¤±è´¥ è¿™æ˜¯å› ä¸º np æºç æ˜¯ä¾ç…§ä¸‹å›¾åˆ¤æ–­å·¥ä½œåŒºæ˜¯å¦å¹²å‡€ 123$ git status --porcelain M index.js?? doc.md å¦‚æœæ”¹ä¸ºè¿™ä¸ªå¯èƒ½ä¼šæ›´å¥½ï¼Œä½†ä¹Ÿæœªå¿…ã€‚ï¼š åªç›‘å¬æƒ³è¦æäº¤åˆ°æš‚å­˜åŒºçš„æ•°æ® 12$ git status --short | grep '^[MARCD]'M index.js åœºæ™¯ï¼šä¿®æ”¹ CHANGELOG.md æ–‡ä»¶åï¼Œå’Œ package.json ä¸€èµ·å‘å¸ƒ é—®é¢˜ 3å‘åŒ…ä¼šé»˜è®¤é€‰æ‹©ç”¨ yarnï¼Œå¯ä»¥åœ¨ package.json ä¸­ä½¿ç”¨publishConfig.registryè®¾å®šå‘å¸ƒåœ°å€ å¦‚ä¸‹ï¼š 12345{ &quot;publishConfig&quot;: { &quot;registry&quot;: &quot;https://registry.npmjs.org/&quot; }} ä¹Ÿå¯ä»¥å…³é—­ yarn (--no-yarn)ï¼Œä½¿ç”¨ npm 123456{ &quot;scripts&quot;: { &quot;test&quot;: &quot;echo \\&quot; -------run test---------- \\&quot;&quot;, &quot;release&quot;: &quot;np --no-yarn --no-2fa --message \\&quot;chore(release): v%s \\&quot;&quot; }} åç»­å¾…è®°å½•ã€‚ã€‚ã€‚ å‚è€ƒé“¾æ¥ np æ€ä¹ˆå‘å¸ƒ NPM åŒ…ï¼ˆä¸šå†…çš„åšæ³•ï¼‰ é€é np å¿«é€Ÿç™¼ä½ˆä½ çš„ package åˆ° npm.js ä½ çœŸçš„æ‡‚ npm publishï¼Ÿ","link":"/articles/2022/01/27/np-publish/"},{"title":"æ€ä¹ˆå‘å¸ƒ NPM åŒ…","text":"å°†åŒ…å‘å¸ƒåˆ° NPMï¼ˆnode package managerï¼‰ä¸Šå¾ˆç®€å•ï¼Œåªéœ€è¦ 2 æ­¥ï¼š åˆ›å»ºåŒ… å‘å¸ƒåŒ… å‰ç½®åŠ¨ä½œ ä½ éœ€è¦ä¸€ä¸ª NPM è´¦å·ã€‚å¦‚æœæ²¡æœ‰çš„è¯ï¼Œç‚¹æ­¤åˆ›å»ºã€‚ é€šè¿‡å‘½ä»¤è¡Œç™»å½•ä½ çš„ npm è´¦å·ã€‚ æ·»åŠ ç”¨æˆ·æ·»åŠ æ³¨å†Œè¡¨ç”¨æˆ·è´¦æˆ· 1234$ npm adduserUsername:Password:Email: ç™»å½•npm login æ˜¯ add user çš„åˆ«åï¼Œå¹¶ä¸”è¡Œä¸ºå®Œå…¨ç›¸åŒã€‚ 1234$ npm loginUsername:Password:Emial: åˆ›å»ºåŒ…åƒè¿™æ ·åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä¹‹åè¿›å…¥åˆ°è¯¥æ–‡ä»¶å¤¹å†…ã€‚ 123$ mkdir pub-test$ cd pub-test ä¸‹ä¸€æ­¥ï¼Œé€šè¿‡è¿è¡Œ npm initå‘½ä»¤ç”Ÿæˆ package.json 1$ npm init å‘å¸ƒæœ€åä¸€æ­¥ï¼Œåœ¨è¦å‘å¸ƒçš„æ–‡ä»¶ç›®å½•ä¸‹ï¼Œç”¨ npm publishå‘å¸ƒè¯¥é¡¹ç›® ä»…ä»…å½“ package.json æ–‡ä»¶ä¸­çš„ version å˜åŒ–æ—¶æ‰èƒ½å‘å¸ƒï¼Œä¸ç„¶ npm ä¼šè®¤ä¸ºå½“å‰ç‰ˆæœ¬æ²¡æœ‰å˜åŠ¨ 1$ npm publish å¦‚æœå‘å¸ƒçš„åŒ…å’Œåˆ«äººåŒåï¼Œåˆ™å¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹æŠ¥é”™ï¼š å¯ä»¥é€šè¿‡ 1$ npm search pub-test æŸ¥çœ‹æ˜¯å¦è¢«å ç”¨ ä¿®æ”¹åŒ…åé‡æ–°å‘å¸ƒï¼Œå¦‚ä¸‹ä¿®æ”¹ä¸ºï¼š 1234567891011{ &quot;name&quot;: &quot;pub-test-demo-1&quot;, &quot;version&quot;: &quot;1.0.0&quot;, &quot;description&quot;: &quot;&quot;, &quot;main&quot;: &quot;index.js&quot;, &quot;scripts&quot;: { &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot; }, &quot;author&quot;: &quot;Sea &lt;MrDaemon@outlook.com&gt;&quot;, &quot;license&quot;: &quot;MIT&quot;} å‘å¸ƒæˆåŠŸå¦‚ä¸‹ï¼š å–æ¶ˆå‘å¸ƒæœ‰äº†å‘å¸ƒï¼Œé‚£ä¹ˆå¿…ç„¶æœ‰å–æ¶ˆå‘å¸ƒ 1$ npm unpublish 12npm unpublish [&lt;@scope&gt;/]&lt;pkg&gt;@&lt;version&gt;npm unpublish [&lt;@scope&gt;/]&lt;pkg&gt; --force å¯¹äºå–æ¶ˆå‘å¸ƒï¼Œä»…ä»…èƒ½åœ¨å‘å¸ƒåçš„ 24 å°æ—¶å†…å–æ¶ˆã€‚ npm æµ‹è¯•åŒ…å¼€å‘é˜¶æ®µæµ‹è¯• å½“æœ¬åœ°å†™å®Œ npm åŒ…çš„ä»£ç æ—¶ï¼Œå¦‚æœæ˜¯ä¸šåŠ¡ä¾èµ–æˆ–è€…æœ‰æœåŠ¡ä¾èµ–æƒ³ç®€å•è·‘ä¸ªä¸»æµç¨‹ï¼Œå¾ˆç®€å•æˆ‘ä»¬å°±åœ¨æœ¬åœ°é¡¹ç›®å¼•å…¥è¿™ä¸ªæœ¬åœ° npm åŒ…ï¼Œæ¯”å¦‚ B é¡¹ç›® ä¾èµ– æœ¬åœ°å¼€å‘çš„ npm åŒ… Aï¼Œé‚£æˆ‘ä»¬å¼€å§‹å®‰è£…ä¸€ä¸‹ï¼š æ–¹æ³•ä¸€ 1$ npm install --save ../A/packages/modules æˆ–è€… 1$ yarn add ../A/packages/modules å³å¯ï¼Œå®‰è£…æˆåŠŸåä¼š å‘ç° B é¡¹ç›®çš„ package.json ä¸­æ˜¾ç¤ºä¾èµ–å¦‚ä¸‹ â€œAâ€: â€œfile:../A/packages/modulesâ€ æ³¨æ„ï¼šmodules æ–‡ä»¶å¤¹ä¸‹éœ€è¦åŒ…å« package.json æ–‡ä»¶å¹¶åœ¨æ–‡ä»¶å¤¹ä¸­ç”³æ˜ åŒ…åå’Œå…¥å£æ–‡ä»¶å¦‚ä¸‹ï¼š 12345678910{ &quot;name&quot;: &quot;A&quot;, &quot;version&quot;: &quot;0.0.1&quot;, &quot;description&quot;: &quot;åŸºç¡€åº“&quot;, &quot;main&quot;: &quot;index.js&quot;, &quot;scripts&quot;: { &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot; }, &quot;license&quot;: &quot;MIT&quot;} æ–¹æ³•äºŒåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªæ˜¯npm-link-moduleï¼Œæ˜¯æˆ‘ä»¬è¦å¼€å‘çš„npmæ¨¡å—ï¼Œå¦ä¸€ä¸ªæ˜¯npm-link-exampleï¼Œæ˜¯æˆ‘ä»¬è¦è¿è¡Œnpmæ¨¡å—çš„é¡¹ç›®é¦–å…ˆï¼Œè¿›å…¥npm-link-moduleé¡¹ç›®ï¼Œæ‰§è¡Œnpm linkï¼ˆyarnä¹Ÿæ˜¯ä¸€æ ·ï¼‰ 12$ cd npm-link-module$ npm link ç„¶åï¼Œè¿›å…¥npm-link-exampleé¡¹ç›®ï¼Œæ‰§è¡Œnpm link npm-link-module 12$ cd npm-link-example$ npm link npm-link-module å¸è½½ 1$ npm unlink npm-link-module å¼€å‘çš„è‡ªåŠ¨åŒ–æµ‹è¯• ä½¿ç”¨ jest æµ‹è¯• äººå·¥æµ‹è¯• npm éƒ¨åˆ†å‘½ä»¤npm view æŸ¥çœ‹åŒ…çš„ä¿¡æ¯ 1npm view åŒ…å npm info åœ¨å½“å‰åŒ…ä¸‹æŸ¥çœ‹åŒ…çš„ä¿¡æ¯ 1npm info npm dist-tag æ˜¾ç¤ºæ‰€æœ‰çš„ tag ä¿¡æ¯ 1npm dist-tag ls [&lt;pkg&gt;] å³npm dist-tagè·å–åˆ°æ‰€æœ‰çš„æœ€æ–°çš„ç‰ˆæœ¬ï¼ŒåŒ…æ‹¬prereleaseä¸ç¨³å®šç‰ˆæœ¬ åˆ‡æ¢ tag 1npm dist-tag add &lt;pkg&gt;@&lt;version&gt; latest å…¶ä»–å‘å¸ƒä¸€ä¸ªå¸¦ tag çš„ç‰ˆæœ¬1npm publish --tag next å¢åŠ --tagå‚æ•°å’Œåé¢çš„tagåå­—å³å¯ ç‰ˆæœ¬å·npm ä½¿ç”¨çš„æ˜¯ä¸€ç§å«åš semantic version çš„è§„èŒƒï¼Œå®ƒçš„è§„åˆ™å¾ˆç®€å•ï¼Œæ€»ç»“èµ·æ¥å°±æ˜¯ä¸‹é¢å‡ æ¡ï¼š ä½¿ç”¨ semver çš„è½¯ä»¶å¿…é¡»å®šä¹‰å…¬å¼€ã€ä¸¥è°¨ã€æ˜“äºç†è§£çš„ APIã€‚ä¹Ÿå°±æ˜¯æ¨¡å—è¦æä¾›åŠŸèƒ½ç»™ç”¨æˆ·ã€‚ ç‰ˆæœ¬å·æ ¼å¼ä¸ºï¼šX.Y.Zï¼Œå¹¶ä¸” Xã€Yã€Z å‡ä¸ºæ­£æ•´æ•°å¹¶ä¸”ä¸æ–­é€’å¢ã€‚X è¡¨ç¤ºå¤§ç‰ˆæœ¬ï¼ˆmajorï¼‰ã€Y è¡¨ç¤ºå°ç‰ˆæœ¬ï¼ˆminorï¼‰ã€Z è¡¨ç¤ºè¡¥ä¸ç‰ˆæœ¬ï¼ˆpatchï¼‰ã€‚ ä¸€ä¸ªç‰ˆæœ¬å‘å¸ƒåï¼Œæ­¤ç‰ˆæœ¬å†…å®¹ä¸èƒ½å†å˜æ›´ï¼Œå˜æ›´å¿…é¡»å†å‘å¸ƒä¸€ä¸ªæ–°ç‰ˆæœ¬ã€‚ä¹Ÿå°±æ˜¯ä¸èƒ½è¦†ç›–å‘å¸ƒã€‚ 0.Y.Z è¡¨ç¤ºåˆå§‹ç‰ˆæœ¬ï¼Œè¿™ç§ç‰ˆæœ¬ä¸‹çš„ API ä¸èƒ½ä¿è¯ç¨³å®šï¼Œéšæ—¶å¯èƒ½å˜æ›´ã€‚ å½“è¿›è¡Œäº†å‘åå…¼å®¹çš„ bug ä¿®å¤æ—¶ï¼Œè¡¥ä¸ç‰ˆæœ¬ Z å¿…é¡»å¢åŠ ã€‚ å½“å¼•å…¥äº†å‘åå…¼å®¹çš„æ–°åŠŸèƒ½æ—¶ï¼Œå°ç‰ˆæœ¬ Y å¿…é¡»å¢åŠ ï¼ŒåŒæ—¶ Z å¿…é¡»é‡ç½®ä¸º 0ï¼ˆå°ç‰ˆæœ¬é‡Œé¢å¯èƒ½ä¼šåŒ…å« bug ä¿®å¤ï¼‰ã€‚ å½“å¼•å…¥äº†ä¸å…¼å®¹çš„å˜æ›´æ—¶ï¼Œå¤§ç‰ˆæœ¬ X å¿…é¡»å¢åŠ ï¼ŒåŒæ—¶ Yã€Z å¿…é¡»é‡ç½®ä¸º 0ï¼ˆå¤§ç‰ˆæœ¬é‡Œé¢å¯èƒ½ä¼šåŒ…å«å°ç‰ˆæœ¬æˆ–è€…è¡¥ä¸ç‰ˆæœ¬çš„æ”¹åŠ¨ï¼‰ã€‚ X.Y.Z åé¢è¿˜å¯ä»¥åŠ é¢„å‘å¸ƒç‰ˆæœ¬å·ã€æ„å»ºä¿¡æ¯ï¼Œæ ¼å¼ä¸ºï¼šX.Y.Z-pre_lease+build_metaï¼Œæ¯”å¦‚ï¼š1.0.0-alpha+20151226ã€1.0.0-beta.2+20151230ã€‚ è¿›è¡Œç‰ˆæœ¬å·æ¯”è¾ƒæ—¶ï¼Œéµå¾ªä¸‹é¢çš„è§„åˆ™ï¼š 1ï¼‰ä¾æ¬¡æŒ‰æ•°å€¼æ¯”è¾ƒ Xã€Yã€Z çš„å€¼ï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªä¸åŒçš„ä½ç½®ï¼› 2ï¼‰å¦‚æœä¸¤ä¸ªç‰ˆæœ¬çš„ Xã€Yã€Z éƒ½ç›¸ç­‰ï¼Œå«æœ‰ pre-release ç‰ˆæœ¬å·çš„è¾ƒå°ï¼› 3ï¼‰å¦‚æœä¸¤ä¸ªç‰ˆæœ¬çš„ Xã€Yã€Z éƒ½ç›¸ç­‰å¹¶ä¸”éƒ½å«æœ‰ pre-release ç‰ˆæœ¬å·ï¼Œè¦å•ç‹¬æ¯”è¾ƒ pre-release ç‰ˆæœ¬ã€‚æ¯”å¦‚ï¼š1.0.0 &lt; 2.0.0 &lt; 2.1.0 &lt; 2.1.1ï¼Œ1.0.0-alpha &lt; 1.0.0ï¼Œ1.0.0-alpha &lt; 1.0.0-alpha.1 &lt; 1.0.0-alpha.beta &lt; 1.0.0-beta &lt; 1.0.0-beta.2 ç›´æ¥ä½¿ç”¨ npm version å‘½ä»¤è‡ªåŠ¨æå®šç‰ˆæœ¬å·çš„æ›´æ”¹ npm version åŠŸèƒ½ major - å¦‚æœæ²¡æœ‰é¢„å‘å¸ƒå·ï¼Œåˆ™ç›´æ¥å‡çº§ä¸€ä½å¤§å·ï¼Œå…¶ä»–ä½éƒ½ç½®ä¸º 0 - å¦‚æœæœ‰é¢„å‘å¸ƒå·ï¼š â€“ ä¸­å·å’Œå°å·éƒ½ä¸º 0ï¼Œåˆ™ä¸å‡çº§å¤§å·ï¼Œè€Œå°†é¢„å‘å¸ƒå·åˆ æ‰ã€‚å³ 2.0.0-1 å˜æˆ 2.0.0ï¼Œè¿™å°±æ˜¯é¢„å‘å¸ƒçš„ä½œç”¨ â€“ å¦‚æœä¸­å·å’Œå°å·æœ‰ä»»æ„ä¸€ä¸ªä¸æ˜¯ 0ï¼Œé‚£è¾¹ä¼šå‡çº§ä¸€ä½å¤§å·ï¼Œå…¶ä»–ä½éƒ½ç½®ä¸º 0ï¼Œæ¸…ç©ºé¢„å‘å¸ƒå·ã€‚å³ 2.0.1-0 å˜æˆ 3.0.0 minor - å¦‚æœæ²¡æœ‰é¢„å‘å¸ƒå·ï¼Œåˆ™å‡çº§ä¸€ä½ä¸­å·ï¼Œå¤§å·ä¸åŠ¨ï¼Œå°å·ç½®ä¸ºç©º - å¦‚æœæœ‰é¢„å‘å¸ƒå·: â€“ å¦‚æœå°å·ä¸º 0ï¼Œåˆ™ä¸å‡çº§ä¸­å·ï¼Œå°†é¢„å‘å¸ƒå·å»æ‰ â€“ å¦‚æœå°å·ä¸ä¸º 0ï¼ŒåŒç†æ²¡æœ‰é¢„å‘å¸ƒå· patch - å¦‚æœæ²¡æœ‰é¢„å‘å¸ƒå·ï¼šç›´æ¥å‡çº§å°å·ï¼Œå»æ‰é¢„å‘å¸ƒå· - å¦‚æœæœ‰é¢„å‘å¸ƒå·ï¼šå»æ‰é¢„å‘å¸ƒå·ï¼Œå…¶ä»–ä¸åŠ¨ premajor - ç›´æ¥å‡çº§å¤§å·ï¼Œä¸­å·å’Œå°å·ç½®ä¸º 0ï¼Œå¢åŠ é¢„å‘å¸ƒå·ä¸º 0 preminor - ç›´æ¥å‡çº§ä¸­å·ï¼Œå°å·ç½®ä¸º 0ï¼Œå¢åŠ é¢„å‘å¸ƒå·ä¸º 0 prepatch - ç›´æ¥å‡çº§å°å·ï¼Œå¢åŠ é¢„å‘å¸ƒå·ä¸º 0 prerelease - å¦‚æœæ²¡æœ‰é¢„å‘å¸ƒå·ï¼šå¢åŠ å°å·ï¼Œå¢åŠ é¢„å‘å¸ƒå·ä¸º 0 - å¦‚æœæœ‰é¢„å‘å¸ƒå·ï¼Œåˆ™å‡çº§é¢„å‘å¸ƒå· ç‰ˆæœ¬å·çš„ä¸‰ä½åˆ†åˆ«æ˜¯ å¤§å·.ä¸­å·.å°å·-é¢„å‘å¸ƒå·å¦‚æœæ‰§è¡Œäº†prereleaseï¼Œç‰ˆæœ¬å·ä¼šä»1.1.1-0å˜æˆ 1.1.1-1æˆ–è€…1.0.5-alpha.1â€“&gt;1.0.5-alpha.2v1.0.6-alphaâ€”&gt;v1.0.6-alpha.0 123npm version patch =&gt; z+1npm version minor =&gt; y+1 &amp;&amp; z=0npm version major =&gt; x+1 &amp;&amp; y=0 &amp;&amp; z=0 å¦‚æœé¡¹ç›®æ˜¯ GIT 1npm version patch -m &quot;Upgrade to %s for reasons&quot; package.json æ–‡ä»¶ä¸€èˆ¬é€šè¿‡npm init å°å›¾æ ‡å¯ä»¥ä½¿ç”¨ shields.io ç”Ÿæˆå°å›¾æ ‡ä½¿ç”¨ï¼Œæ¯”å¦‚ï¼š å‚è€ƒé“¾æ¥ yarn npm å‘åŒ…å°è®°","link":"/articles/2022/01/27/npm-publish/"},{"title":"Npm Script","text":"æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ npm è„šæœ¬ï¼ˆnpm scriptsï¼‰ã€‚ ä»‹ç»NPM è„šæœ¬æ˜¯ package.json ä¸­å®šä¹‰çš„ä¸€ç»„å†…ç½®è„šæœ¬å’Œè‡ªå®šä¹‰è„šæœ¬ã€‚ä»–ä»¬çš„ç›®æ ‡æ˜¯æä¾›ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥æ‰§è¡Œé‡å¤çš„ä»»åŠ¡ï¼Œæ¯”å¦‚ï¼š å¯åŠ¨é¡¹ç›® æ‰“åŒ…é¡¹ç›® æ‰§è¡Œå•å…ƒæµ‹è¯•ï¼Œç”Ÿæˆæµ‹è¯•æŠ¥å‘Šä¹‹ç±» â€¦â€¦ é‚£å¦‚ä½•å®šä¹‰ä¸€ä¸ª NPM è„šæœ¬ï¼Ÿéœ€è¦åšçš„å°±æ˜¯è®¾ç½®å®ƒçš„åç§°ï¼Œå¹¶åœ¨ package.json æ–‡ä»¶çš„ script å±æ€§ä¸­ç¼–å†™è¯¥è„šæœ¬, å¦‚ä¸‹ï¼š 123456{ // ... &quot;scripts&quot;: { &quot;build&quot;: &quot;node build.js&quot; }} ä¸Šé¢ä»£ç æ˜¯package.jsonæ–‡ä»¶çš„ä¸€ä¸ªç‰‡æ®µï¼Œé‡Œé¢çš„scriptså­—æ®µæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚å®ƒçš„æ¯ä¸€ä¸ªå±æ€§ï¼Œå¯¹åº”ä¸€æ®µè„šæœ¬ã€‚æ¯”å¦‚ï¼Œbuildå‘½ä»¤å¯¹åº”çš„è„šæœ¬æ˜¯node build.jsã€‚ å‘½ä»¤è¡Œä¸‹ä½¿ç”¨npm runå‘½ä»¤ï¼Œå°±å¯ä»¥æ‰§è¡Œè¿™æ®µè„šæœ¬ã€‚ 123$ npm run build# ç­‰åŒäºæ‰§è¡Œ$ node build.js è¿™äº›å®šä¹‰åœ¨package.jsoné‡Œé¢çš„è„šæœ¬ï¼Œå°±ç§°ä¸º npm è„šæœ¬ã€‚å®ƒçš„ä¼˜ç‚¹æœ‰å¾ˆå¤šã€‚ æŸ¥çœ‹å½“å‰é¡¹ç›®çš„æ‰€æœ‰ npm è„šæœ¬å‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨ä¸å¸¦ä»»ä½•å‚æ•°çš„npm runå‘½ä»¤ã€‚ 1$ npm run åŸç†npm è„šæœ¬çš„åŸç†éå¸¸ç®€å•ã€‚æ¯å½“æ‰§è¡Œnpm runï¼Œå°±ä¼šè‡ªåŠ¨æ–°å»ºä¸€ä¸ª Shellï¼Œåœ¨è¿™ä¸ª Shell é‡Œé¢æ‰§è¡ŒæŒ‡å®šçš„è„šæœ¬å‘½ä»¤ã€‚å› æ­¤ï¼Œåªè¦æ˜¯ Shellï¼ˆä¸€èˆ¬æ˜¯ Bashï¼‰å¯ä»¥è¿è¡Œçš„å‘½ä»¤ï¼Œå°±å¯ä»¥å†™åœ¨ npm è„šæœ¬é‡Œé¢ã€‚ æ¯”è¾ƒç‰¹åˆ«çš„æ˜¯ï¼Œnpm runæ–°å»ºçš„è¿™ä¸ª Shellï¼Œä¼šå°†å½“å‰ç›®å½•çš„node_modules/.binå­ç›®å½•åŠ å…¥PATHå˜é‡ï¼Œæ‰§è¡Œç»“æŸåï¼Œå†å°†PATHå˜é‡æ¢å¤åŸæ ·ã€‚ è¿™æ„å‘³ç€ï¼Œå½“å‰ç›®å½•çš„node_modules/.binå­ç›®å½•é‡Œé¢çš„æ‰€æœ‰è„šæœ¬ï¼Œéƒ½å¯ä»¥ç›´æ¥ç”¨è„šæœ¬åè°ƒç”¨ï¼Œè€Œä¸å¿…åŠ ä¸Šè·¯å¾„ã€‚ æ¯”å¦‚ï¼š 1234567891011{ &quot;scripts&quot;: { &quot;lint&quot;: &quot;./node_modules/.bin/eslint --ext .js&quot; }}// æ­¤å†™æ³•ä¸ä¸Šé¢æ•ˆæœç›¸åŒ{ &quot;scripts&quot;: { &quot;lint&quot;: &quot;eslint --ext .js&quot; }} ç”±äº npm è„šæœ¬çš„å”¯ä¸€è¦æ±‚å°±æ˜¯å¯ä»¥åœ¨ Shell æ‰§è¡Œï¼Œå› æ­¤å®ƒä¸ä¸€å®šæ˜¯ Node è„šæœ¬ï¼Œä»»ä½•å¯æ‰§è¡Œæ–‡ä»¶éƒ½å¯ä»¥å†™åœ¨é‡Œé¢ã€‚ npm è„šæœ¬çš„é€€å‡ºç ï¼Œä¹Ÿéµå®ˆ Shell è„šæœ¬è§„åˆ™ã€‚å¦‚æœé€€å‡ºç ä¸æ˜¯0ï¼Œnpm å°±è®¤ä¸ºè¿™ä¸ªè„šæœ¬æ‰§è¡Œå¤±è´¥ã€‚ ä¼ å‚å‘ npm è„šæœ¬ä¼ å…¥å‚æ•°ï¼Œè¦ä½¿ç”¨--æ ‡æ˜ã€‚ ä¾‹å¦‚å‘ä¸Šé¢çš„npm run lintå‘½ä»¤ä¼ å…¥å‚æ•°--cacheï¼Œå¿…é¡»å†™æˆä¸‹é¢è¿™æ ·ã€‚ 1$ npm run lint -- --cache è¿è¡Œå¦‚ä¸‹ï¼š 12345$ npm run lint -- --cache&gt; @ lint /Users/sea/workspace/personal/tem/np-pub-test&gt; eslint --ext .js &quot;--cache&quot; æ‰§è¡Œé¡ºåºå¦‚æœ npm è„šæœ¬é‡Œé¢éœ€è¦æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œé‚£ä¹ˆéœ€è¦æ˜ç¡®å®ƒä»¬çš„æ‰§è¡Œé¡ºåºã€‚ å¦‚æœæ˜¯ç»§å‘æ‰§è¡Œï¼ˆå³åªæœ‰å‰ä¸€ä¸ªä»»åŠ¡æˆåŠŸï¼Œæ‰æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨&amp;&amp;ç¬¦å·ã€‚ 1$ npm run lint &amp;&amp; npm run build å¦‚æœæ˜¯å¹¶è¡Œæ‰§è¡Œï¼ˆå³åŒæ—¶çš„å¹³è¡Œæ‰§è¡Œï¼‰ï¼Œå¯ä»¥ä½¿ç”¨&amp;ç¬¦å·ã€‚ 1$ npm run lint &amp; npm run build è¿™ä¸¤ä¸ªç¬¦å·æ˜¯ Bash çš„åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ node çš„ä»»åŠ¡ç®¡ç†æ¨¡å—ï¼šscript-runnerã€npm-run-allã€redrunã€‚ é’©å­ pre &amp; postnpm è„šæœ¬æœ‰preå’Œpostä¸¤ä¸ªé’©å­ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºä»»ä½•è„šæœ¬åˆ›å»º pre å’Œ post é’©å­ï¼ŒNPM ä¼šè‡ªåŠ¨æŒ‰é¡ºåºè¿è¡Œå®ƒä»¬ã€‚å”¯ä¸€çš„è¦æ±‚æ˜¯è„šæœ¬çš„åç§°(åè·Ÿpreæˆ–postå‰ç¼€)ä¸ä¸»è„šæœ¬åŒ¹é…ã€‚ä¾‹å¦‚ï¼š éœ€è¦æ³¨æ„ï¼šåŒé‡çš„preå’Œpostæ— æ•ˆï¼Œæ¯”å¦‚prepretestå’Œpostposttestæ˜¯æ— æ•ˆçš„ã€‚ 1234567{ &quot;scripts&quot;: { &quot;prehello&quot;: &quot;echo \\&quot; ---------- Run Pre Hello World ---------- \\&quot;&quot;, &quot;hello&quot;: &quot;echo \\&quot; ---------- Run Hello World ---------- \\&quot;&quot;, &quot;posthello&quot;: &quot;echo \\&quot; ---------- Run Post Hello World ---------- \\&quot;&quot; }} å¦‚æœæˆ‘ä»¬æ‰§è¡Œ npm run helloï¼Œnpm ä¼šæŒ‰ä»¥ä¸‹é¡ºåºæ‰§è¡Œè„šæœ¬: prehello, hello, posthelloã€‚è¾“å‡ºå¦‚ä¸‹ï¼š 12345678910111213141516$ npm run hello&gt; np-pub-test@1.0.5 prehello /Users/sea/workspace/personal/tem/np-pub-test&gt; echo &quot; ---------- Run Pre Hello World ---------- &quot; ---------- Run Pre Hello World ----------&gt; np-pub-test@1.0.5 hello /Users/sea/workspace/personal/tem/np-pub-test&gt; echo &quot; ---------- Run Hello World ---------- &quot; ---------- Run Hello World ----------&gt; np-pub-test@1.0.5 posthello /Users/sea/workspace/personal/tem/np-pub-test&gt; echo &quot; ---------- Run Post Hello World ---------- &quot; ---------- Run Post Hello World ---------- npm é»˜è®¤æä¾›ä¸‹é¢è¿™äº›é’©å­ã€‚ prepublishï¼Œpostpublish preinstallï¼Œpostinstall preuninstallï¼Œpostuninstall preversionï¼Œpostversion pretestï¼Œposttest prestopï¼Œpoststop prestartï¼Œpoststart prerestartï¼Œpostrestart æ³¨æ„ï¼Œä»npm@1.1.71å¼€å§‹ prepublishè¿™ä¸ªé’©å­ä¸ä»…ä¼šåœ¨npm publishå‘½ä»¤ä¹‹å‰è¿è¡Œï¼Œè¿˜ä¼šåœ¨npm installï¼ˆä¸å¸¦ä»»ä½•å‚æ•°ï¼‰å‘½ä»¤ä¹‹å‰è¿è¡Œï¼Œè¿™ç§è¡Œä¸ºå¾ˆå®¹æ˜“è®©ç”¨æˆ·æ„Ÿåˆ°å›°æƒ‘ï¼Œæ‰€ä»¥ npm 4 å¼•å…¥äº†ä¸€ä¸ªæ–°çš„é’©å­prepareï¼Œè¡Œä¸ºç­‰åŒäºprepublishï¼Œæ¥æ›¿ä»£ä¸Šè¿°åŠŸèƒ½ï¼Œå¦å¤–ä¸€ç§æ–°é’©å­prepublishOnlyä½œä¸ºæ›¿ä»£ç­–ç•¥ï¼Œè®©ç”¨æˆ·é¿å…ä»¥å¾€ npm ç‰ˆæœ¬çš„æ··ä¹±è¡Œä¸ºï¼ŒprepublishOnly åªåœ¨npm publishå‰æ‰§è¡Œï¼Œè€Œä» npm 5 å¼€å§‹ï¼Œprepublishå°†åªåœ¨npm publishå‘½ä»¤ä¹‹å‰è¿è¡Œï¼Œå³å–ä»£prepublishOnlyï¼Œæ‰€ä»¥ npm6 å³ä»¥åçš„ç‰ˆæœ¬ä¼šæ”¾å¼ƒprepublishOnlyã€‚ prepare: åœ¨ä¸¤ç§æƒ…å†µå‰è¿è¡Œï¼Œä¸€æ˜¯npm publishå‘½ä»¤å‰ï¼ŒäºŒæ˜¯ä¸å¸¦å‚æ•°çš„npm installå‘½ä»¤ï¼›å®ƒä¼šåœ¨prepublishä¹‹åã€prepublishOnlyä¹‹å‰æ‰§è¡Œ prepublishOnly: åœ¨npm publishå‘½ä»¤å‰æ‰§è¡Œ æ¼«é•¿çš„å†å²äº‰è®ºï¼šhttps://github.com/npm/npm/issues/10074 npm æä¾›ä¸€ä¸ªnpm_lifecycle_eventå˜é‡ï¼Œè¿”å›å½“å‰æ­£åœ¨è¿è¡Œçš„è„šæœ¬åç§°ï¼Œæ¯”å¦‚pretestã€testã€posttestç­‰ç­‰ã€‚æ‰€ä»¥ï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸ªå˜é‡ï¼Œåœ¨åŒä¸€ä¸ªè„šæœ¬æ–‡ä»¶é‡Œé¢ï¼Œä¸ºä¸åŒçš„npm scriptså‘½ä»¤ç¼–å†™ä»£ç ã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚ 1234567{ &quot;scripts&quot;: { &quot;pretest&quot;: &quot;node index.js&quot;, &quot;test&quot;: &quot;node index.js&quot;, &quot;posttest&quot;: &quot;node index.js&quot; }} 12345678910111213const TARGET = process.env.npm_lifecycle_event;if (TARGET === 'test') { console.log(`Running the test task!`);}if (TARGET === 'pretest') { console.log(`Running the pretest task!`);}if (TARGET === 'posttest') { console.log(`Running the posttest task!`);} è¿è¡Œå¦‚ä¸‹ï¼š 12345678910111213141516$ npm run test&gt; np-pub-test@1.0.5 pretest /Users/sea/workspace/personal/tem/np-pub-test&gt; node index.jsRunning the pretest task!&gt; np-pub-test@1.0.5 test /Users/sea/workspace/personal/tem/np-pub-test&gt; node index.jsRunning the test task!&gt; np-pub-test@1.0.5 posttest /Users/sea/workspace/personal/tem/np-pub-test&gt; node index.jsRunning the posttest task! ç®€å†™å½¢å¼å››ä¸ªå¸¸ç”¨çš„ npm è„šæœ¬æœ‰ç®€å†™å½¢å¼ã€‚ npm startæ˜¯npm run start npm stopæ˜¯npm run stopçš„ç®€å†™ npm testæ˜¯npm run testçš„ç®€å†™ npm restartæ˜¯npm run stop &amp;&amp; npm run restart &amp;&amp; npm run startçš„ç®€å†™ npm startã€npm stopå’Œnpm restartéƒ½æ¯”è¾ƒå¥½ç†è§£ï¼Œè€Œnpm restartæ˜¯ä¸€ä¸ªå¤åˆå‘½ä»¤ï¼Œå®é™…ä¸Šä¼šæ‰§è¡Œä¸‰ä¸ªè„šæœ¬å‘½ä»¤ï¼šstopã€restartã€startã€‚å…·ä½“çš„æ‰§è¡Œé¡ºåºå¦‚ä¸‹ã€‚ prerestart prestop stop poststop restart prestart start poststart postrestart å˜é‡åœ¨æ‰§è¡Œ NPM è„šæœ¬æ—¶ï¼ŒNPM æä¾›äº†ä¸€ç»„æˆ‘ä»¬å¯ä»¥ä½¿ç”¨çš„ç¯å¢ƒå˜é‡ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ 1npm_config_&lt;val&gt; æˆ–è€… npm_package_&lt;val&gt; é€šè¿‡npm_config_å‰ç¼€ï¼Œæ‹¿åˆ° npm çš„é…ç½®å˜é‡ï¼Œå³npm config get xxxå‘½ä»¤è¿”å›çš„å€¼ é€šè¿‡npm_package_å‰ç¼€ï¼Œnpm è„šæœ¬å¯ä»¥æ‹¿åˆ°package.jsoné‡Œé¢çš„å­—æ®µã€‚ envå‘½ä»¤å¯ä»¥åˆ—å‡ºæ‰€æœ‰ç¯å¢ƒå˜é‡ ä¾‹å¦‚ï¼š 12345678910{ &quot;name&quot;: &quot;xxx&quot;, &quot;version&quot;: &quot;0.0.1&quot;, &quot;description&quot;: &quot;&quot;, &quot;main&quot;: &quot;index.js&quot;, &quot;files&quot;: [&quot;index.js&quot;], &quot;scripts&quot;: { &quot;test&quot;: &quot;node index.js&quot; }} 12345// index.jsconsole.log(process.env.npm_package_name); // xxxconsole.log(process.env.npm_package_version); // 0.0.1console.log(process.env.npm_config_node_version); // 14.18.1console.log(process.env); // env {....}ï¼Œåˆ—å‡ºæ‰€æœ‰ç¯å¢ƒå˜é‡ ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ç¯å¢ƒå˜é‡process.envå¯¹è±¡ï¼Œæ‹¿åˆ°package.jsonçš„å­—æ®µå€¼ã€‚å¦‚æœæ˜¯ Bash è„šæœ¬ï¼Œå¯ä»¥ç”¨$npm_package_nameå’Œ$npm_package_versionå–åˆ°è¿™ä¸¤ä¸ªå€¼ã€‚ npm_package_å‰ç¼€ä¹Ÿæ”¯æŒåµŒå¥—çš„package.jsonå­—æ®µã€‚ 1234567891011121314{ &quot;name&quot;: &quot;xxx&quot;, &quot;version&quot;: &quot;0.0.1&quot;, &quot;description&quot;: &quot;&quot;, &quot;main&quot;: &quot;index.js&quot;, &quot;files&quot;: [&quot;index.js&quot;], &quot;scripts&quot;: { &quot;test&quot;: &quot;node index.js&quot;, &quot;echo:test&quot;: &quot;echo name: $npm_package_name &amp;&amp; echo np version: $npm_package_devDependencies_np&quot; }, &quot;devDependencies&quot;: { &quot;np&quot;: &quot;^7.6.0&quot; }} è¿è¡Œå¦‚ä¸‹ï¼š 1234567$ npm run echo:test&gt; xxx@0.0.1 echo:test /Users/sea/workspace/personal/tem/np-pub-test&gt; echo name: $npm_package_name &amp;&amp; echo np version: $npm_package_devDependencies_npname: xxxnp version: ^7.6.0 æœ€åï¼Œenvå‘½ä»¤å¯ä»¥åˆ—å‡ºæ‰€æœ‰ç¯å¢ƒå˜é‡ã€‚ 12345{ &quot;scripts&quot;: { &quot;env&quot;: &quot;env&quot; }} å‘½åè§„åˆ™å‰ç¼€æœ‰äº›å¼€æºé¡¹ç›®æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä»–çš„ script è„šæœ¬æ˜¯å¸¦æœ‰å‰ç¼€çš„ï¼Œ è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¥½çš„å‘½åè§„åˆ™ï¼Œ é€šè¿‡:devï¼Œ :prod æ¥åŒºåˆ†ç¯å¢ƒï¼Œ å¦‚ä¸‹ï¼š 123456{ &quot;scripts&quot;: { &quot;build:dev&quot;: &quot;...&quot;, // å¼€å‘ç¯å¢ƒ &quot;build:prod&quot;: &quot;...&quot; // ç”Ÿäº§ç¯å¢ƒ }} æ›´å¤šè¯¦æƒ…è¯·æŸ¥çœ‹å®˜ç½‘ npm scripts å‚è€ƒé“¾æ¥ scripts ä½ è¦çŸ¥é“çš„ Npm Script éƒ½åœ¨è¿™é‡Œ npm scripts ä½¿ç”¨æŒ‡å— npm scripts å®˜æ–¹æ–‡æ¡£ï¼ˆè¯‘ï¼‰","link":"/articles/2022/01/27/npm-script/"},{"title":"é˜…è¯» only-allow","text":"ä¸€è¡Œä»£ç ç»Ÿä¸€è§„èŒƒåŒ…ç®¡ç†å™¨: only-allowï¼Œå¼ºåˆ¶åœ¨é¡¹ç›®ä¸Šä½¿ç”¨ç‰¹å®šçš„åŒ…ç®¡ç†å™¨ åœºæ™¯åœ¨å®é™…å¼€å‘æ—¶ï¼Œå¾€å¾€éœ€è¦é™å®šåŒ…ç®¡ç†å™¨ï¼Œæ¥ä¿è¯åŒæ ·çš„å¼€å‘ã€‚ä½†æ˜¯è¿™ç§é€šå¸¸éƒ½æ˜¯å£å¤´ç›¸ä¼ ï¼Œå¹¶æ²¡æœ‰å¼ºåˆ¶çº¦æŸï¼Œå› æ­¤å°±æœ‰äº†æœ¬æ–‡çš„only-allow only-allow ä»‹ç» Force a specific package manager to be used on a project å¼ºåˆ¶åœ¨é¡¹ç›®ä¸Šä½¿ç”¨ç‰¹å®šçš„åŒ…ç®¡ç†å™¨ã€‚ å¦‚ï¼šå¼ºåˆ¶ä½¿ç”¨ yarn 12345{ &quot;scripts&quot;: { &quot;preinstall&quot;: &quot;npx only-allow yarn&quot; }} æ³¨ï¼šnpm å‘½ä»¤é’©å­ preinstall: åœ¨npm installå‘½ä»¤å‰æ‰§è¡Œ install,postinstallï¼š åœ¨npm installå‘½ä»¤åæ‰§è¡Œ æºç æˆ‘ä»¬é€šè¿‡æŸ¥çœ‹ package.json æ–‡ä»¶ã€‚ 123{ &quot;bin&quot;: &quot;bin.js&quot;} ç¡®å®šå…¥å£æ–‡ä»¶ï¼šbin.js 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657#!/usr/bin/env nodeconst whichPMRuns = require('which-pm-runs');const boxen = require('boxen');const argv = process.argv.slice(2);if (argv.length === 0) { console.log('Please specify the wanted package manager: only-allow &lt;npm|pnpm|yarn&gt;'); process.exit(1);}// ç”¨æˆ·è§„å®šçš„åŒ…ç®¡ç†å™¨ï¼Œä¾‹å¦‚ npx only-allow yarn ï¼Œé‚£ä¹ˆwantedPM ä¸º yarnconst wantedPM = argv[0];if (wantedPM !== 'npm' &amp;&amp; wantedPM !== 'pnpm' &amp;&amp; wantedPM !== 'yarn') { console.log(`&quot;${wantedPM}&quot; is not a valid package manager. Available package managers are: npm, pnpm, or yarn.`); process.exit(1);}// ç”¨æˆ·å½“å‰å®‰è£…æ—¶ ä½¿ç”¨çš„åŒ…ç®¡ç†å™¨const usedPM = whichPMRuns();// å¸Œæœ›ä½¿ç”¨çš„åŒ…ç®¡ç†å™¨ ä¸ç›¸ç­‰ï¼Œåˆ™æŠ¥é”™ã€‚// - npm æç¤ºä½¿ç”¨ npm install// - pnpm æç¤ºä½¿ç”¨ pnpm install// - yarn æç¤ºä½¿ç”¨ yarn install// æœ€åé€€å‡ºè¿›ç¨‹if (usedPM &amp;&amp; usedPM.name !== wantedPM) { // boxenOPts: boxen çš„é…ç½® // boxen èƒ½è®©terminalçš„è¾“å‡ºå±•ç¤ºç›’è£…çš„æ ·å¼,è®©ç»ˆç«¯æç¤ºæ›´æ˜æ˜¾ const boxenOpts = { borderColor: 'red', borderStyle: 'double', padding: 1 }; switch (wantedPM) { case 'npm': console.log(boxen('Use &quot;npm install&quot; for installation in this project', boxenOpts)); break; case 'pnpm': console.log( boxen( `Use &quot;pnpm install&quot; for installation in this project.If you don't have pnpm, install it via &quot;npm i -g pnpm&quot;.For more details, go to https://pnpm.js.org/`, boxenOpts ) ); break; case 'yarn': console.log( boxen( `Use &quot;yarn&quot; for installation in this project.If you don't have Yarn, install it via &quot;npm i -g yarn&quot;.For more details, go to https://yarnpkg.com/`, boxenOpts ) ); break; } process.exit(1);} å…¶ä¸­ä½¿ç”¨åˆ° boxen: è®© terminalçš„è¾“å‡ºå±•ç¤ºç›’è£…çš„æ ·å¼ï¼Œè®©ç»ˆç«¯æç¤ºæ›´æ˜æ˜¾ which-pm-runs: å½“å‰è¿è¡Œçš„æ˜¯å“ªä¸€ä¸ªåŒ…ç®¡ç†å™¨ which-pm-runs æºç æºç æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œä¸€èµ·è®²ä¸‹ï¼š 12345678910111213141516171819'use strict';module.exports = function () { if (!process.env.npm_config_user_agent) { return undefined; } return pmFromUserAgent(process.env.npm_config_user_agent);};// process.env.npm_config_user_agent: pnpm/6.22.2 npm/? node/v14.18.1 darwin x64// è·å–åˆ°å½“å‰è¿è¡Œè„šæœ¬çš„åŒ…ç®¡ç†å™¨å’Œç‰ˆæœ¬å·function pmFromUserAgent(userAgent) { const pmSpec = userAgent.split(' ')[0]; const separatorPos = pmSpec.lastIndexOf('/'); return { name: pmSpec.substr(0, separatorPos), version: pmSpec.substr(separatorPos + 1), };} æ€»ç»“æœ€åï¼Œåœ¨ only-allow ä¸Šå¯æŸ¥çœ‹æœ¬ç¯‡æºç æ–‡ç« ~ å‚è€ƒé“¾æ¥ only-allow scripts ä» vue3 å’Œ vite æºç ä¸­ï¼Œæˆ‘å­¦åˆ°äº†ä¸€è¡Œä»£ç ç»Ÿä¸€è§„èŒƒå›¢é˜ŸåŒ…ç®¡ç†å™¨çš„ç¥å™¨","link":"/articles/2022/01/25/only-allow/"},{"title":"ä½¿ç”¨ renovate ç›‘æ§ç¬¬ä¸‰æ–¹ä¾èµ–æ›´æ–°","text":"èƒŒæ™¯å½“ä¸€ä¸ªå…¬å…±ä¾èµ–åŒ…çš„ä½¿ç”¨è€…æ•°é‡é€æ¸åºå¤§çš„æ—¶å€™ï¼Œå¦‚ä½•ä¿è¯å½“æ­¤åŒ…å‘å¸ƒæ–°ç‰ˆæœ¬æ—¶ï¼Œæ‰€æœ‰ä½¿ç”¨è€…éƒ½èƒ½å°½å¯èƒ½å¿«åœ°å¾—åˆ°æ›´æ–°ï¼Ÿæˆ–è€…å¦‚ä½•ä¿è¯è‡ªå·±ä»“åº“çš„ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“ä¸€ç›´ä¿æŒå®‰å…¨æƒ…å†µä¸‹çš„æœ€æ–°çŠ¶æ€å‘¢ï¼Ÿ ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆï¼š æ‰‹å·¥å¯¹æ‰€æœ‰é¡¹ç›®é€ä¸ªå‡çº§ã€‚è¿™ç§åŠæ³•ç›¸å½“ç¹çï¼Œä¸”å®¹æ˜“äº§ç”Ÿé—æ¼ï¼Œå½“é¡¹ç›®æ•°é‡è¶³å¤Ÿåºå¤§çš„æ—¶å€™ï¼Œå‘å¸ƒä¸€æ¬¡å°†ä¼šæ˜¯ç›¸å½“ç—›è‹¦çš„ä½“éªŒï¼Œè€Œä¸”å¯¹äº lerna + monorepo è€Œè¨€ï¼Œyarn çš„ upgrade-interactive å¯¹ monorepo æ²¡æœ‰å¾ˆå¥½çš„æ”¯æŒï¼› åœ¨ä¾èµ–å®‰è£…æ—¶æŒ‡å®šç‰ˆæœ¬ä¸º latestï¼Œè¿™ç§åŠæ³•è™½ç„¶èƒ½ä¿è¯æ¯æ¬¡å®‰è£…æ—¶éƒ½èƒ½å¾—åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œä½†æ˜¯å´æœ‰è¯¸å¤šå¼Šç«¯ï¼Œå¦‚ï¼š æ— æ³•ä¿è¯ä¾èµ–çš„å®‰å…¨æ€§ï¼Œæœ‰å¯èƒ½ä¸€æ¬¡æ›´æ–°ä¸æ…é€ æˆå¤§é¢ç§¯çš„ç˜«ç—ªï¼› å¯¹ã€Œä¾èµ–é”ã€ä¸å‹å¥½ï¼Œå¦‚ yarn.lock ç­‰ã€‚ å› æ­¤ï¼Œå¦‚ä½•ä½¿è¿™ä¸ªè¿‡ç¨‹å˜å¾—ä¼˜é›…ï¼Œæ˜¯ä¸€ä¸ªäºŸå¾…è§£å†³çš„é—®é¢˜ã€‚ ç»è¿‡è°ƒç ”å‘ç°æœ‰å¦‚ä¸‹å‡ ç§æ–¹å¼å¯ä»¥ç¡®ä¿ç¬¬ä¸‰æ–¹åŒ…æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚ Dependabot Renovate æœ¬ç¯‡æ–‡ç« å°†ä¼šä»‹ç»å¦‚ä½•ä½¿ç”¨ Renovate ï¼Œå…³äºä»–ä¿©çš„ä½¿ç”¨åŒºåˆ«å¯ä»¥å‚è€ƒæ­¤æ–‡ç« ã€ŠTry to update your dependencies with Renovate or Dependabotã€‹ RenovateRenovate æ˜¯ä¸€ä¸ªä¸“æ³¨äºè§£å†³ä¾èµ–é—®é¢˜çš„åº“ï¼Œè‡ªåŠ¨åŒ–çš„ä¾èµ–é¡¹æ›´æ–°ï¼Œå¤šå¹³å°å’Œå¤šè¯­è¨€ã€‚ç›®å‰åœ¨ Github ä¸Šä»¥ Github Apps çš„å½¢å¼ï¼Œå¯ä»¥ä¸ºæ¥å…¥æ­¤ Apps çš„é¡¹ç›®æä¾›ä¾èµ–æ›´æ–°ç›‘æ§ç›¸å…³çš„æœåŠ¡ã€‚ Renovate ä½¿ç”¨ä½“éªŒå®‰è£… renovateåœ¨æ­¤ç½‘ç«™ https://github.com/apps/renovate ç‚¹å‡»å®‰è£…å³å¯ã€‚ Configure Renovate Prå®‰è£… renovate ä¹‹åæ— é¡»æ‰‹åŠ¨æ“ä½œï¼Œç­‰å¾…å³å¯ã€‚ æ­¤æ—¶ renovate å°†ä¼šæ‰«æä½ æˆäºˆæƒé™çš„ä»“åº“ï¼Œåšä¸€äº›ç®€è¦åˆ†æï¼Œåˆ†æä½ çš„å„ä¸ªé¡¹ç›®ä¸»åŠ›è¯­è¨€ã€ä¾èµ–ç®¡ç†æ–¹å¼ï¼Œä¹‹åå°†ä¼šå¯¹å“ªäº›å¯ä»¥è¢«é€šè¿‡ renovate ç®¡æ§æ›´æ–°ä¾èµ–çš„ä»“åº“ï¼Œåˆ†åˆ«æäº¤ä¸€ä»½ Pull Requestã€‚ è¿™ä¸ª Pull Request çš„æ ‡é¢˜å«åš Configure Renovateï¼Œä¸­é—´é™„å¸¦äº†ä¸€ä¸ªæ–‡ä»¶æ›´å˜ï¼Œä¾¿æ˜¯ä»–ä¼šåœ¨é¡¹ç›®çš„æ›´ç›®å½•ä¸‹æ·»åŠ  renovate çš„é…ç½®æ–‡ä»¶ï¼Œåä¸º renovate.json ã€‚ è¿™ä¸ªé…ç½®æ–‡ä»¶æè¿°äº†ä¸€äº› renovate ç®¡ç†æ­¤ä»“åº“ä¾èµ–çš„ç›¸å…³é€‰é¡¹ï¼Œé»˜è®¤ç”Ÿæˆçš„ config:base å·²ç»èƒ½å¤Ÿæ»¡è¶³æ—¥å¸¸éœ€è¦ã€‚ å¦‚æœå¼€å‘è€…å¾ˆä¸çˆ½åœ¨é¡¹ç›®æ ¹ç›®å½•å¢æ·»è¿™æ ·ä¸€ä¸ª json é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥æŒ‰ç…§ä»–ä»¬å®˜æ–¹é…ç½®å‘ç°çš„ç›®å½•æŸ¥æ‰¾é¡ºåºï¼Œç§»å…¥åˆ° .github ç›®å½•ä¸‹ã€‚(å…·ä½“æŸ¥æ‰¾è§„åˆ™ï¼Œå®˜æ–¹æœ‰è¾ƒä¸ºè¯¦ç»†çš„è¯´æ˜æ–‡æ¡£) Pin Pr (Pr: Pin Dependenciesã€‚)åœ¨ Configure Renovate Pr è¢«åˆå¹¶åï¼Œå‘èµ·ä¸€ä¸ª Pin Prï¼Œå°†é¡¹ç›®ä¸­ç”¨åˆ°çš„ä¾èµ–çš„ç‰ˆæœ¬é”å®šï¼Œå¯¹äº package.json æ¥è¯´ï¼Œå³å»é™¤ä»»ä½•æ¨¡ç³Šçš„é€šé…ç¬¦ï¼Œå¦‚ ^ / ~ ç­‰ï¼Œæ”¹ç”¨ç²¾ç¡®çš„ç‰ˆæœ¬å·ã€‚åœ¨è¿™ä¸ª PR è¢«åˆå¹¶å‰ï¼Œä¸ä¼šæœ‰ä»»ä½•åç»­æ“ä½œã€‚ Update Dependenciesæ—¥å¸¸çš„ç›‘æ§ä¾èµ–æ›´æ–°ã€‚ Pin Pr è¢«åˆå¹¶åï¼Œå¼€å§‹å‘¨æœŸæ€§åœ°æ£€ç´¢ä¾èµ–ã€‚å½“å‘ç°æœ‰æ›´æ–°æ—¶ï¼Œä¸ºæ¯ä¸ªä¾èµ–ï¼ˆæˆ–ä¾èµ–ç¾¤ï¼‰æ›´æ–°å‘èµ·ä¸€ä¸ª Prï¼ˆç¤ºä¾‹ï¼‰ï¼Œå†…å®¹åŒ…å«ä¾èµ–å®šä¹‰æ–‡ä»¶ï¼ˆå¦‚ package.jsonï¼‰ ä¸ä¾èµ–é”æ–‡ä»¶ï¼ˆå¦‚ yarn.lockï¼‰ å¦‚æœç”¨æˆ·æƒ³è¦åšæœ¬æ¬¡å‡çº§ï¼Œå°†å…¶åˆå¹¶å³å¯ã€‚å°†æ¥å¦‚æœè¯¥ä¾èµ–å†æ¬¡æœ‰æ›´æ–°å¯ç”¨ï¼Œä¼šå†æ¬¡ç”Ÿæˆæ–°çš„ PRï¼› å¦‚æœç”¨æˆ·ä¸æƒ³åšæœ¬æ¬¡å‡çº§ï¼Œä¸ç†ä¼šæˆ–å°†å…¶å…³é—­å³å¯ï¼š è‹¥ä¸ç†ä¼šï¼Œåœ¨å°†æ¥è¯¥ä¾èµ–å†æ¬¡å‡çº§æ—¶ï¼ŒRenovate ä¼šæ›´æ–°è¯¥ PR è‡³æ–°ç‰ˆæœ¬ï¼› è‹¥å…³é—­ï¼ŒRenovate å°†å¿½ç•¥è¯¥ç‰ˆæœ¬ï¼Œä¸å†å‘èµ· PRã€‚ ä»¥ä¸Šåªæ˜¯å¤§è‡´æµç¨‹ï¼Œå®é™…ä¸Š Renovate è¿˜æœ‰éå¸¸å¤šçš„é…ç½®é¡¹å¯ä»¥å‘æ˜ï¼Œå¯ä»¥æä¾›é«˜åº¦å®šåˆ¶åŒ–çš„ä½¿ç”¨ä½“éªŒã€‚ å‚è€ƒé“¾æ¥ Renovate Renovate Doc ä½¿ç”¨ renovate ç›‘æ§ç¬¬ä¸‰æ–¹ä¾èµ–æ›´æ–° Integrate Renovate with GitLab Try to update your dependencies with Renovate or Dependabot","link":"/articles/2022/02/09/renovate/"},{"title":"Git ä»“åº“ç˜¦èº«","text":"éšç€æ—¶é—´çš„æ¨ç§»ï¼ŒGit å­˜å‚¨åº“å˜å¾—è¶Šæ¥è¶Šå¤§ï¼Œæˆ–è€…è‡ªå·±è¯¯æ“ä½œï¼ŒæŠŠ node_moduolesã€.yarnã€.DS_Sore è¿™ç§å¤§æ–‡ä»¶ä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“ä¸­ï¼Œè™½ç„¶åæœŸæŠŠä»–ä»¬ç§»é™¤äº†ï¼Œä½†è¿˜æ˜¯ä¼šä½¿ä»“åº“ä½“ç§¯å˜å¤§ï¼Œè·å–ä»“åº“å˜å¾—æ›´æ…¢ï¼Œæ¯ä¸ªäººéƒ½å¿…é¡»ä¸‹è½½æ–‡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ç¼©å‡ Git ä»“åº“ä½“ç§¯ã€‚ ï¼ˆè™½ç„¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ git clone --depth=1 --single-branch https://gitlab.example.com/&lt;namespace&gt;/&lt;project_name&gt;.git ï¼Œå¿«é€Ÿæ‹‰å–ä»£ç ï¼Œä½†ä¾ç„¶å‡å°‘ä¸äº†è¿œç¨‹ä»“åº“ä½“ç§¯ï¼‰ å‰ç½®æ¡ä»¶ å®‰è£… git-filter-repo (é‡å†™ä»“åº“åˆ é™¤ä¸éœ€è¦çš„å†å²è®°å½•ä»¥ç¼©å°ä»“åº“ï¼Œæ›´å¤šç”¨æ³•å‚è€ƒExamples) 1$ brew install git-filter-repo åˆ†æç°æœ‰ä»“åº“ top 100 å¤§æ–‡ä»¶ 1$ git rev-list --objects --all | grep &quot;$(git verify-pack -v .git/objects/pack/*.idx | sort -k 3 -n | tail -100 | awk '{print $1}')&quot; ç¤ºä¾‹å¦‚ä¸‹ï¼Œè¿è¡Œdu -shå¯ä»¥çœ‹åˆ°å½“å‰ä»“åº“å¤§å°ä¸º 82Mã€‚ .gitæ–‡ä»¶å¤¹ä¸º81M â€‹ å½“å‰ä»“åº“ top 100 çš„å¤§æ–‡ä»¶: å¯ä»¥çœ‹å‡ºï¼Œå¤§æ–‡ä»¶å¤šæ•°é›†ä¸­åœ¨.yarnæ–‡ä»¶å¤¹å†…ã€‚ è€Œè¿™ä¸ªæ–‡ä»¶å¤¹å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œæ˜¯ä¸éœ€è¦ä½¿ç”¨ git ç®¡ç†çš„ã€‚ åº”è¯¥æ˜¯æ—©æœŸä¸è§„èŒƒæˆ–è€…è¯¯æ“ä½œç»™ä¸Šä¼ åˆ°äº†ä»“åº“é‡Œã€‚ è™½ç„¶è¿™ä¸ªæ–‡ä»¶å¤¹ç°åœ¨å·²ç»è¢«åˆ é™¤äº†ï¼Œä½†æ˜¯æäº¤è®°å½•è¿˜åœ¨ã€‚ ç˜¦èº«æ“ä½œå‰æœŸå‡†å¤‡å·¥ä½œæˆ‘ä»¬å·²ç»å®Œæˆäº†ï¼Œç›®çš„å¾ˆæ˜ç¡®ï¼Œæ¸…æ¥šå†å²ä¸­çš„.yarnæ–‡ä»¶ï¼Œæ¥ä¸‹æ¥å¼€å§‹ç˜¦èº«å·¥ä½œã€‚ Export project ç”Ÿæˆä¸€ä¸ªæ–°çš„é¡¹ç›®å¯¼å‡ºå¹¶ä¸‹è½½å®ƒã€‚æ­¤é¡¹ç›®å¯¼å‡ºåŒ…å«ä½ çš„å­˜å‚¨åº“å’Œ refs çš„å¤‡ä»½å‰¯æœ¬ï¼Œæˆ‘ä»¬ç”¨äºä»ä½ çš„ä»“åº“ä¸­æ¸…é™¤æ–‡ä»¶ã€‚ â€‹ ä½¿ç”¨ tar è§£å‹åˆšæ‰çš„å¯¼å‡ºé¡¹ç›® 1$ tar xzf project-backup.tar.gz ä½¿ç”¨ --bare å’Œ --mirror é€‰é¡¹ä»åŒ…ä¸­å…‹éš†ä¸€ä¸ªæ–°çš„ä»“åº“å‰¯æœ¬ï¼š 1$ git clone --bare --mirror /path/to/project.bundle å¯¼èˆªåˆ° project.git ç›®å½• ä½¿ç”¨ git filter-repo ï¼Œåˆ†ææ‚¨çš„ä»“åº“å¹¶æŸ¥çœ‹ç»“æœï¼Œç¡®å®šæ‚¨è¦æ¸…é™¤å“ªäº›é¡¹ç›®ï¼š(å¯ä»¥å¿½ç•¥ï¼Œå‰é¢å·²ç¡®å®šè¦åˆ é™¤çš„æ–‡ä»¶ä¸º.yarn) 1$ git filter-repo --analyze ä½¿ç”¨ git filter-repo æ¸…é™¤ä»“åº“å†å²è®°å½•ä¸­çš„æ–‡ä»¶ã€‚å› ä¸ºæˆ‘ä»¬è¯•å›¾åˆ é™¤å†…éƒ¨ refsï¼Œæ‰€ä»¥æˆ‘ä»¬ä¾é æ¯æ¬¡è¿è¡Œäº§ç”Ÿçš„ commit-map æ¥å‘Šè¯‰æˆ‘ä»¬è¦åˆ é™¤å“ªäº›å†…éƒ¨ refsã€‚ æ¸…é™¤ç‰¹å®šæ–‡ä»¶ï¼š.yarn(æ›´å¤šç”¨æ³•å‚è€ƒExamples) 1$ git filter-repo --path-glob '.yarn/*' --invert-paths --force ç§»é™¤æ–‡ä»¶ä¹‹åï¼Œå¯ä»¥å‘ç°æœ¬åœ°ä»“åº“å¤§å°å·²ç¼©å‡è‡³ 1Mï¼Œç˜¦èº«å¾ˆæ˜æ˜¾ git filter-repo æ¯æ¬¡è¿è¡Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ commit-map æ–‡ä»¶ï¼Œå¹¶è¦†ç›–ä¸Šä¸€æ¬¡è¿è¡Œä¸­çš„ commit-mapã€‚æ¯æ¬¡è¿è¡Œéƒ½éœ€è¦æ­¤æ–‡ä»¶ã€‚æ¯æ¬¡è¿è¡Œ git filter-repo æ—¶éƒ½æ‰§è¡Œä¸‹ä¸€æ­¥ã€‚ å˜æ›´è¿œç¨‹ä»“åº“å‰é¢æ“ä½œçš„éƒ½æ˜¯æœ¬åœ°æ–‡ä»¶ï¼Œéœ€è¦æäº¤å˜æ›´è®°å½•åˆ°è¿œç¨‹ã€‚ å› ä¸ºä»åŒ…æ–‡ä»¶å…‹éš†ä¼šå°† origin è¿œç«¯è®¾ç½®ä¸ºæœ¬åœ°åŒ…æ–‡ä»¶ï¼Œåˆ é™¤è¿™ä¸ª origin è¿œç«¯ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºæ‚¨çš„ä»“åº“çš„ URLï¼š 12$ git remote remove origin$ git remote add origin https://gitlab.example.com/&lt;namespace&gt;/&lt;project_name&gt;.git å¼ºåˆ¶æ¨é€ä½ çš„æ›´æ”¹ä»¥è¦†ç›– GitLab ä¸Šçš„æ‰€æœ‰åˆ†æ”¯ï¼š 1$ git push origin --force 'refs/heads/*' å—ä¿æŠ¤çš„åˆ†æ”¯ ä¼šå¯¼è‡´å¤±è´¥ã€‚è¦ç»§ç»­ï¼Œæ‚¨å¿…é¡»ç§»é™¤åˆ†æ”¯ä¿æŠ¤ã€æ¨é€ï¼Œç„¶åé‡æ–°å¯ç”¨å—ä¿æŠ¤çš„åˆ†æ”¯ã€‚ è¦ä»æ ‡ç­¾ç‰ˆæœ¬ä¸­åˆ é™¤å¤§æ–‡ä»¶ï¼Œè¯·å¼ºåˆ¶å°†æ‚¨çš„æ›´æ”¹æ¨é€åˆ° GitLab ä¸Šçš„æ‰€æœ‰æ ‡ç­¾ï¼š 1$ git push origin --force 'refs/tags/*' å—ä¿æŠ¤çš„æ ‡ç­¾ ä¼šå¯¼è‡´å¤±è´¥ã€‚è¦ç»§ç»­ï¼Œæ‚¨å¿…é¡»ç§»é™¤æ ‡ç­¾ä¿æŠ¤ã€æ¨é€ï¼Œç„¶åé‡æ–°å¯ç”¨å—ä¿æŠ¤çš„æ ‡ç­¾ã€‚ ä¸ºäº†é˜²æ­¢ä¸å†å­˜åœ¨çš„æäº¤çš„æ­»é“¾æ¥ï¼Œæ¨é€ç”± git filter-repo åˆ›å»ºçš„ refs/replaceã€‚ 1$ git push origin --force 'refs/replace/*' ğŸ“¢ ç­‰å¾…è‡³å°‘ 30 åˆ†é’Ÿï¼Œå› ä¸ºä»“åº“æ¸…ç†æµç¨‹åªå¤„ç†è¶…è¿‡ 30 åˆ†é’Ÿçš„å¯¹è±¡ã€‚ è¿è¡Œä»“åº“æ¸…ç† ä»“åº“æ¸…ç†ä¸Šä¼  commit-map æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯git filter-repoæ‰§è¡Œè¿‡ç¨‹ä¸­ç”Ÿæˆçš„ï¼Œç‚¹å‡»å¼€å§‹æ¸…ç†ã€‚ å¦‚æœæ‚¨çš„ commit-map æ–‡ä»¶å¤§äº 250KB æˆ– 3000 è¡Œï¼Œåˆ™å¯ä»¥å°†æ–‡ä»¶æ‹†åˆ†å¹¶é€ä¸ªä¸Šä¼ ï¼š 1$ split -l 3000 filter-repo/commit-map filter-repo/commit-map- æœ€åç­‰å¾…è¿œç¨‹ä»“åº“æ¸…ç†å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å†é‡æ–° clone ä¸€ä»½ä»£ç ï¼Œå¯ä»¥å¾ˆæ˜æ˜¾çš„å‘ç°å…‹éš†é€Ÿåº¦å˜å¿«äº†è®¸å¤šï¼Œä»“åº“ä½“ç§¯å‡å°äº† ç˜¦èº«å‰ï¼š ç˜¦èº«åï¼š æ³¨æ„ ğŸ“¢ï¼š æ“ä½œå‰é€šçŸ¥æ‰€æœ‰äººå°†æ‰‹å¤´ä»£ç æäº¤åˆ°è¿œç¨‹ å¼€å§‹æ“ä½œåï¼Œç¦æ­¢å¤§å®¶æäº¤ä»£ç  æ“ä½œå®Œé€šçŸ¥å¤§å®¶é‡æ–° clone è®°å¾—è¡¥å…… .gitignore &amp; è¿˜åŸè®¾ç½®ã€‚ï¼ˆå—ä¿æŠ¤çš„åˆ†æ”¯ã€tags ç»§ç»­ä¿æŠ¤èµ·æ¥ï¼‰ å‚è€ƒé“¾æ¥ å‡å°‘ä»“åº“å¤§å° Reduce repository size Git ç˜¦èº«","link":"/articles/2022/11/16/reduce-git-repo/"},{"title":"è½¯åˆ é™¤å’Œå”¯ä¸€ç´¢å¼•","text":"èƒŒæ™¯ç›®å‰åŸºæœ¬ä¸Šåœ¨ä½¿ç”¨æ•°æ®åº“æ—¶ï¼Œéƒ½ä¼šä½¿ç”¨åˆ°è½¯åˆ é™¤ï¼ˆé€»è¾‘åˆ é™¤ï¼‰ï¼Œä½†å½“è½¯åˆ é™¤ä¸å”¯ä¸€ç´¢å¼•ï¼ˆunique-keyï¼‰ä¸€èµ·å­˜åœ¨æ—¶å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ã€‚ ä¸¾ä¸ªä¾‹å­ ğŸŒ°ï¼š å½“è¡¨ç»“æ„ä¸ºï¼š 123456789CREATE TABLE `users` ( `id` int NOT NULL AUTO_INCREMENT, `name` varchar(45) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `deleted_at` datetime DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `name` (`name`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci å…¶ä¸­ name å­—æ®µä¸º å”¯ä¸€ç´¢å¼•ï¼Œdeleted_at ä¸ºè½¯åˆ é™¤æ—¶é—´ã€‚ é¦–å…ˆæˆ‘ä»¬å…ˆæ’å…¥ä¸€æ¡æ•°æ®ï¼š 1INSERT INTO `rocket_test`.`users` (`name`, `created_at`, `updated_at`) VALUES ('myName', '2022-01-10 16:30:10', '2022-01-10 16:30:10'); ç„¶åæˆ‘ä»¬å†å°†è¿™æ¡æ•°æ®ä»¥è½¯åˆ é™¤çš„æ–¹å¼åˆ æ‰ï¼š 1UPDATE `rocket_test`.`users` SET `deleted_at` = '2022-01-10 16:40:10' WHERE (`id` = '1'); æ•°æ®åº“æ­¤æ—¶çŠ¶æ€ï¼š å½“æˆ‘ä»¬æƒ³å†æ¬¡æ’å…¥ name ä¸º myName çš„æ•°æ®æ—¶å°±ä¼šå‘ç”Ÿå”¯ä¸€ç´¢å¼•å†²çªï¼š 1INSERT INTO `rocket_test`.`users` (`name`, `created_at`, `updated_at`) VALUES ('myName', '2022-01-10 16:30:10', '2022-01-10 16:30:10'); Error Code: 1062. Duplicate entry â€˜myNameâ€™ for key â€˜users.nameâ€™ åŸå› ç›¸ä¿¡å¤§å®¶éƒ½å¾ˆæ¸…æ¥šï¼Œè¿™æ˜¯ç”±äºè½¯åˆ é™¤æ—¶å¹¶æœªçœŸæ­£çš„åˆ é™¤è¡¨ä¸­çš„æ•°æ®ï¼Œå“ªæ€•æ­¤æ—¶æˆ‘ä»¬åœ¨ä¸šåŠ¡å±‚åšäº†å”¯ä¸€æ€§æ ¡éªŒä¾ç„¶ä¼šå‡ºç°è¿™ç§é—®é¢˜ã€‚å› ä¸ºå”¯ä¸€æ€§æ ¡éªŒçš„ SQL é»˜è®¤ä¼šæ‹¼æ¥ä¸Šdeleted_atç´¢å¼•å­—æ®µï¼Œå¯¼è‡´æ— æ³•æŸ¥å‡ºç›¸åº”æ•°æ®ï¼Œæœ€ç»ˆå¼•å‘äº†Duplicate entry 'myName' for key 'users.name' å”¯ä¸€æ ¡éªŒ SQLï¼š 1SELECT * FROM rocket_test.users WHERE deleted_at IS NULL AND name=&quot;myName&quot;; å¦‚ä½•å¤„ç†ï¼Ÿ å»é™¤å”¯ä¸€ç´¢å¼•ï¼Œä¸šåŠ¡å±‚åšå®Œå–„æ ¡éªŒï¼ˆä¸æ¨èï¼‰ åŸå› ï¼šä¸šåŠ¡ä¸Šå…·æœ‰å”¯ä¸€ç‰¹æ€§çš„å­—æ®µï¼Œå³ä½¿æ˜¯ç»„åˆå­—æ®µï¼Œä¹Ÿå¿…é¡»å»ºæˆå”¯ä¸€ç´¢å¼•ã€‚ï¼ˆé˜¿é‡Œå·´å·´ Java å¼€å‘è§„èŒƒï¼‰ é™¤éç°æœ‰è¡¨ç»“æ„ä¸­å·²ç»ç§¯ç´¯äº†å¤§é‡æ•°æ®ï¼Œå¯¼è‡´åšå…¨åº“ DDLï¼ˆDDL è¯­å¥ä¼šé”æ•´å¼ è¡¨ï¼Œä¸è¦è½»æ˜“åœ¨çº¿ä¸Šåš DDL æ“ä½œï¼‰åŠæ•°æ®è¿ç§»å›°éš¾ï¼Œå¦åˆ™ä¸æ¨èé‡‡å–è¯¥æ–¹æ¡ˆã€‚ è¯´æ˜ï¼šä¸è¦ä»¥ä¸ºå”¯ä¸€ç´¢å¼•å½±å“äº† insert é€Ÿåº¦ï¼Œè¿™ä¸ªé€Ÿåº¦æŸè€—å¯ä»¥å¿½ç•¥ï¼Œä½†æé«˜æŸ¥æ‰¾é€Ÿåº¦æ˜¯æ˜æ˜¾çš„ï¼›å¦å¤–ï¼Œå³ä½¿åœ¨åº”ç”¨å±‚åšäº†éå¸¸å®Œå–„çš„æ ¡éªŒæ§åˆ¶ï¼Œåªè¦æ²¡æœ‰å”¯ä¸€ç´¢å¼•ï¼Œæ ¹æ®å¢¨è²å®šå¾‹ï¼Œå¿…ç„¶æœ‰è„æ•°æ®äº§ç”Ÿã€‚ å»ºç«‹è”åˆç´¢å¼•ï¼Œ(å°† name å’Œ åˆ é™¤æ ‡è¯† å»ºç«‹è”åˆç´¢å¼•ï¼‰ï¼Œè½¯åˆ é™¤æ•°æ®å¯ä»¥æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ¡ˆæ¥è¡¨ç¤ºï¼ˆæ¨èï¼‰ å°†åˆ é™¤æ ‡è¯†çš„åˆ é™¤çŠ¶æ€è®¾ä¸º idï¼ˆæ¨èï¼Œä½¿ç”¨ä¸»é”®ç¡®ä¿ä¸ä¼šå‘ç”Ÿç´¢å¼•å†²çªï¼Œå¹¶ä¸”å®ç°ç®€å•ï¼‰ è‹¥ä½¿ç”¨çš„æ˜¯mybatis-plusæ¡†æ¶å¯å°†logic-delete-valueè®¾ç½®ä¸ºå¦‚ä¸‹ï¼š 1logic-delete-value: id å°†åˆ é™¤æ ‡è¯†è®¾ä¸ºå½“å‰æ—¶é—´æˆ³ï¼ˆæ—¶é—´æˆ³åœ¨æç«¯æƒ…å†µä¸‹ä¾æ—§æœ‰ç´¢å¼•å†²çªçš„é£é™©ï¼‰ è‹¥ä½¿ç”¨çš„æ˜¯mybatis-plusæ¡†æ¶å¯å°†logic-delete-valueè®¾ç½®ä¸ºå¦‚ä¸‹ï¼š 1logic-delete-value: REPLACE(unix_timestamp(current_timestamp(3)),'.','') è‹¥é‡‡ç”¨è¯¥æ–¹æ¡ˆæˆ‘ä»¬éœ€å¯¹è¡¨ç»“æ„è¿›è¡Œä¸€å®šçš„ä¿®æ”¹ï¼ˆbigint(20)ï¼‰ï¼Œå› ä¸ºåŸæ¥çš„è½¯åˆ é™¤å­—æ®µä¸ºtinyint(4)ç±»å‹ï¼Œé•¿åº¦ä¸è¶³ä»¥æ”¯æ’‘è¯¥è§£å†³æ–¹æ¡ˆ Node ç«¯åœ¨ä½¿ç”¨ sequelize æ—¶å¯ä»¥åœ¨ hooks ä¸­å¢åŠ è½¯åˆ é™¤é€»è¾‘ï¼š 123456789101112131415161718192021222324252627282930313233const Users = sequelize.define( 'users', { id: { type: DataTypes.INTEGER(11), allowNull: false, primaryKey: true, autoIncrement: true, }, name: { type: DataTypes.STRING(45), allowNull: false, unique: 'uniqueCompositeIndex', }, logicDeleteValue: { type: DataTypes.INTEGER, defaultValue: 0, unique: 'uniqueCompositeIndex', }, }, { hooks: { beforeBulkDestroy: (options) =&gt; { // è§¦å‘å•ä¸ª hook åˆ é™¤ options.individualHooks = true; }, beforeDestroy: async (instance) =&gt; { // å°†åˆ é™¤æ ‡è¯†çš„åˆ é™¤çŠ¶æ€è®¾ä¸ºidï¼ˆæ¨èï¼Œä½¿ç”¨ä¸»é”®ç¡®ä¿ä¸ä¼šå‘ç”Ÿç´¢å¼•å†²çªï¼Œå¹¶ä¸”å®ç°ç®€å•ï¼‰ await instance.update({ logicDeleteValue: instance.id }); }, }, }); å‚è€ƒé“¾æ¥ é€»è¾‘åˆ é™¤å’Œå”¯ä¸€ç´¢å¼• Sequelize","link":"/articles/2022/01/10/soft-deleted-and-unique-index/"},{"title":"Sequelize å…¥é—¨ä½¿ç”¨æŒ‡å—","text":"Sequelize æ˜¯ä¸€ä¸ªåŸºäº promise çš„ Node.js ORM, ç›®å‰æ”¯æŒ Postgres, MySQL, MariaDB, SQLite ä»¥åŠ Microsoft SQL Server. å®ƒå…·æœ‰å¼ºå¤§çš„äº‹åŠ¡æ”¯æŒ, å…³è”å…³ç³», é¢„è¯»å’Œå»¶è¿ŸåŠ è½½,è¯»å–å¤åˆ¶ç­‰åŠŸèƒ½ã€‚ ORMï¼ˆObject Relational Mappingï¼‰ï¼Œç§°ä¸ºå¯¹è±¡å…³ç³»æ˜ å°„ï¼Œç”¨äºå®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€é‡Œä¸åŒç±»å‹ç³»ç»Ÿçš„æ•°æ®ä¹‹é—´çš„è½¬æ¢ã€‚ å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆObject Relational Mappingï¼Œç®€ç§° ORMï¼Œæˆ– O/RMï¼Œæˆ– O/R mappingï¼‰ï¼Œæ˜¯ä¸€ç§ç¨‹åºè®¾è®¡æŠ€æœ¯ï¼Œç”¨äºå®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€é‡Œä¸åŒç±»å‹ç³»ç»Ÿçš„æ•°æ®ä¹‹é—´çš„è½¬æ¢ã€‚ Sequelize æ˜¯ä¸€ä¸ªåŸºäº Promise çš„ NodeJs ORM åº“ï¼Œç›¸å½“ä¸ä¸€ä¸ªä¸­é—´äººè´Ÿè´£ä¸¤è€…ï¼Œjs å’Œ mysql ä¹‹é—´çš„äº¤æµã€‚ å®ä¾‹åŒ– Sequelize è¿æ¥åˆ° Databaseï¼š é€šè¿‡å®ä¾‹åŒ– Sequelize ç±»ï¼Œè¿æ¥åˆ°æ•°æ®åº“ç¨‹åºæŒ‡å®šçš„æ•°æ®åº“ã€‚ å®šä¹‰ Model æ˜ å°„ Tableï¼š é€šè¿‡æ¨¡å‹æ˜ å°„æ•°æ®è¡¨çš„å®šä¹‰å¹¶ä»£ç†æ“ä½œæ–¹æ³• æŒ‡å®š DataTypes å£°æ˜ Data Typesï¼š æŠŠæ•°æ®åº“çš„æ•°æ®ç±»å‹å˜æˆåœ¨ js ä¸Šä¸‹æ–‡ä¸­æ›´åˆé€‚çš„ç”¨æ³•ã€‚ ä½¿ç”¨ Op ç”Ÿæˆ Where å­å¥ Operatorsï¼š ä¸ºé€‰é¡¹å¯¹è±¡æä¾›å¼ºå¤§çš„è§£è€¦å’Œå®‰å…¨æ£€æµ‹ã€‚ å…³è” Association æ›¿ä»£å¤æ‚çš„ Foreign Key å’Œ å¤šè¡¨æŸ¥è¯¢ï¼š ç”¨ä¸€å¥—ç®€å•çš„æ–¹æ³•ç®¡ç†å¤æ‚çš„å¤šè¡¨æŸ¥è¯¢ã€‚ è°ƒç”¨ Transcation å°è£… Transation ï¼š å¯¹äº‹åŠ¡ä¸€å±‚ç®€å•è€Œå¿…è¦çš„å°è£…ã€‚ å®‰è£…1npm install --save sequelize å¿…é¡»æ‰‹åŠ¨ä¸ºæ‰€é€‰æ•°æ®åº“å®‰è£…é©±åŠ¨ç¨‹åºï¼šï¼ˆè¿™é‡Œé€‰æ‹© mysql2 123456# é€‰æ‹©ä»¥ä¸‹ä¹‹ä¸€:$ npm install --save pg pg-hstore # Postgres$ npm install --save mysql2$ npm install --save mariadb$ npm install --save sqlite3$ npm install --save tedious # Microsoft SQL Server è¿æ¥åˆ°æ•°æ®åº“Sequelize æ˜¯åº“çš„å…¥å£ç±»ï¼Œå¯åšä¸¤ä»¶äº‹æƒ…ï¼š è¿æ¥åˆ°æ•°æ®åº“ è®¾ç½®æ•°æ®è¡¨çš„å…¨å±€é…ç½®ã€‚ æ‰€ä»¥æš‚ä¸”å¯æŠŠ Sequelize çš„å®ä¾‹ çœ‹åš Mysql ä¸­çš„ Databaseï¼ˆæ•°æ®åº“ï¼‰ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455// config/database-config/database.dev.js// dev ç¯å¢ƒä¸‹çš„æ•°æ®åº“è¿æ¥é…ç½®const databaseConfig = { // ä½¿ç”¨å“ªä¸ªæ•°æ®åº“ç¨‹åº dialect: 'mysql', // mysql2 å‚æ•° dialectOptions: { // useUTC: false, // for reading from database // timezone: '+08:00', typeCast(field, next) { // for reading from database if (field.type === 'DATETIME') { return field.string(); } return next(); }, }, // å†™å…¥æ•°æ®åº“æ—¶é—´ä¸ºä¸­å›½æ—¶é—´ timezone: '+08:00', database: 'rocket_test', username: 'root', password: '12345678', host: 'localhost', port: 3306, // è¿æ¥æ±  pool: { max: 5, min: 0, acquire: 30000, idle: 10000, }, // æ•°æ®è¡¨ç›¸å…³çš„å…¨å±€é…ç½® define: { // æ˜¯å¦å†»ç»“è¡¨åï¼Œåœæ­¢ Sequelize æ‰§è¡Œè‡ªåŠ¨å¤æ•°åŒ–. è¿™æ ·,Sequelize å°†æ¨æ–­è¡¨åç§°ç­‰äºæ¨¡å‹åç§°,è€Œæ— éœ€è¿›è¡Œä»»ä½•ä¿®æ”¹ // é»˜è®¤æƒ…å†µä¸‹ï¼Œè¡¨åä¼šè½¬æ¢ä¸ºå¤æ•°å½¢å¼ freezeTableName: true, // é»˜è®¤æƒ…å†µä¸‹,Sequelize ä½¿ç”¨æ•°æ®ç±»å‹ DataTypes.DATE è‡ªåŠ¨å‘æ¯ä¸ªæ¨¡å‹æ·»åŠ  createdAt å’Œ updatedAt å­—æ®µ. // createdAt è®°å½•è¡¨çš„åˆ›å»ºæ—¶é—´ // updatedAt è®°å½•å­—æ®µæ›´æ–°æ—¶é—´ // æ—¶é—´æˆ³ timestamps: true, // æ˜¯å¦ä¸ºè¡¨æ·»åŠ  deletedAt å­—æ®µ // é»˜è®¤æƒ…å†µä¸‹, destroy() æ–¹æ³•ä¼šåˆ é™¤æ•°æ®ï¼Œ // è®¾ç½® paranoid ä¸º true æ—¶ï¼Œå°†ä¼šæ›´æ–° deletedAt å­—æ®µï¼Œå¹¶ä¸ä¼šçœŸå®åˆ é™¤æ•°æ®ã€‚ paranoid: true, // ä¸º createdAt,updatedAt,deletedAt åˆ—æŒ‡å®šè‡ªå®šä¹‰åç§°,å¯ä»¥ä¸ç”¨å•ç‹¬è®¾å®š // createdAt: 'created_at', // updatedAt: 'updated_at', // deletedAt: 'deleted_at' // å°†æ‰€æœ‰å±æ€§çš„ field å‚æ•°è®¾ç½®ä¸ºå…¶åç§°çš„ snake_case ç‰ˆæœ¬ underscored: true, },};export default databaseConfig; å¯¼å…¥é…ç½®æ–‡ä»¶ï¼Œå¹¶å®ä¾‹åŒ– Sequelizeï¼Œå¹¶æµ‹è¯•è¿æ¥ã€‚ 123456// src/models/utils.js// å®ä¾‹åŒ–ï¼Œå¹¶æŒ‡å®šé…ç½®import { Sequelize } from 'sequelize';import config from '../../config/database-config/database.dev';export const sequelize = new Sequelize(config); 12345678910111213// src/models/test.js// æµ‹è¯•è¿æ¥import { sequelize } from './utils';sequelize .authenticate() .then(() =&gt; { console.log('Connection has been established successfully.'); }) .catch((err) =&gt; { console.error('Unable to connect to the database:', err); }); æ³¨ï¼š ä¸ªäººä¹ æƒ¯ï¼Œmodels ç›®å½•ç”¨äºå­˜æ”¾ Sequelize åº“ç›¸å…³æ–‡ä»¶ï¼Œé™¤ä¸ªåˆ« js å¤–ï¼Œå…¶ä½™ js æ–‡ä»¶å¯¹åº”å½“å‰ Database ä¸­çš„ä¸€å¼  Tableã€‚ é»˜è®¤æƒ…å†µä¸‹,Sequelize å°†ä¿æŒè¿æ¥æ‰“å¼€çŠ¶æ€,å¹¶å¯¹æ‰€æœ‰æŸ¥è¯¢ä½¿ç”¨ç›¸åŒçš„è¿æ¥. å¦‚æœä½ éœ€è¦å…³é—­è¿æ¥,è¯·è°ƒç”¨ sequelize.close()(è¿™æ˜¯å¼‚æ­¥çš„å¹¶è¿”å›ä¸€ä¸ª Promise). å»ºç«‹æ¨¡å‹æ¨¡å‹æ˜¯ Sequelize çš„æœ¬è´¨. æ¨¡å‹æ˜¯ä»£è¡¨æ•°æ®åº“ä¸­è¡¨çš„æŠ½è±¡. åœ¨ Sequelize ä¸­,å®ƒæ˜¯ä¸€ä¸ª Model çš„æ‰©å±•ç±». è¯¥æ¨¡å‹å‘Šè¯‰ Sequelize æœ‰å…³å®ƒä»£è¡¨çš„å®ä½“çš„å‡ ä»¶äº‹,ä¾‹å¦‚æ•°æ®åº“ä¸­è¡¨çš„åç§°ä»¥åŠå®ƒå…·æœ‰çš„åˆ—(åŠå…¶æ•°æ®ç±»å‹). å¦‚ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶ User.js å­˜æ”¾ç”¨æˆ·è¡¨çš„æ¨¡å‹å®šä¹‰ï¼š 123456789101112131415161718192021222324252627282930// src/models/Users.jsimport { DataTypes } from 'sequelize';import { sequelize } from './utils';// define() æ–¹æ³•æ¥å—ä¸‰ä¸ªå‚æ•°// è¡¨åï¼Œè¡¨å­—æ®µçš„å®šä¹‰å’Œè¡¨çš„é…ç½®ä¿¡æ¯const Users = sequelize.define('users', { id: { // Sequelize åº“ç”± DataTypes å¯¹è±¡ä¸ºå­—æ®µå®šä¹‰ç±»å‹ type: DataTypes.INTEGER(11), // å…è®¸ä¸ºç©º allowNull: false, // ä¸»é”®ï¼Œprimary key=unique+not null primaryKey: true, // è‡ªå¢ autoIncrement: true, }, name: { type: DataTypes.STRING(45), allowNull: false, // å”¯ä¸€é”® unique: true, }, secret: { type: DataTypes.STRING, allowNull: false, },});export default Users; ç„¶åï¼Œå¯¼å…¥å¹¶åŒæ­¥åˆ° Mysql ä¸­ã€‚ 123456789101112131415161718192021// src/models/init.js// å¯¼å…¥import { sequelize } from './utils';import Users from './Users';// åŒæ­¥åˆ° Mysql ä¸­// ä¹Ÿå°±æ˜¯å°†æˆ‘ä»¬ç”¨ js å¯¹è±¡å£°æ˜çš„æ¨¡å‹é€šè¿‡ sequelize è½¬æ¢æˆ mysql ä¸­çœŸæ­£çš„ä¸€å¼ æ•°æ®è¡¨(async function init() { // æ ‡å‡†åŒæ­¥ // åªæœ‰å½“æ•°æ®åº“ä¸­ä¸å­˜åœ¨ä¸æ¨¡å‹åŒåçš„æ•°æ®è¡¨æ—¶ï¼Œæ‰ä¼šåŒæ­¥ await sequelize.sync(); // åŠ¨æ€åŒæ­¥ // ä¿®æ”¹åŒåæ•°æ®è¡¨ç»“æ„ï¼Œä»¥é€‚ç”¨æ¨¡å‹ã€‚ // await sequelize.sync({ alter: true }); // å¼ºåˆ¶åŒæ­¥ // åˆ é™¤åŒåæ•°æ®è¡¨ååŒæ­¥ï¼Œè°¨æ…ä½¿ç”¨ï¼Œä¼šå¯¼è‡´æ•°æ®ä¸¢å¤± // await sequelize.sync({ force: true }); // å¦å¤–ï¼Œå½“ä½ æŒ‡å®šè¡¨ä¸è¡¨ä¹‹é—´çš„å…³è”åï¼Œä¿®æ”¹è¢«å…³è”çš„è¡¨ç»“æ„æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ // éœ€è¦å…ˆæ³¨é‡Šæ‰å…³è”ä»£ç ï¼Œç„¶åæ›´æ–°åŒæ­¥æ¨¡å‹åï¼Œå†å–æ¶ˆæ‰æ³¨é‡Šå³å¯ã€‚ // å†å¦å¤–ï¼Œå½“ä½ æœ‰æ–°çš„å…³è”æ—¶å¿…é¡»ä½¿ç”¨åŠ¨æ€åŒæ­¥æ‰ä¼šç”Ÿæ•ˆã€‚})(); æ›´å¤šå¯æŸ¥çœ‹æ¨¡å‹åŸºç¡€ æ•°æ®ç±»å‹DataTypes å¯¹è±¡ä¸ºæ¨¡å‹çš„å­—æ®µæŒ‡å®šæ•°æ®ç±»å‹ã€‚ ä»¥ä¸‹åˆ—å‡ºäº†éƒ¨åˆ† DataTypes ç±»å‹ å¯¹åº”çš„ Mysql æ•°æ®ç±»å‹ï¼Œæ›´å¤šå¯æŸ¥çœ‹æ•°æ®ç±»å‹&amp;å…¶ä»–æ•°æ®ç±»å‹ 1234567891011121314151617181920212223// å­—ç¬¦ä¸²STRING(N=255) // varchar(0~65535)CHAR(N=255) // char(0~255)TEXT(S=tiny/medium/long) // s + text// æ•°å­—// æ•´æ•°TINYINT(N?) // tinyint(1-byte)SMALLINT(N?) // smallint(2-byte)MEDIUMINT(N?) // mediumint(3-byte)INTEGER(N=255?) // integer(6-byte)BIGINT(N?) // bigint(8-byte)// æµ®ç‚¹æ•°FLOAT(n, n) // float(4-byte)DOUBLE(n, n) // double(8-byte)// å¸ƒå°”å€¼BOOLEAN // tinyint(1)// æ—¥æœŸDATE(n?) // datetime(8-byte)TIME // timestamp(4-byte)NOW // é»˜è®¤å€¼ä¸º current timestamp// å…¶ä»–ENUM( anyï¼Œ...) // ENUM('value1', ...) length &gt; 65535JSON // JSON æ¨¡å‹æ–¹æ³•ç®€å• SELECT æŸ¥è¯¢ ä½ å¯ä»¥ä½¿ç”¨ findAll æ–¹æ³•ä»æ•°æ®åº“ä¸­è¯»å–æ•´ä¸ªè¡¨ï¼š 1234// æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·const users = await User.findAll();console.log(users.every((user) =&gt; user instanceof User)); // trueconsole.log('All users:', JSON.stringify(users, null, 2)); 1SELECT * FROM ... è¿™é‡Œåˆ—å‡ºäº†æ¨¡å‹ä¸Šä¸€äº›æ“ä½œæ•°æ®åº“å¸¸ç”¨çš„æ–¹æ³•ï¼Œæ›´å¤šæŸ¥çœ‹æ¨¡å‹æŸ¥è¯¢(åŸºç¡€) &amp; æ¨¡å‹æŸ¥è¯¢(æŸ¥æ‰¾å™¨) &amp; Static Method Summary 1234567891011121314151617findOne()findAll()findById()findOrCreate()findOrBuild()findAndCountAll()create()bulkCreate()update()upsert()destroy()increment()decrement()count()max()min()sun() éªŒè¯å™¨ä½¿ç”¨æ¨¡å‹éªŒè¯å™¨ï¼Œå¯ä»¥ä¸ºæ¨¡å‹çš„æ¯ä¸ªå±æ€§æŒ‡å®š æ ¼å¼/å†…å®¹/ç»§æ‰¿ éªŒè¯ï¼ŒéªŒè¯ä¼šè‡ªåŠ¨åœ¨ create, update å’Œ save æ—¶è¿è¡Œï¼Œä½ è¿˜å¯ä»¥è°ƒç”¨ validate() æ¥æ‰‹åŠ¨éªŒè¯å®ä¾‹ã€‚å½“éªŒè¯æœªé€šè¿‡æ—¶ï¼Œä¼šæŠ›å‡ºä¸€ä¸ª SequelizeValidationError å¼‚å¸¸å¯¹è±¡ï¼ˆè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆï¼Œéœ€è¦åœ¨æ•°æ®åº“æ“ä½œçš„åœ°æ–¹ç”¨ try catch è¯­å¥æ•è·é”™è¯¯ï¼Œé˜²æ­¢ nodeJs è¿›ç¨‹é€€å‡ºï¼‰ã€‚ ä¾‹å­ï¼š 12345678910const Users = sequelize.define('users', { // ... email: { type: DataTypes.STRING(255), allowNull: true, validate: { isEmail: true, }, },}); å¦å¤–ï¼Œå¯æŒ‡å®š args å’Œ msg è‡ªå®šä¹‰å‚æ•°å’Œé”™è¯¯æ¶ˆæ¯ã€‚ 1234isEmail: { args: true, // å¯çœç•¥ï¼Œé»˜è®¤ä¸º true msg: &quot;é‚®ç®±æ ¼å¼ä¸åˆæ³•ï¼&quot;} ä½ å¯ä»¥å®šä¹‰ä½ çš„è‡ªå®šä¹‰éªŒè¯å™¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç”± validator.js (10.11.0) å®ç°çš„å¤šä¸ªå†…ç½®éªŒè¯å™¨ï¼Œæ›´å¤šæŸ¥çœ‹å®˜ç½‘ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152sequelize.define('foo', { bar: { type: DataTypes.STRING, validate: { is: /^[a-z]+$/i, // åŒ¹é…è¿™ä¸ª RegExp is: [&quot;^[a-z]+$&quot;,'i'], // ä¸ä¸Šé¢ç›¸åŒ,ä½†æ˜¯ä»¥å­—ç¬¦ä¸²æ„é€  RegExp not: /^[a-z]+$/i, // ä¸åŒ¹é… RegExp not: [&quot;^[a-z]+$&quot;,'i'], // ä¸ä¸Šé¢ç›¸åŒ,ä½†æ˜¯ä»¥å­—ç¬¦ä¸²æ„é€  RegExp isEmail: true, // æ£€æŸ¥ email æ ¼å¼ (foo@bar.com) isUrl: true, // æ£€æŸ¥ url æ ¼å¼ (http://foo.com) isIP: true, // æ£€æŸ¥ IPv4 (129.89.23.1) æˆ– IPv6 æ ¼å¼ isIPv4: true, // æ£€æŸ¥ IPv4 æ ¼å¼ (129.89.23.1) isIPv6: true, // æ£€æŸ¥ IPv6 æ ¼å¼ isAlpha: true, // åªå…è®¸å­—æ¯ isAlphanumeric: true, // å°†ä»…å…è®¸ä½¿ç”¨å­—æ¯æ•°å­—,å› æ­¤ '_abc' å°†å¤±è´¥ isNumeric: true, // åªå…è®¸æ•°å­— isInt: true, // æ£€æŸ¥æœ‰æ•ˆçš„æ•´æ•° isFloat: true, // æ£€æŸ¥æœ‰æ•ˆçš„æµ®ç‚¹æ•° isDecimal: true, // æ£€æŸ¥ä»»ä½•æ•°å­— isLowercase: true, // æ£€æŸ¥å°å†™ isUppercase: true, // æ£€æŸ¥å¤§å†™ notNull: true, // ä¸å…è®¸ä¸ºç©º isNull: true, // åªå…è®¸ä¸ºç©º notEmpty: true, // ä¸å…è®¸ç©ºå­—ç¬¦ä¸² equals: 'specific value', // ä»…å…è®¸ 'specific value' contains: 'foo', // å¼ºåˆ¶ç‰¹å®šå­å­—ç¬¦ä¸² notIn: [['foo', 'bar']], // æ£€æŸ¥å€¼ä¸æ˜¯è¿™äº›ä¹‹ä¸€ isIn: [['foo', 'bar']], // æ£€æŸ¥å€¼æ˜¯å…¶ä¸­ä¹‹ä¸€ notContains: 'bar', // ä¸å…è®¸ç‰¹å®šçš„å­å­—ç¬¦ä¸² len: [2,10], // ä»…å…è®¸é•¿åº¦åœ¨2åˆ°10ä¹‹é—´çš„å€¼ isUUID: 4, // åªå…è®¸ uuid isDate: true, // åªå…è®¸æ—¥æœŸå­—ç¬¦ä¸² isAfter: &quot;2011-11-05&quot;, // ä»…å…è®¸ç‰¹å®šæ—¥æœŸä¹‹åçš„æ—¥æœŸå­—ç¬¦ä¸² isBefore: &quot;2011-11-05&quot;, // ä»…å…è®¸ç‰¹å®šæ—¥æœŸä¹‹å‰çš„æ—¥æœŸå­—ç¬¦ä¸² max: 23, // ä»…å…è®¸å€¼ &lt;= 23 min: 23, // ä»…å…è®¸å€¼ &gt;= 23 isCreditCard: true, // æ£€æŸ¥æœ‰æ•ˆçš„ä¿¡ç”¨å¡å· // è‡ªå®šä¹‰éªŒè¯å™¨çš„ç¤ºä¾‹: isEven(value) { if (parseInt(value) % 2 !== 0) { throw new Error('Only even values are allowed!'); } } isGreaterThanOtherField(value) { if (parseInt(value) &lt;= parseInt(this.otherField)) { throw new Error('Bar must be greater than otherField.'); } } } }}); Getters &amp; SettersGetters å’Œ Setters å¯ä»¥è®©ä½ åœ¨è·å–å’Œè®¾ç½®æ¨¡å‹æ•°æ®æ—¶åšä¸€äº›å¤„ç†ã€‚ 1234567891011121314151617181920212223242526272829303132333435const Users = sequelize.define('users', { // ... // å‡è®¾æˆ‘ä»¬æƒ³è¦ä»¥å¤§å†™å½¢å¼æŸ¥çœ‹æ¯ä¸ªç”¨æˆ·å, // å³ä½¿å®ƒä»¬åœ¨æ•°æ®åº“æœ¬èº«ä¸­ä¸ä¸€å®šæ˜¯å¤§å†™çš„ username: { type: DataTypes.STRING, get() { const rawValue = this.getDataValue('username'); return rawValue ? rawValue.toUpperCase() : null; }, }, password: { type: DataTypes.STRING, set(value) { // åœ¨æ•°æ®åº“ä¸­ä»¥æ˜æ–‡å½¢å¼å­˜å‚¨å¯†ç æ˜¯å¾ˆç³Ÿç³•çš„. // ä½¿ç”¨é€‚å½“çš„å“ˆå¸Œå‡½æ•°æ¥åŠ å¯†å“ˆå¸Œå€¼æ›´å¥½. this.setDataValue('password', hash(value)); }, }, content: { type: DataTypes.TEXT, get() { // å–å‡ºçœŸå®å†…å®¹ const storedValue = this.getDataValue('content'); const gzippedBuffer = Buffer.from(storedValue, 'base64'); const unzippedBuffer = gunzipSync(gzippedBuffer); return unzippedBuffer.toString(); }, set(value) { // å†…å®¹ä½œä¸º gzip å‹ç¼©çš„ base64 å­—ç¬¦ä¸²å­˜å‚¨ const gzippedBuffer = gzipSync(value); this.setDataValue('content', gzippedBuffer.toString('base64')); }, },}); æ³¨ï¼š deletedAt å­—æ®µç›®å‰ä¸èµ° setterï¼Œå¾ˆç–‘æƒ‘ã€‚ã€‚ã€‚ï¼ˆâ€sequelizeâ€: â€œ6.12.4â€ Opï¼ˆæŸ¥è¯¢æ¡ä»¶ï¼‰Op å¯¹è±¡é›†å†…ç½®äº†ä¸€ç³»åˆ—é€‚ç”¨äº where å­å¥ æŸ¥è¯¢çš„æ“ä½œç¬¦ï¼ˆæŸ¥è¯¢æ¡ä»¶ï¼‰ã€‚ ä¸¾ä¸ªä¾‹å­ï¼š 12345678910const { Op } = require('sequelize');User.findAll({ // æŸ¥è¯¢æ‰€æœ‰ id &gt; 2 çš„ç”¨æˆ· where: { id: { [Op.gt]: 2, }, },}); ä»¥ä¸‹åˆ—å‡ºäº†æ‰€æœ‰å†…ç½®çš„ Op æ“ä½œç¬¦ï¼Œæ›´å¤šè§£é‡ŠæŸ¥çœ‹å®˜ç½‘ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253const { Op } = require(&quot;sequelize&quot;);Post.findAll({ where: { [Op.and]: [{ a: 5 }, { b: 6 }], // (a = 5) AND (b = 6) [Op.or]: [{ a: 5 }, { b: 6 }], // (a = 5) OR (b = 6) someAttribute: { // åŸºæœ¬ [Op.eq]: 3, // = 3 [Op.ne]: 20, // != 20 [Op.is]: null, // IS NULL [Op.not]: true, // IS NOT TRUE [Op.or]: [5, 6], // (someAttribute = 5) OR (someAttribute = 6) // ä½¿ç”¨æ–¹è¨€ç‰¹å®šçš„åˆ—æ ‡è¯†ç¬¦ (ä»¥ä¸‹ç¤ºä¾‹ä¸­ä½¿ç”¨ PG): [Op.col]: 'user.organization_id', // = &quot;user&quot;.&quot;organization_id&quot; // æ•°å­—æ¯”è¾ƒ [Op.gt]: 6, // &gt; 6 [Op.gte]: 6, // &gt;= 6 [Op.lt]: 10, // &lt; 10 [Op.lte]: 10, // &lt;= 10 [Op.between]: [6, 10], // BETWEEN 6 AND 10 [Op.notBetween]: [11, 15], // NOT BETWEEN 11 AND 15 // å…¶å®ƒæ“ä½œç¬¦ [Op.all]: sequelize.literal('SELECT 1'), // &gt; ALL (SELECT 1) [Op.in]: [1, 2], // IN [1, 2] [Op.notIn]: [1, 2], // NOT IN [1, 2] [Op.like]: '%hat', // LIKE '%hat' [Op.notLike]: '%hat', // NOT LIKE '%hat' [Op.startsWith]: 'hat', // LIKE 'hat%' [Op.endsWith]: 'hat', // LIKE '%hat' [Op.substring]: 'hat', // LIKE '%hat%' [Op.iLike]: '%hat', // ILIKE '%hat' (ä¸åŒºåˆ†å¤§å°å†™) (ä»… PG) [Op.notILike]: '%hat', // NOT ILIKE '%hat' (ä»… PG) [Op.regexp]: '^[h|a|t]', // REGEXP/~ '^[h|a|t]' (ä»… MySQL/PG) [Op.notRegexp]: '^[h|a|t]', // NOT REGEXP/!~ '^[h|a|t]' (ä»… MySQL/PG) [Op.iRegexp]: '^[h|a|t]', // ~* '^[h|a|t]' (ä»… PG) [Op.notIRegexp]: '^[h|a|t]', // !~* '^[h|a|t]' (ä»… PG) [Op.any]: [2, 3], // ANY ARRAY[2, 3]::INTEGER (ä»… PG) [Op.match]: Sequelize.fn('to_tsquery', 'fat &amp; rat') // åŒ¹é…æ–‡æœ¬æœç´¢å­—ç¬¦ä¸² 'fat' å’Œ 'rat' (ä»… PG) // åœ¨ Postgres ä¸­, Op.like/Op.iLike/Op.notLike å¯ä»¥ç»“åˆ Op.any ä½¿ç”¨: [Op.like]: { [Op.any]: ['cat', 'hat'] } // LIKE ANY ARRAY['cat', 'hat'] // è¿˜æœ‰æ›´å¤šçš„ä»…é™ postgres çš„èŒƒå›´è¿ç®—ç¬¦,è¯·å‚è§ä¸‹æ–‡ } }}); ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨ç¬¦å·è€Œæ˜¯ä½¿ç”¨é¢å¤–çš„å°è£…å±‚ Opï¼Œæ®å®˜æ–¹è¯´æ³•æ˜¯ä¸ºäº†é˜²æ­¢ SQL æ³¨å…¥å’Œå…¶ä»–ä¸€äº›å®‰å…¨æ£€æµ‹ã€‚å¦å¤–ï¼ŒOp å¯¹è±¡é›†å…¶å®æ˜¯ä¸€ç³»åˆ— Symbol çš„é›†åˆã€‚ å…³è”å…³è”å®šä¹‰æ¯”è¾ƒéš¾ä»¥ç†è§£ï¼Œç•™åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ç€é‡ä»‹ç»ã€‚ å‚è€ƒé“¾æ¥ Sequelize å‘½åç­–ç•¥ Koa + Sequelize","link":"/articles/2022/01/11/sequelize-start/"},{"title":"é˜…è¯» remote-git-tags æºç ","text":"å‰è¨€æ—¶éš”å¾ˆä¹…ï¼Œé‡æ–°å¼€å§‹é˜…è¯»æºç çš„è¿‡ç¨‹ï¼Œå› æ­¤æ‰¾ä¸ªç›¸å¯¹æ¯”è¾ƒç®€å•çš„åŒ…remote-git-tagsè¿›è¡Œé˜…è¯»ï¼Œå¹¶ç†Ÿæ‚‰æ•´å¥—é˜…è¯»æµç¨‹ï¼ˆgit subtree,vscode ä¸­ nodejs è°ƒè¯•ï¼‰ ä»‹ç»remote-git-tags æ˜¯ä¸€ä¸ªåªæœ‰ 22 è¡Œçš„ç›¸å¯¹æ¯”è¾ƒç®€å•çš„åŒ…ï¼Œä»–çš„ä¸»è¦ä½œç”¨å°±æ˜¯è·å–ä»“åº“ä¸­çš„æ‰€æœ‰ tags æºç Entryè€è§„çŸ©ï¼Œå…ˆçœ‹å…¥å£æ–‡ä»¶ï¼Œindex.jsï¼Œï¼ˆä» package.json ä¸­çš„exportså­—æ®µä¸­å¯ä»¥æ‰¾åˆ°ï¼‰ 123// package.json...&quot;exports&quot;: &quot;./index.js&quot;, æºç æ¯”è¾ƒç®€å•ï¼ŒåŸç†æ˜¯é€šè¿‡è¿è¡Œ bash å‘½ä»¤ï¼šgit ls-remote --tags repoUrl è·å– tags ï¼ˆå¯ç‚¹å‡»git ls-remoteä½¿ç”¨ç»†èŠ‚ï¼‰ 1234567891011121314âœ git ls-remote --tags https://github.com/sindresorhus/got67316ee37f0028d660f530970ab74a571247ff10 refs/tags/v0.1.01e7746d8c44a75ee9ec8ed94356dd5e8ba9c3bc2 refs/tags/v0.1.0^{}1ec67ee5906c8b8e8fb849b925479a31707a404d refs/tags/v0.1.198d1263b1331573dbc6c3110addb038dc5804bb8 refs/tags/v0.1.1^{}44c54b1b66f53d58c422c68c55c024827706a4b5 refs/tags/v0.2.032b0c033e26594a36b16ab7305e4ec5e54972cc1 refs/tags/v0.2.0^{}6baafc7a29aa7a6a00bc818b0d100eb11268b943 refs/tags/v0.3.0bc6987517edb1dfe54fc495f9b84a9df4b9f1f7c refs/tags/v0.3.0^{}4274ba19113edb51f64fe5ab278b5d823b83155c refs/tags/v1.0.09a593acd8412f5e412f0e7e6044a88a5ea93ca90 refs/tags/v1.0.0^{}c0b6804510ac9105591ee338ff5ad0b0e395ac71 refs/tags/v1.0.137322366c7e85c898fbc9bf92bd32afa9a228aae refs/tags/v1.0.1^{}4e736f374d7af685646b1184c06933c71c07ff99 refs/tags/v1.1.0 è®©æˆ‘ä»¬æ¥ç›´æ¥çœ‹ä»£ç ï¼š 12345678910111213141516171819202122232425import { promisify } from 'node:util';import childProcess from 'node:child_process';const execFile = promisify(childProcess.execFile);export default async function remoteGitTags(repoUrl) { // æŠŠæ‰€æœ‰ tags å’Œå¯¹åº”çš„ hashå€¼ å­˜åœ¨ Map å¯¹è±¡ä¸­ã€‚ const { stdout } = await execFile('git', ['ls-remote', '--tags', repoUrl]); const tags = new Map(); for (const line of stdout.trim().split('\\n')) { const [hash, tagReference] = line.split('\\t'); // Strip off the indicator of dereferenced tags so we can override the // previous entry which points at the tag hash and not the commit hash // `refs/tags/v9.6.0^{}` â†’ `v9.6.0` const tagName = tagReference .replace(/^refs\\/tags\\//, '') .replace(/\\^{}$/, ''); tags.set(tagName, hash); } return tags;} è°ƒè¯•å¦‚å›¾ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç›¸å…³ä»£ç å¯¹åº”çš„ debug ä¿¡æ¯ Dependenciesnode:utilå¯ä»¥ä½¿ç”¨ node: å‰ç¼€æ¥è¯†åˆ«æ ¸å¿ƒæ¨¡å—ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹å®ƒä¼šç»•è¿‡ require ç¼“å­˜ã€‚ä¾‹å¦‚ï¼Œrequire('node:http') å°†å§‹ç»ˆè¿”å›å†…ç½®çš„ HTTP æ¨¡å—ï¼Œå³ä½¿æœ‰è¯¥åç§°çš„ require.cache æ¡ç›®ã€‚ç»†èŠ‚å¯æŸ¥çœ‹å®˜ç½‘ promisifyå°†å¸¸è§çš„é”™è¯¯ä¼˜å…ˆçš„å›è°ƒé£æ ¼çš„å‡½æ•°ï¼ˆä¹Ÿå°±æ˜¯å°† (err, value) =&gt; ... å›è°ƒä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°ï¼‰ï¼Œå¹¶è¿”å›ä¸€ä¸ªè¿”å› promise çš„ç‰ˆæœ¬ã€‚ 1234567891011const util = require('node:util');const fs = require('node:fs');const stat = util.promisify(fs.stat);stat('.') .then((stats) =&gt; { // Do something with `stats` }) .catch((error) =&gt; { // Handle the error. }); å¸®åŠ©ç†è§£ï¼Œä¼ªä»£ç å®ç°å¦‚ä¸‹ï¼ŒçœŸå®æºç å¯è‡ªè¡Œå‚è€ƒnode å®˜ç½‘ 123456789101112function promisify(fn) { return function (...args) { return new Promise((resolve, reject) =&gt; { fn(...args, (error, value) =&gt; { if (error) { return reject(error); } resolve(value); }); }); };} node:child_processexecFile child_process.exec(): è¡ç”Ÿ shell å¹¶åœ¨è¯¥ shell ä¸­è¿è¡Œå‘½ä»¤ï¼Œå®Œæˆåå°† stdout å’Œ stderr ä¼ ç»™å›è°ƒå‡½æ•°ã€‚ child_process.execFile(): ä¸ child_process.exec() ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒç›´æ¥è¡ç”Ÿå‘½ä»¤ï¼Œè€Œä¸å…ˆè¡ç”Ÿ shellã€‚ child_process.fork(): è¡ç”Ÿæ–°çš„ Node.js è¿›ç¨‹å¹¶ä½¿ç”¨å»ºç«‹çš„ IPC é€šä¿¡é€šé“ï¼ˆå…¶å…è®¸åœ¨çˆ¶å­è¿›ç¨‹ä¹‹é—´å‘é€æ¶ˆæ¯ï¼‰è°ƒç”¨æŒ‡å®šçš„æ¨¡å—ã€‚ child_process.execSync(): child_process.exec() çš„åŒæ­¥ç‰ˆæœ¬ï¼Œå…¶å°†é˜»å¡ Node.js äº‹ä»¶å¾ªç¯ã€‚ child_process.execFileSync(): child_process.execFile() çš„åŒæ­¥ç‰ˆæœ¬ï¼Œå…¶å°†é˜»å¡ Node.js äº‹ä»¶å¾ªç¯ã€‚ æ€»ç»“å¤šçœ‹æºç ï¼Œå¤šæ€è€ƒ ğŸ¤”~ å‚è€ƒé“¾æ¥ ä» 22 è¡Œæœ‰è¶£çš„æºç åº“ä¸­ï¼Œæˆ‘å­¦åˆ°äº† callback promisify åŒ–çš„ Node.js æºç å®ç° - æ˜é‡‘ util å®ç”¨å·¥å…· | Node.js v18 æ–‡æ¡£","link":"/articles/2023/11/18/remote-git-tags/"},{"title":"çŠ¶æ€æœº","text":"ä»€ä¹ˆæ˜¯çŠ¶æ€æœº å®šä¹‰çŠ¶æ€æœºæ˜¯æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆFinite State Machineï¼ŒFSMï¼‰çš„ç®€ç§°ï¼Œæ˜¯ç°å®äº‹ç‰©è¿è¡Œè§„åˆ™æŠ½è±¡è€Œæˆçš„ä¸€ä¸ªæ•°å­¦æ¨¡å‹ã€‚è¡¨ç¤ºæœ‰é™ä¸ªçŠ¶æ€ä»¥åŠåœ¨è¿™äº›çŠ¶æ€ä¹‹é—´çš„è½¬ç§»å’ŒåŠ¨ä½œï¼›è¯´ç™½äº†ï¼Œå°±æ˜¯æŒ‡ä¸€å¼ çŠ¶æ€å˜æ¢å›¾ã€‚ å¦‚ä¸‹å›¾ï¼Œå°±å®šä¹‰äº†ä¸€ä¸ªåªæœ‰ opened å’Œ closed ä¸¤ç§çŠ¶æ€çš„çŠ¶æ€æœºã€‚å½“ç³»ç»Ÿå¤„äº opened çŠ¶æ€ï¼Œåœ¨æ”¶åˆ°è¾“å…¥ã€Œå…³é—­äº‹ä»¶ã€ï¼Œè¾¾åˆ°äº†çŠ¶æ€æœºè½¬ç§»æ¡ä»¶ï¼Œç³»ç»Ÿåˆ™ä¼šæ‰§è¡Œç›¸åº”çš„åŠ¨ä½œï¼ˆclose doorï¼‰ï¼Œå¹¶è½¬ç§»åˆ°äº† closed çŠ¶æ€ã€‚ ç–‘æƒ‘æ—¢ç„¶çŠ¶æ€æœºæ˜¯æœ‰é™çŠ¶æ€æœºçš„ç®€ç§°ï¼Œé‚£æœ‰æ²¡æœ‰æ— é™çŠ¶æ€æœºå‘¢ï¼Ÿ è¿™ä¸ªé—®é¢˜å…¶å®å’Œæ°¸åŠ¨æœºçš„ç­”æ¡ˆæ˜¯ä¸€æ ·çš„ï¼Œå±äºåªæœ‰ç†è®ºæ„ä¹‰ä½†ä¸å­˜åœ¨çš„æ¨¡å‹ï¼› çŠ¶æ€æœºçš„å®è´¨å°±æ˜¯ç¡®å®šçš„è¾“å…¥å’ŒçŠ¶æ€å¯ä»¥å¾—åˆ°ç¡®å®šçš„è¾“å‡ºï¼ŒæŒ‰ç…§å®šä¹‰éœ€è¦é¦–å…ˆæ”¶é›†æ‰€æœ‰çŠ¶æ€ï¼Œè€Œæ— é™çŠ¶æ€æœºåœ¨è¿™ä¸ªæ­¥éª¤å°±å·²ç»ä¸æ»¡è¶³äº†ï¼› å…³äºæ— é™çŠ¶æ€æœºçš„æ›´å¤š å¯ä»¥äº†è§£ï¼šå›¾çµæœºã€ä¸‹æ¨è‡ªåŠ¨æœºç­‰ã€‚ã€‚ã€‚ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çŠ¶æ€æœºï¼Ÿæ ¹æ®ä¸Šé¢çŠ¶æ€æœºçš„åŸºæœ¬æ¦‚å¿µçš„ä»‹ç»ï¼Œæƒ³å¿…å¤§å®¶å¯¹çŠ¶æ€æœºåº”è¯¥æœ‰ä¸ªå¤§è‡´äº†è§£ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­æ€è€ƒä¸‹ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ä½¿ç”¨çŠ¶æ€æœºï¼Ÿ ä¸–é—´çš„ä¸€åˆ‡ï¼Œéƒ½å¯ä»¥çœ‹æˆæ˜¯å„ç§çŠ¶æ€çš„é›†åˆã€‚æ¯”å¦‚ä¸€å—çŸ³å¤´ï¼Œä»Šå¤©å¯èƒ½æ˜¯å¹²çš„ï¼Œæ˜å¤©å¯èƒ½æ˜¯æ¹¿çš„ã€‚å†æ¯”å¦‚ä¸€ä¸ªäººï¼Œå¹´é¾„ä¼šé€æ¸å¢é•¿ï¼Œå¯ä»¥ä»ç»“å©šå˜æˆæœªç»“å©šï¼Œå¯ä»¥ä»ç”·äººå˜æˆå¥³äººï¼Œç­‰ç­‰ç­‰â€¦â€¦ è€ŒçŠ¶æ€æ”¹å˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½è¦åšæŸç§äº‹æƒ…æ¥åº”å¯¹è¿™ç§æ”¹å˜ï¼Œæ¯”å¦‚ç»“å©šäº†æƒ³å–Šä¸€å—“å­ï¼Œè®©æ‰€æœ‰äººéƒ½æ­å–œæˆ‘â€¦â€¦ è€Œä¸”çŠ¶æ€æœºåœ¨æ¸¸æˆå¼€å‘ä¸­å¤§æ”¾å¼‚å½©ï¼Œå·²ç»æˆä¸ºäº†ä¸€ç§å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œæ¯”å¦‚å¤§å®¶å°æ—¶å€™éƒ½ä¼šç©é©¬é‡Œå¥¥ åœ¨æ¸¸æˆä¸­ï¼Œé©¬é‡Œå¥¥å¯ä»¥å˜èº«ä¸ºå¤šç§å½¢æ€ï¼Œæ¯”å¦‚å°é©¬é‡Œå¥¥ï¼ˆSmall Marioï¼‰ã€è¶…çº§é©¬é‡Œå¥¥ï¼ˆSuper Marioï¼‰ã€ç«ç„°é©¬é‡Œå¥¥ï¼ˆFire Marioï¼‰ã€æ–—ç¯·é©¬é‡Œå¥¥ï¼ˆCape Marioï¼‰ç­‰ç­‰ã€‚åœ¨ä¸åŒçš„æ¸¸æˆæƒ…èŠ‚ä¸‹ï¼Œå„ä¸ªå½¢æ€ä¼šäº’ç›¸è½¬åŒ–ï¼Œå¹¶ç›¸åº”çš„å¢å‡ç§¯åˆ†ã€‚æ¯”å¦‚ï¼Œåˆå§‹å½¢æ€æ˜¯å°é©¬é‡Œå¥¥ï¼Œåƒäº†è˜‘è‡ä¹‹åå°±ä¼šå˜æˆè¶…çº§é©¬é‡Œå¥¥ï¼Œå¹¶ä¸”å¢åŠ  100 ç§¯åˆ†ã€‚ é©¬é‡Œå¥¥å½¢æ€çš„è½¬å˜å°±æ˜¯ä¸€ä¸ªçŠ¶æ€æœºã€‚å…¶ä¸­ï¼Œé©¬é‡Œå¥¥çš„ä¸åŒå½¢æ€å°±æ˜¯çŠ¶æ€æœºä¸­çš„ã€ŒçŠ¶æ€ã€ï¼Œæ¸¸æˆæƒ…èŠ‚ï¼ˆæ¯”å¦‚åƒäº†è˜‘è‡ï¼‰å°±æ˜¯çŠ¶æ€æœºä¸­çš„ã€Œäº‹ä»¶ã€ï¼ŒåŠ å‡ç§¯åˆ†å°±æ˜¯çŠ¶æ€æœºä¸­çš„ã€ŒåŠ¨ä½œã€ã€‚æ¯”å¦‚ï¼Œåƒè˜‘è‡è¿™ä¸ªäº‹ä»¶ï¼Œä¼šè§¦å‘çŠ¶æ€çš„è½¬ç§»ï¼šä»å°é©¬é‡Œå¥¥è½¬ç§»åˆ°è¶…çº§é©¬é‡Œå¥¥ï¼Œä»¥åŠè§¦å‘åŠ¨ä½œçš„æ‰§è¡Œï¼ˆå¢åŠ  100 ç§¯åˆ†ï¼‰ ä¸å‰ç«¯çš„è”ç³»è‡³äºåœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œç”¨åˆ°çŠ¶æ€æœºçš„åœºåˆæ›´æ˜¯æ¯”æ¯”çš†æ˜¯ã€‚æ¯”å¦‚ä¸€ä¸ªå‰ç«¯ç»„ä»¶çš„çŠ¶æ€ï¼Œå¯èƒ½ä»ã€Œéšè—ã€åˆ°ã€Œæ˜¾ç¤ºã€ï¼Œä»ã€Œå·¦è¾¹ã€åˆ°ã€Œå³è¾¹ã€ï¼ŒèƒŒæ™¯ä»ã€Œç™½ã€åˆ°ã€Œé»‘ã€ï¼Œé‡Œé¢çš„å›¾ç‰‡ä»ã€Œ10ã€å¼ åˆ°ã€Œ20 å¼ ã€ç­‰ç­‰â€¦â€¦ å½“ç»„ä»¶ä»éšè—åˆ°æ˜¾ç¤ºçš„æ—¶å€™ï¼Œä½ å¯èƒ½éœ€è¦è°ƒç”¨å¦ä¸€ä¸ªç»„ä»¶æ¥å¡«å……å®ƒçš„ä½ç½®ï¼Œè¿™æ—¶å€™å°±éœ€è¦åœ¨ã€Œéšè—ã€æ˜¾ç¤ºã€è¿™ä¸ªçŠ¶æ€æ”¹å˜çš„æ—¶å€™åšç›¸åº”çš„æ“ä½œã€‚è€Œä¿ƒä½¿è¿™ä¸ªç»„ä»¶æ”¹å˜å¯èƒ½æœ‰å¾ˆå¤šç§æƒ…å†µï¼ˆæ¯”å¦‚ç‚¹å‡»ï¼Œæˆ–è€…è¿‡äº”ç§’éšè—ï¼‰ï¼Œè¿™æ—¶å¦‚æœç”¨çŠ¶æ€æœºçš„è¯ï¼Œåªéœ€è¦ç»™å®ƒç»‘å®šä¸€ä¸ªçŠ¶æ€æ”¹å˜äº‹ä»¶è€Œå·²â€¦â€¦ ä½¿ç”¨çŠ¶æ€æœºï¼Œèƒ½è®©ä½ çš„ä»£ç å˜å¾—æ›´ç›´è§‚ã€æ›´æ•´æ´ï¼Œå‡å°‘äº†è€¦åˆ,æå‡äº†ä»£ç çš„å¥å£®æ€§â€¦â€¦ å½“ç„¶ï¼ŒçŠ¶æ€æœºèƒ½å¸¦æ¥çš„å¥½å¤„è¿œè¿œä¸æ­¢è¿™ä¹ˆå¤šã€‚ å¦‚ä½•ä½¿ç”¨çŠ¶æ€æœºé¦–å…ˆæˆ‘ä»¬éœ€è¦äº†è§£ä¸‹çŠ¶æ€æœºçš„æœ¬è´¨ï¼šç¡®å®šçš„è¾“å…¥ + æŸä¸€ä¸ªçŠ¶æ€ =&gt; å¦ä¸€ä¸ªçŠ¶æ€ï¼› ï¼ˆçŠ¶æ€æœºçš„å·¥ä½œåŸç†æ‰€ç¤ºï¼Œå‘ç”Ÿäº‹ä»¶ (event) åï¼Œæ ¹æ®å½“å‰çŠ¶æ€ (cur_state) ï¼Œå†³å®šæ‰§è¡Œçš„åŠ¨ä½œ (action)ï¼Œå¹¶è®¾ç½®ä¸‹ä¸€ä¸ªçŠ¶æ€å· (nxt_state)ï¼‰ çŠ¶æ€æœºæœ‰å››å¤§æ¦‚å¿µè¿˜æœ‰ä¸‰å¤§ç‰¹å¾ å››å¤§æ¦‚å¿µä¸‹é¢æ¥ç»™å‡ºçŠ¶æ€æœºçš„å››å¤§æ¦‚å¿µã€‚ç°æ€ï¼ˆCurrent Stateï¼‰ã€æ¬¡æ€ï¼ˆNext Stateï¼‰ã€äº‹ä»¶ï¼ˆEventï¼‰ã€åŠ¨ä½œï¼ˆActionï¼‰ ç°æ€ï¼ˆCurrent Stateï¼‰ï¼šçŠ¶æ€æœºå½“å‰æ‰€å¤„çš„çŠ¶æ€ï¼Œä¹Ÿç§°ä¸ºå½“å‰çŠ¶æ€ã€‚å®ƒè¡¨ç¤ºçŠ¶æ€æœºå½“å‰çš„çŠ¶æ€ï¼Œä¹Ÿæ˜¯çŠ¶æ€è½¬ç§»çš„èµ·å§‹çŠ¶æ€ã€‚ æ¬¡æ€ï¼ˆNext Stateï¼‰ï¼šçŠ¶æ€æœºè½¬ç§»åçš„çŠ¶æ€ï¼Œä¹Ÿç§°ä¸ºä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚å®ƒè¡¨ç¤ºçŠ¶æ€æœºç»è¿‡æŸä¸ªäº‹ä»¶æˆ–æ¡ä»¶è½¬ç§»åï¼Œå³å°†è¦è¿›å…¥çš„çŠ¶æ€ã€‚ äº‹ä»¶ï¼ˆEventï¼‰ï¼šäº‹ä»¶å°±æ˜¯æ‰§è¡ŒæŸä¸ªæ“ä½œçš„è§¦å‘æ¡ä»¶æˆ–è€…å£ä»¤ã€‚å½“ä¸€ä¸ªæ¡ä»¶è¢«æ»¡è¶³ï¼Œå¯èƒ½å°†ä¼šè§¦å‘ä¸€ä¸ªåŠ¨ä½œï¼Œæˆ–è€…æ‰§è¡Œä¸€æ¬¡çŠ¶æ€çš„è¿ç§»ã€‚ åŠ¨ä½œï¼ˆActionï¼‰äº‹ä»¶å‘ç”Ÿä»¥åè¦æ‰§è¡ŒåŠ¨ä½œã€‚åŠ¨ä½œä¸æ˜¯å¿…éœ€çš„ï¼Œå½“æ¡ä»¶æ»¡è¶³åï¼Œä¹Ÿå¯ä»¥ä¸æ‰§è¡Œä»»ä½•åŠ¨ä½œï¼Œç›´æ¥è¿ç§»åˆ°æ–°çŠ¶æ€ã€‚ ä¸‰å¤§ç‰¹å¾çŠ¶æ€æœºå¹¶ä¸æ˜¯ä¸€ä¸ªå¤æ‚çš„æ¦‚å¿µï¼Œç®€å•è¯´ï¼Œå®ƒæœ‰ä¸‰ä¸ªç‰¹å¾ï¼š çŠ¶æ€æ€»æ•°ï¼ˆstateï¼‰æ˜¯æœ‰é™çš„ã€‚ ä»»ä¸€æ—¶åˆ»ï¼Œåªå¤„åœ¨ä¸€ç§çŠ¶æ€ä¹‹ä¸­ã€‚ æŸç§æ¡ä»¶ä¸‹ï¼Œä¼šä»ä¸€ç§çŠ¶æ€è½¬å˜ï¼ˆtransitionï¼‰åˆ°å¦ä¸€ç§çŠ¶æ€ã€‚ è¡¨ç¤ºæ³•é€šå¸¸æˆ‘ä»¬ä¼šç”¨ çŠ¶æ€è½¬æ¢å›¾ æˆ–è€… çŠ¶æ€è½¬ç§»è¡¨ æ¥è¡¨ç¤ºçŠ¶æ€æœº çŠ¶æ€è½¬æ¢å›¾ çŠ¶æ€è½¬ç§»è¡¨ Demoäº†è§£äº†çŠ¶æ€æœºçš„åŸºæœ¬æ¦‚å¿µåï¼Œæ¥ä¸‹æ¥çœ‹ä¸€ä¸ªç®€å•çš„å‰ç«¯ä¾‹å­ï¼Œ æ¯”æ–¹è¯´ç½‘é¡µä¸Šå­˜åœ¨ä¸€ä¸ªæŒ‰é’®å…ƒç´ ã€‚å½“é¼ æ ‡ç‚¹å‡»æŒ‰é’®æ—¶ä¼šå‡ºç°å¼¹çª—ï¼ŒåŒæ ·å½“é¼ æ ‡å†æ¬¡ç‚¹å‡»æŒ‰é’®æ—¶å€™å¼¹çª—æ¶ˆå¤±ã€‚ ç®€å•åˆ†æä¸‹ï¼Œå¯ä»¥å‘ç° Button ç»„ä»¶æœ‰ä¸¤ç§çŠ¶æ€ï¼Œä¸€ä¸ªä¸º On ä¸€ä¸ªä¸º Offï¼Œå®ƒè¦ä¹ˆå¤„äº on çŠ¶æ€ï¼Œè¦ä¹ˆå¤„äº off çŠ¶æ€ï¼Œåˆå§‹çŠ¶æ€ä¸º offï¼Œå®ƒæœ‰ 2 ä¾‹è¡Œä¸ºï¼šturnOff å’Œ turnOnï¼Œå‰è€…èƒ½ä½¿ç»„ä»¶ä» on çŠ¶æ€å˜åŒ–åˆ° off çŠ¶æ€ï¼Œåè€…èƒ½ä½¿ç»„ä»¶ä» off çŠ¶æ€å˜ä¸º on çŠ¶æ€ï¼Œå®ƒçš„è¡Œä¸ºç»‘å®šåˆ°äº†æŸä¸ª DOM å…ƒç´ çš„ç‚¹å‡»äº‹ä»¶ä¸Šï¼Œå¯ä»¥å…ˆçœ‹ä¸‹ä¼ªä»£ç å®ç° 1234567891011121314151617181920212223242526// ä¼ªä»£ç const buttonMachine = { // çŠ¶æ€æœºå½“å‰çŠ¶æ€ currentState: 'off', // æ¯æ¬¡è¾“å…¥ä¼šè°ƒç”¨ transition æ–¹æ³•æ ¹æ®è¾“å…¥åˆ¤æ–­æ›´æ”¹å½“å‰çŠ¶æ€ transition: function (event) { // do something æ ¹æ®ç”¨æˆ·è¡Œä¸º(event)æ›´æ”¹currentState switch (this.currentState) { case 'on': // do something æ›´æ”¹ä¸º å…³é—­ çŠ¶æ€ï¼Œ å–æ¶ˆé«˜äº®åŒæ—¶éšè—èœå• this.currentState = 'off'; doSomething(); break; case 'off': // do something æ›´æ”¹çŠ¶æ€ä¸º æ‰“å¼€ çŠ¶æ€ é«˜äº®æŒ‰é’®ã€æ˜¾ç¤ºèœå• this.currentState = 'on'; doSomething(); break; default: console.log('Invalid State'); break; } },}; æ¥ä¸‹æ¥å¯ä»¥çœ‹åˆ°çœŸå®ä»£ç  å®ç°æ–¹å¼ See the Pen JS - machine -1 by MrSeaWave (@mrseawave) on CodePen. å¯ä»¥çœ‹åˆ°å½“è°ƒç”¨ machine.init() ä¹‹åæ‰“å°çš„æ˜¯è¿™ä¸ªç»„ä»¶çš„åˆå§‹çŠ¶æ€ï¼Œå½“ç‚¹å‡»ä¸€æ¬¡ä¹‹åï¼Œç»„ä»¶ä» off çŠ¶æ€è½¬æ¢åˆ°äº† on çŠ¶æ€ï¼Œç‚¹å‡»ç¬¬äºŒæ¬¡ä¹‹åä» on çŠ¶æ€è½¬æ¢åˆ°äº† off çŠ¶æ€ï¼Œç‚¹å‡»ç¬¬ä¸‰æ¬¡åˆæ¢å¤åˆ°äº† on çŠ¶æ€ã€‚è¿™ä¸ªä¾‹å­è™½ç„¶æ˜¯ä¸€ä¸ªæå…¶ç®€å•çš„çŠ¶æ€æœºå®ç°ï¼Œä½†è¿˜æ˜¯èƒ½å¤Ÿæ¯”è¾ƒæ°å½“åœ°è¯´æ˜çŠ¶æ€æœºçš„æ€æƒ³ä»¥åŠå®ƒçš„ä¼˜ç‚¹ï¼ˆé€»è¾‘æ€ç»´æ¸…æ™°ï¼Œ è¡¨è¾¾èƒ½åŠ›å¼ºï¼‰ã€‚åœ¨å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ© javascript-state-machine æ¥å®ç°åŸºäºçŠ¶æ€æœºçš„ç»„ä»¶ï¼Œå®ƒæ˜¯æœ‰é™çŠ¶æ€æœºè¿™ç§æ¨¡å‹çš„ä¸€ä¸ª js çš„å®ç°åº“ï¼Œåˆ©ç”¨å®ƒå¯ä»¥å¿«é€Ÿå®šä¹‰ä¸€ä¸ªçŠ¶æ€æœºå¯¹è±¡ï¼Œç›¸æ¯”æˆ‘å‰é¢ä¸¾ä¾‹å†™å‡ºçš„é‚£ç§å®ç°ï¼Œè¿™ä¸ªåº“è™½ç„¶æºç åªæœ‰ 200 å¤šè¡Œï¼Œä½†æ˜¯åŠŸèƒ½éå¸¸å®Œæ•´ï¼ŒAPI ç®€å•å¥½ç”¨ï¼Œå€¼å¾—å­¦ä¹ è·Ÿå®è·µã€‚ ä½¿ç”¨ javascript-state-machine åº“å®ç°çŠ¶æ€æœºåªè¦å¼•å…¥è¯¥åº“çš„ js ä¹‹åå°±èƒ½é€šè¿‡è¯¥åº“æä¾›çš„ä¸€ä¸ªå…¨å±€å¯¹è±¡ StateMachineï¼Œå¹¶ä½¿ç”¨ new StateMachine()ï¼Œåˆ™å¯ä»¥ç”Ÿæˆæœ‰é™çŠ¶æ€æœºçš„å®ä¾‹. Demo1 1234567891011121314151617181920212223var fsm = new StateMachine({ init: 'solid', transitions: [ { name: 'melt', from: 'solid', to: 'liquid' }, { name: 'freeze', from: 'liquid', to: 'solid' }, { name: 'vaporize', from: 'liquid', to: 'gas' }, { name: 'condense', from: 'gas', to: 'liquid' }, ], methods: { onMelt: function () { console.log('I melted'); }, onFreeze: function () { console.log('I froze'); }, onVaporize: function () { console.log('I vaporized'); }, onCondense: function () { console.log('I condensed'); }, },}); åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼šinil é€‰é¡¹ç”¨æ¥è¡¨ç¤º fsm å¯¹è±¡çš„åˆå§‹çŠ¶æ€ï¼Œtransitions é€‰é¡¹ç”¨æ¥æè¿° fsm å¯¹è±¡æ‰€æœ‰çŠ¶æ€çš„å˜åŒ–è§„åˆ™ï¼Œæ¯ä¸€ç§å˜åŒ–è§„åˆ™å¯¹åº”ä¸€ç§è¡Œä¸ºï¼ˆä¸è¿‡æœ‰å¯èƒ½å¤šä¸ªè§„åˆ™ä¼šå¯¹åº”åŒä¸€ä¸ªè¡Œä¸ºï¼Œåœ¨åé¢ä½ ä¼šçœ‹åˆ°è¿™æ ·çš„ä¾‹å­ï¼‰ã€‚æˆ‘ä»¬åœ¨ä½¿ç”¨ new StateMachine æ—¶åˆ™ä¼šä¸ºå®ä¾‹çš„æ¯ä¸€ç§è¡Œä¸ºéƒ½æ·»åŠ äº†ä¸€ä¸ªæ–¹æ³•ï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•å°±ç›¸å½“äºè§¦å‘å¯¹è±¡çš„æŸç§è¡Œä¸ºï¼Œå½“å¯¹è±¡è¡Œä¸ºå‘ç”Ÿæ—¶ï¼Œå¯¹è±¡çš„çŠ¶æ€å°±å¯ä»¥å‘ç”Ÿå˜åŒ–ã€‚å¦‚ä»¥ä¸Šä¾‹å­åˆ›å»ºçš„å®ä¾‹å°†æ‹¥æœ‰å¦‚ä¸‹è¡Œä¸ºæ–¹æ³•ï¼š 1234fsm.melt() - è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå®ä¾‹çŠ¶æ€å°†ä»'solid'å˜ä¸º'liquid'fsm.freeze() - è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå®ä¾‹çŠ¶æ€å°†ä»'liquid'å˜ä¸º'solid'fsm.vaporize() - è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå®ä¾‹çŠ¶æ€å°†ä»'liquid'å˜ä¸º'gas'fsm.condense() - è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå®ä¾‹çŠ¶æ€å°†ä»'gas'å˜ä¸º'liquid' è¿™äº›æ–¹æ³•æ˜¯ StateMachine æ ¹æ®é…ç½®çš„ transitions è§„åˆ™è‡ªåŠ¨åˆ›å»ºçš„ï¼Œæ–¹æ³•åè·Ÿ transitions è§„åˆ™é‡Œé¢çš„ name å±æ€§å¯¹åº”ï¼Œtransitions è§„åˆ™é‡Œé¢æœ‰å‡ ä¸ªä¸é‡å¤çš„ nameï¼Œå°±ä¼šæ·»åŠ å‡ ä¸ªè¡Œä¸ºæ–¹æ³•ã€‚åŒæ—¶ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œå®ƒè¿˜æ·»åŠ äº†å¦‚ä¸‹æˆå‘˜æ¥åˆ¤æ–­å’Œæ§åˆ¶å®ä¾‹çš„çŠ¶æ€å’Œè¡Œä¸ºï¼š 123456fsm.state - è¿”å›å®ä¾‹å½“å‰çš„çŠ¶æ€fsm.is(state) - å¦‚æœä¼ å…¥çš„stateæ˜¯å®ä¾‹å½“å‰çŠ¶æ€å°±è¿”å›truefsm.can(transitionName) - å¦‚æœä¼ å…¥çš„transitionNameåœ¨å®ä¾‹å½“å‰çŠ¶æ€èƒ½å¤Ÿè¢«è§¦å‘å°±è¿”å›truefsm.cannot(transitionName) - å¦‚æœä¼ å…¥çš„transitionNameåœ¨å®ä¾‹å½“å‰çŠ¶æ€ä¸èƒ½è¢«è§¦å‘å°±è¿”å›truefsm.transitions() - ä»¥æ•°ç»„çš„å½¢å¼è¿”å›å®ä¾‹å½“å‰çŠ¶æ€ä¸‹èƒ½å¤Ÿè¢«è§¦å‘çš„è¡Œä¸ºåˆ—è¡¨... è¿˜è®°å¾—å‰é¢åˆ—å‡ºçš„å¯ä»¥ç”¨æœ‰é™çŠ¶æ€æœºæ¨¡å‹çš„äº‹ç‰©ç‰¹ç‚¹å§ï¼Œæ¥ä¸‹æ¥å°±ç”¨ Demo1 æ¥è¯´æ˜ javascript-state-machine åˆ›å»ºçš„å¯¹è±¡æ˜¯å¦‚ä½•æ»¡è¶³çŠ¶æ€æœºæ¨¡å‹çš„è¦æ±‚çš„ï¼š 1ï¼‰äº‹ç‰©æ‹¥æœ‰çš„çŠ¶æ€æ€»æ•°æ˜¯æœ‰é™çš„ è¿™ä¸ªå®ä¾‹æœ€å¤šåªæœ‰ä¸‰ä¸ªçŠ¶æ€ã€‚ 2ï¼‰å¯ä»¥ç”¨çŠ¶æ€æ¥æè¿°äº‹ç‰©ï¼Œå¹¶ä¸”ä»»ä¸€æ—¶åˆ»ï¼Œäº‹ç‰©æ€»æ˜¯å¤„äºä¸€ç§çŠ¶æ€ è¿™ä¸ªä¾‹å­ä¸­åˆ›å»ºçš„å›ºæ¶²æ°”çš„å®ä¾‹è½¬æ¢è§„åˆ™ä¸­ï¼Œè¦ä¹ˆå¤„äº solid çŠ¶æ€ï¼Œè¦ä¹ˆå¤„äº liquid çŠ¶æ€ï¼Œè¦ä¹ˆå¤„äº gas çŠ¶æ€ï¼Œæ‰€ä»¥å®ƒæ˜¯æ»¡è¶³ç¬¬ 2 ç‚¹çš„ã€‚ 3ï¼‰åœ¨æŸç§æ¡ä»¶ä¸‹ï¼Œå¯ä»¥å¯¼è‡´äº‹ç‰©ä»ä¸€ç§çŠ¶æ€è¿‡æ¸¡åˆ°å¦ä¸€ç§çŠ¶æ€ fsm.meltï¼Œfsm.freezeï¼Œfsm.vaporizeï¼Œfsm.condense è¿™å‡ ä¸ªè¡Œä¸ºæ–¹æ³•éƒ½èƒ½æ”¹å˜å®ä¾‹çš„çŠ¶æ€ã€‚ 4ï¼‰å¦å¤–å…¶å®äº‹ç‰©çŠ¶æ€å˜åŒ–æ˜¯æœ‰è§„åˆ™çš„ï¼ŒA çŠ¶æ€å¯ä»¥å˜æ¢åˆ° Bï¼ŒB å¯ä»¥å˜æ¢åˆ° Cï¼ŒA å´ä¸ä¸€å®šèƒ½å˜æ¢åˆ° C è¿™ä¸ªå®ä¾‹çš„åˆå§‹çŠ¶æ€ä¸º solidï¼Œæ ¹æ® transitions é…ç½®çš„çŠ¶æ€å˜åŒ–è§„åˆ™ï¼Œsolid å¯ä»¥å˜æ¢åˆ° liquid, liquid å¯ä»¥å˜æ¢åˆ° gasï¼Œä½†æ˜¯å®ä¾‹åˆå§‹åŒ–ä¹‹åï¼Œå´ä¸èƒ½è°ƒç”¨ fsm.freeze è¿™ä¸ªè¡Œä¸ºæ–¹æ³•ï¼Œå› ä¸ºè¿™ä¸ªæ–¹æ³•åªæœ‰å®ä¾‹çŠ¶æ€ä¸º liquid çš„æ—¶å€™æ‰èƒ½è°ƒç”¨ï¼Œè€Œåˆå§‹åŒ–æ—¶å®ä¾‹çš„çŠ¶æ€ä¸º solidï¼Œæ‰€ä»¥ä¸€å¼€å§‹åªèƒ½è°ƒç”¨ melt æ–¹æ³•ï¼šï¼ˆæ³¨æ„ï¼Œè¿™é‡Œåªæ˜¯å…·ä½“ä¾‹å­ï¼Œå®é™…ä¸Š solid å¯ä»¥ç›´æ¥å˜æˆ gasï¼Œè¿™ç§ç°è±¡å«åšå‡åï¼Œåªæ˜¯åœ¨ä¾‹å­ä¸­æ²¡å®šä¹‰ 5ï¼‰åŒä¸€ç§è¡Œä¸ºï¼Œå¯ä»¥å°†äº‹ç‰©ä»å¤šç§çŠ¶æ€å˜æˆåŒç§çŠ¶æ€ï¼Œä½†æ˜¯ä¸èƒ½ä»åŒç§çŠ¶æ€å˜æˆå¤šç§çŠ¶æ€ ä»ç†è®ºä¸Šä¹Ÿå¾ˆå¥½ç†è§£è¿™ä¸€ç‚¹ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ä»åŒç§çŠ¶æ€å˜æˆå¤šç§çŠ¶æ€ï¼Œå› ä¸ºç¬¬äºŒç‚¹è¯´äº†äº‹ç‰©ä»»ä¸€æ—¶åˆ»åªèƒ½å¤„äºä¸€ç§çŠ¶æ€ï¼Œå¦‚æœæŸä¸€ä¸ªè¡Œä¸ºä½¿å¾—äº‹ç‰©çš„çŠ¶æ€å˜æˆäº†å¤šç§ï¼Œäº‹ç‰©çš„çŠ¶æ€æœºåˆ¶å°±æœ‰é—®é¢˜äº†ã€‚ ä¸‹æ¥æ¥çœ‹ä¸ªä¾‹å­,æ¥è¯´æ˜åŒä¸€ä¸ªè¡Œä¸ºï¼Œå¯ä»¥ä»å¤šç§çŠ¶æ€å˜æ¢åˆ°ä¸€ç§çŠ¶æ€çš„åœºæ™¯ï¼š 123456789let fsm = new StateMachine({ init: 'A', transitions: [ { name: 'step', from: 'A', to: 'B' }, { name: 'step', from: 'B', to: 'C' }, { name: 'step', from: 'C', to: 'D' }, { name: 'reset', from: ['B', 'C', 'D'], to: 'A' }, ],}); å¯ä»¥å‘ç° 1ï¼‰è™½ç„¶å®ƒé…ç½®äº†å¤šä¸ªå˜åŒ–è§„åˆ™ï¼Œä½†æ˜¯å®ƒåªæœ‰ 2 ä¸ªè¡Œä¸ºï¼Œæˆ‘ä»¬å¯ä»¥ä» A çŠ¶æ€è°ƒç”¨ step ä¾æ¬¡åˆ° D çŠ¶æ€ï¼Œä¸­é—´å¯ä»¥éšæ—¶ä½¿ç”¨ reset æ–¹æ³•è¿”å› A çŠ¶æ€ 2ï¼‰å®ƒçš„ step è¡Œä¸ºå‘ç”Ÿåçš„çŠ¶æ€è·Ÿå½“å‰çŠ¶æ€æœ‰å…³ç³»ï¼Œå½“å‰çŠ¶æ€ä¸åŒï¼Œè¡Œä¸ºå‘ç”Ÿåçš„çŠ¶æ€ä¹Ÿä¸åŒï¼Œæ‰€ä»¥ step è¡Œä¸ºå¯¹åº”äº†å¤šæ¡é…ç½®è§„åˆ™ï¼› 3ï¼‰å®ƒçš„ reset è¡Œä¸ºå‘ç”Ÿåçš„çŠ¶æ€è·Ÿå½“å‰çŠ¶æ€æ²¡å…³ç³»ï¼Œåªè¦å½“å‰çŠ¶æ€åœ¨ reset è¡Œä¸ºçš„çŠ¶æ€æ¡ä»¶èŒƒå›´å†…ï¼Œè¡Œä¸ºå‘ç”Ÿåçš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥ reset è¡Œä¸ºç”¨ä¸€ä¸ª from æ•°ç»„é…ç½®äº†è¯¥è¡Œä¸ºå‘ç”Ÿçš„å½“å‰çŠ¶æ€çš„æ¡ä»¶èŒƒå›´ï¼Œæ•´ä¸ªè¡Œä¸ºä»…å®šä¹‰äº†ä¸€æ¡é…ç½®è§„åˆ™ã€‚ åœ¨å®é™…ä½¿ç”¨çŠ¶æ€æœºå®ä¾‹çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡è°ƒç”¨å®ä¾‹çš„è¡Œä¸ºæ–¹æ³•æ¥è§¦å‘å®ä¾‹çŠ¶æ€çš„æ”¹å˜ï¼Œæ¯”å¦‚ Demo1 ä¸­ï¼š fsm.melt()ï¼Œè¿™æ · fsm çš„çŠ¶æ€å°±ä¼šç”± solid å˜ä¸º liquidï¼Œåƒè¿™ç§ç®€å•çš„çŠ¶æ€æœºå®ä¾‹ï¼Œè¿™ä¸ªç¨‹åº¦çš„ä½¿ç”¨ä¹Ÿè®¸å°±è¶³å¤Ÿäº†ï¼Œä½†æ˜¯å¯¹äºå®é™…é¡¹ç›®è€Œè¨€ï¼Œæˆ‘ä»¬å®šä¹‰çš„ç»„ä»¶ï¼Œå¾€å¾€è¦ç”¨å®ƒä»¬ç”Ÿæˆçš„å®ä¾‹æ¥å®Œæˆå¾ˆå¤šå¤æ‚çš„é€»è¾‘åŠŸèƒ½ï¼Œå¦‚æœç”¨çŠ¶æ€æœºæ¥å®šä¹‰ç»„ä»¶ï¼Œé‚£ä¹ˆè¿™äº›é€»è¾‘ä»£ç è¯¥å†™åœ¨å“ªé‡Œï¼Ÿå› ä¸º javascript-state-machine åˆ›å»ºçš„çŠ¶æ€æœºå®ä¾‹ï¼Œå®ƒçš„è¡Œä¸ºæ–¹æ³•éƒ½æ˜¯è‡ªåŠ¨æ·»åŠ çš„ï¼Œä½ ä¸å¯èƒ½å»é‡å†™è¿™äº›è¡Œä¸ºæ–¹æ³•ï¼Œå¦åˆ™å°±å¤±å»çŠ¶æ€æœºçš„æ„ä¹‰äº†ï¼ˆå°†çŠ¶æ€å˜åŒ–çš„é€»è¾‘ä¸ä¸šåŠ¡é€»è¾‘æ‹†åˆ†ï¼‰ã€‚ç­”æ¡ˆæ˜¯å›è°ƒï¼Œå¯ä»¥å‘ç° Demo1 ä¸­çš„ methodsã€‚javascript-state-machine ä¸ºæ¯ä¸ªå®ä¾‹çš„æ¯ç§çŠ¶æ€çš„å˜æ¢å‰åå’Œæ¯ç§è¡Œä¸ºçš„å˜æ¢å‰åéƒ½å®šä¹‰äº†ç›¸å…³çš„å›è°ƒï¼Œæˆ‘ä»¬çš„é€»è¾‘éƒ½å¯ä»¥å†™åœ¨è¿™äº›å›è°ƒé‡Œé¢ï¼Œè¿™æ ·å°±è¾¾åˆ°äº†çŠ¶æ€é€»è¾‘ä¸ä¸šåŠ¡é€»è¾‘æ‹†åˆ†çš„ç›®çš„ã€‚ä¸‹é¢å…ˆçœ‹çœ‹è¿™äº›å›è°ƒçš„ç”¨æ³•ï¼Œæ¥ç€æˆ‘ä¼šç”¨ javascript-state-machine æ”¹å†™ä¸€ä¸‹å‰é¢é‚£ä¸ª Button ç»„ä»¶çš„ä¾‹å­ã€‚ javascript-state-machine æ ¹æ® transition çš„é…ç½®ï¼Œå¯ä»¥ä¸ºå®ä¾‹å®šä¹‰ 4 ç§ç±»å‹çš„å›è°ƒï¼š 1234onBefore&lt;TRANSITION&gt; - åœ¨TRANSITIONå¯¹åº”çš„è¡Œä¸ºå‘ç”Ÿä¹‹å‰è§¦å‘onLeave&lt;STATE&gt; - åœ¨è¦æ”¹å˜STATEå¯¹åº”çš„çŠ¶æ€æ—¶è§¦å‘onEnter&lt;STATE&gt; - åœ¨æŠŠå½“å‰çŠ¶æ€è®¾ç½®ä¸ºäº†STATEå¯¹åº”çš„çŠ¶æ€æ—¶è§¦å‘ï¼Œç®€å†™ä¸ºon&lt;STATE&gt;onAfter&lt;TRANSITION&gt; - åœ¨TRANSITIONå¯¹åº”çš„è¡Œä¸ºå‘ç”Ÿä¹‹åè§¦å‘ï¼Œç®€å†™ä¸ºon&lt;TRANSITION&gt; å…¶ä¸­æ¯ä¸ªå›è°ƒéƒ½æ¥å—ä¸€ä¸ªå‚æ•° lifecycleï¼Œå…¶ä¸­åŒ…å« 123transition - è¡Œä¸ºåç§°from - è¡Œä¸ºå‘ç”Ÿå‰çš„çŠ¶æ€to - è¡Œä¸ºå‘ç”Ÿåçš„çŠ¶æ€ çŠ¶æ€æœºæ¯ä¸ªè¡Œä¸ºè§¦å‘ï¼Œæˆ–è€…çŠ¶æ€æ”¹å˜éƒ½ä¸€å®šä¼šè§¦å‘ä¸Šé¢çš„å›è°ƒï¼ˆåªè¦è¿™äº›å›è°ƒéƒ½æœ‰å®šä¹‰çš„è¯ï¼‰ï¼Œå¹¶ä¸”å›è°ƒé¡ºåºè·Ÿå‰é¢åˆ—å‡ºçš„é¡ºåºä¸€è‡´ã€‚ å¦‚ Demo3 123456789101112131415161718let fsm = new StateMachine({ init: 'A', transitions: [{ name: 'step', from: 'A', to: 'B' }], methods: { onBeforeStep: function () { console.log('onBeforeStep'); }, onLeaveA: function () { console.log('onLeaveA'); }, onB: function () { console.log('onEnterB'); }, onStep: function () { console.log('onStep'); }, },}); å¦å¤– javascript-state-machine è¿˜å®šä¹‰äº†äº”ä¸ªé€šç”¨å›è°ƒï¼Œè¿™äº”ä¸ªå›è°ƒè·Ÿ transition,state æ²¡æœ‰å…³ç³»ï¼Œåœ¨ä»»ä½•è¡Œä¸ºè§¦å‘ï¼Œä»»ä½•çŠ¶æ€å˜åŒ–çš„æ—¶å€™ï¼Œç›¸å…³çš„å›è°ƒéƒ½ä¼šè§¦å‘ï¼Œè¿™äº”ä¸ªå›è°ƒæ˜¯ï¼š 12345onBeforeTransition - åœ¨ä»»ä½•è¡Œä¸ºå‘ç”Ÿä¹‹å‰è§¦å‘onLeaveState - åœ¨è¦æ”¹å˜å¯¹è±¡çŠ¶æ€æ—¶è§¦å‘onTransition - åœ¨è¡Œä¸ºå‘ç”Ÿä¸­è§¦å‘onEnterState - åœ¨æŠŠå½“å‰çŠ¶æ€è®¾ç½®ä¸ºæ–°çŠ¶æ€æ—¶è§¦å‘onAfterTransition - åœ¨ä»»ä½•è¡Œä¸ºå‘ç”Ÿä¹‹åè§¦å‘ è¿™äº”ä¸ªå›è°ƒåç§°æ˜¯å›ºå®šçš„ï¼Œè·Ÿè§¦å‘çš„è¡Œä¸ºå’Œè¦æ”¹å˜çš„çŠ¶æ€æ²¡æœ‰å…³ç³»ï¼Œç›¸å½“äºæ˜¯å…¨å±€å›è°ƒï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæŸä¸ªçŠ¶æ€å˜åŒ–è§„åˆ™ç›¸å…³çš„å››ä¸ªç±»å‹çš„å›è°ƒæœ‰å®šä¹‰å¹¶ä¸”è¿™äº”ä¸ªå…¨å±€å›è°ƒä¹Ÿæœ‰å®šä¹‰çš„è¯ï¼Œé‚£ä¹ˆè§¦å‘è¯¥è§„åˆ™å¯¹åº”çš„è¡Œä¸ºï¼Œå°±ä¸€å…±ä¼šè§¦å‘ 9 ä¸ªå›è°ƒï¼Œé¡ºåºå¦‚ä¸‹ï¼š 1234567891011121314151617181920212223//æ³¨æ„ï¼ŒSTATEæ˜¯å½“å‰çŠ¶æ€æœºæ‰€å¤„çš„çŠ¶æ€ï¼ŒTRANSITIONæ˜¯å³å°†å‘ç”Ÿçš„åŠ¨ä½œonBeforeTransition ä»»ä½•åŠ¨ä½œè§¦å‘å‰è§¦å‘onBefore&lt;TRANSITION&gt; åœ¨ç‰¹å®šåŠ¨ä½œTRANSITIONå‰è§¦å‘onLeaveState ç¦»å¼€ä»»ä½•ä¸€ä¸ªçŠ¶æ€çš„æ—¶å€™è§¦å‘onLeave&lt;STATE&gt; åœ¨ç¦»å¼€ç‰¹å®šçŠ¶æ€STATEæ—¶è§¦å‘onTransition åœ¨ä»»ä½•åŠ¨ä½œå‘ç”ŸæœŸé—´è§¦å‘onEnterState å½“è¿›å…¥ä»»ä½•çŠ¶æ€æ—¶è§¦å‘onEnter&lt;STATE&gt; è¿›å…¥ä¸€ä¸ªç‰¹å®šçš„çŠ¶æ€STATEæ—¶è§¦å‘on&lt;STATE&gt; onEnter&lt;STATE&gt;çš„ç®€å†™onAfterTransition ä»»ä½•åŠ¨ä½œè§¦å‘åè§¦å‘onAfter&lt;TRANSITION&gt; åœ¨ç‰¹å®šåŠ¨ä½œTRANSITIONåè§¦å‘on&lt;TRANSITION&gt; onAfter&lt;TRANSITION&gt;çš„ç®€å†™ äº†è§£åˆ°å‰é¢è¿™äº›å†…å®¹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨ javascript-state-machine æ¥æ”¹å†™å‰é¢çš„ Button ç»„ä»¶äº†ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940let ButtonMachine = function (btnEle, ulEle) { fsm = new StateMachine({ init: 'off', transitions: [ { name: 'turnOn', from: 'off', to: 'on' }, { name: 'turnOff', from: 'on', to: 'off' }, ], methods: { onTurnOn: function (lifecycle) { const { transition, from, to } = lifecycle; btnEle.classList.add('on'); ulEle.classList.add('ul-visible'); log(to, from); }, onTurnOff: function (lifecycle) { const { transition, from, to } = lifecycle; btnEle.classList.remove('on'); ulEle.classList.remove('ul-visible'); log(to, from); }, }, }); btnEle.addEventListener('click', (event) =&gt; { console.log('fsm', fsm, fsm.transitions()); fsm[fsm.transitions()[0]](); }); log(fsm.state); return fsm;};function log(currentState, previousState) { if (!previousState) { console.log(`[INIT] currentState is : ${currentState}`); } else { console.log(`[TRANSFORM] currentState is : ${currentState}, and previous state is : ${previousState}`); }} æ•ˆæœå¦‚ä¸‹ï¼š åœ¨å®é™…å·¥ä½œä¸­ï¼Œè‚¯å®šä¼šç¢°åˆ°åœ¨è¡Œä¸ºè§¦å‘æœŸé—´ï¼Œå› ä¸ºæŸäº›æ¡ä»¶ä¸å…è®¸éœ€è¦å–æ¶ˆè¯¥è¡Œä¸ºçš„æƒ…å†µï¼Œ ä»¥å…å¯¹è±¡çŠ¶æ€è¢«é”™è¯¯çš„æ›´æ”¹ï¼Œåœ¨ javascript-state-machine çš„å›è°ƒä¸­ï¼Œåªéœ€è¦ return false å³å¯å–æ¶ˆå½“å‰è§¦å‘ï¼Œ æœ‰æ—¶ï¼Œæˆ‘ä»¬åœ¨å®é™…å·¥ä½œä¸­ï¼Œä¹Ÿéœ€è¦åœ¨çŠ¶æ€è½¬æ¢æœŸé—´æ‰§è¡Œä¸€äº›å¼‚æ­¥ä»£ç ï¼Œå¹¶ç¡®ä¿åœ¨ä»£ç å®Œæˆä¹‹å‰ä¸ä¼šè¿›å…¥æ–°çŠ¶æ€ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥åœ¨å›è°ƒä¸­è¿”å› Promiseï¼Œä»¥æ­¤æ¥å–æ¶ˆæˆ–è€…ç»§ç»­å›è°ƒã€‚ 12345678910111213141516171819202122232425262728293031323334var fsm = new StateMachine({ init: 'menu', transitions: [ { name: 'play', from: 'menu', to: 'game' }, { name: 'quit', from: 'game', to: 'menu' }, ], methods: { onEnterMenu: function () { return new Promise(function (resolve, reject) { $('#menu').fadeIn('fast', resolve); }); }, onEnterGame: function () { return new Promise(function (resolve, reject) { $('#game').fadeIn('fast', resolve); }); }, onLeaveMenu: function () { return new Promise(function (resolve, reject) { $('#menu').fadeOut('fast', resolve); }); }, onLeaveGame: function () { return new Promise(function (resolve, reject) { $('#game').fadeOut('fast', resolve); }); }, },}); è¿™ä¸ªä¾‹å­ä¸­åˆ›å»ºçš„å®ä¾‹ï¼ŒåŒ…å« play å’Œ quit ä¸¤ä¸ªè¡Œä¸ºï¼Œè¿™ä¸¤ä¸ªè¡Œä¸ºè§¦å‘ä¹‹åï¼Œä¸ä¼šç«‹å³å»æ›´æ”¹å¯¹è±¡çš„çŠ¶æ€ï¼Œè€Œæ˜¯å¼€å¯ä¸€ä¸ªå¼‚æ­¥çš„åŠ¨ç”»ä»»åŠ¡ï¼Œç„¶ååœ¨åŠ¨ç”»ç»“æŸä¹‹åï¼Œé€šè¿‡è°ƒç”¨ resolveï¼Œé€šçŸ¥å®ä¾‹å»æ”¹å˜è‡ªå·±çš„çŠ¶æ€ã€‚å¦‚æœæƒ³å–æ¶ˆåˆ™ä½¿ç”¨ reject å°ç»“1ï¼‰æœ‰é™çŠ¶æ€æœºæ˜¯å®šä¹‰ç»„ä»¶çš„ä¸€ç§å¥½ç”¨çš„æ¨¡å¼ï¼Œèƒ½å¤Ÿè®©ç»„ä»¶çš„ä»£ç çœ‹èµ·æ¥æ›´åŠ æ¸…æ™°ï¼Œè€Œä¸”æ˜“äºç†è§£ 2ï¼‰javascript-state-machine ä¹Ÿæ˜¯ä¸€ä¸ªä¼˜ç§€çš„å®ç°åº“ï¼Œæºç ç®€æ´ï¼Œæä¾›çš„ API ç”¨æ³•ç®€å•ï¼ŒåŒæ—¶è¿˜çªå‡ºäº†çŠ¶æ€æœºçš„ç‰¹ç‚¹ï¼Œå€¼å¾—åœ¨å®šä¹‰ç»„ä»¶çš„æ—¶å€™å»è¯•ä¸€è¯•ï¼Œå¤§å®¶æœ‰å…´è¶£å¯ä»¥çœ‹çœ‹æºç å®ç° 3ï¼‰æœ‰é™çŠ¶æ€æœºè¿™ç§æ¨¡å¼é€‚åˆæœ‰æ˜æ˜¾çŠ¶æ€ç‰¹ç‚¹çš„ç»„ä»¶ å› æ­¤æˆ‘ä»¬å¯ä»¥å†™ä»£ç ä¹‹å‰ï¼Œæ€è€ƒä¸€ä¸‹ï¼š é¡µé¢æœ‰å‡ ç§çŠ¶æ€ï¼ˆåˆå§‹åŒ–çŠ¶æ€ï¼ŸæˆåŠŸçŠ¶æ€ï¼Ÿå¤±è´¥çŠ¶æ€ï¼Ÿå‡ºé”™çŠ¶æ€ï¼Ÿï¼‰ã€‚ æè¿°è¿™äº›çŠ¶æ€éœ€è¦ä»€ä¹ˆå‚æ•°ã€‚ åœ¨ä»€ä¹ˆæ—¶å€™è½¬å˜çŠ¶æ€ï¼Œéœ€è¦æ”¹å˜å“ªäº›éƒ¨åˆ†ã€‚ ç„¶åè·Ÿç€æ€è·¯ï¼Œå®Œæˆæ•°æ®ä¸ UI éƒ¨åˆ†ã€‚ å–ä¸ªå…³å­ï¼Œæœ¬ç¯‡åªæ˜¯æ‰“ä¸ªå°æ ·ï¼Œä»‹ç»ä¸€ç§æ€è€ƒæ¨¡å¼ï¼Œå¦‚æœé‡åˆ°å¤§é‡åˆ¤æ–­æ¡ä»¶çš„åœºæ™¯ï¼Œè®°å¾—æƒ³æƒ³çŠ¶æ€æœºï¼Œåœ¨æœªæ¥ï¼Œå°†ä¼šä»‹ç»å¦‚ä½•å°†çŠ¶æ€æœºä¸ react ç»“åˆä½¿ç”¨ï¼Œå…·ä½“å¯å‚è€ƒ XState å‰ç«¯:ä»çŠ¶æ€ç®¡ç†åˆ°æœ‰é™çŠ¶æ€æœºçš„æ€è€ƒ - æ˜é‡‘ https://soshace.com/an-introduction-to-finite-state-machines-simplifying-react-state-management-with-state-machines/ https://www.telerik.com/blogs/how-to-use-finite-state-machines-react https://tsh.io/blog/finite-state-machines-in-react/ https://xstate.js.org/docs/recipes/react.html#local-state æœ¬ç¯‡æ‰€æ¶‰åŠåˆ°çš„ä»£ç å¯å» js-state-machine-demo è¿›è¡ŒæŸ¥çœ‹ å‚è€ƒé“¾æ¥ æœ‰é™çŠ¶æ€æœº - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦ ä»€ä¹ˆæ˜¯çŠ¶æ€æœºï¼Ÿä¸€ç¯‡æ–‡ç« å°±å¤Ÿäº†-é¢åŒ…æ¿ç¤¾åŒº çŠ¶æ€è½¬ç§»è¡¨ - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦ ccqgithub/StateMachine: Javascript æœ‰é™çŠ¶æ€æœº XStateï¼šéƒ½ 1202 å¹´äº†ï¼Œä¸ä¼šçœŸæœ‰äººè¿˜åœ¨ç”¨å‡çš„çŠ¶æ€ç®¡ç†åº“å§ï¼Ÿ - çŸ¥ä¹ JavaScript çŠ¶æ€æ¨¡å¼åŠçŠ¶æ€æœºæ¨¡å‹ - æ˜é‡‘ è¶…çº§é©¬åŠ›æ¬§å…„å¼Ÿ 3 - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦ çŠ¶æ€æœº_ç™¾åº¦ç™¾ç§‘ æœ‰é™çŠ¶æ€æœº FSM(Finite State Machine)åŠå®ç°æ–¹å¼ä»‹ç» - BarryW - åšå®¢å›­ è¯•è¯•ç”¨æœ‰é™çŠ¶æ€æœºçš„æ€è·¯æ¥å®šä¹‰ javascript ç»„ä»¶ - æµäº‘è¯¸è‘› - åšå®¢å›­ å‰ç«¯å¼€å‘ä¸­çš„çŠ¶æ€æœº - ä½œä¸šéƒ¨è½ Cmd Markdown ç¼–è¾‘é˜…è¯»å™¨ å¦‚ä½•æŠŠä¸šåŠ¡é€»è¾‘è¿™ä¸ªæ•…äº‹è®²å¥½@å¼ å…‹å†›ReactConf CN 2018å¼€å‘ å¦‚ä½•æŠŠä¸šåŠ¡é€»è¾‘è¿™ä¸ªæ•…äº‹è®²å¥½ - æœ‰é™çŠ¶æ€æœºä¸ React å¼€å‘@ReactConf2018å“”å“©å“”å“©_bilibili Selecting a finite state machine library for React | Rainforest QA jakesgordon/javascript-state-machine: A javascript finite state machine library","link":"/articles/2023/03/23/state-machine-1/"},{"title":"ç¬¬ 01 èœè°±ï¼šå‘¨åˆŠä¸€é”…ç«¯","text":"Hiï¼Œæˆ‘æ˜¯ Seaï¼Œæ¬¢è¿æ‰“å¼€æ–°ä¸€æœŸçš„ã€Œæ¯å‘¨èœè°±ã€ï¼Œè¿™æ˜¯ç¬¬ã€Œ01ã€æœŸï¼Œå‘è¡¨äº 2023-01-16ï¼Œä»Šå¤©æˆ‘ä»¬ä¸è®²èœè°±ï¼Œå…ˆæ¥ä»‹ç»ä¸‹æœ‰å“ªäº›ä¼˜ç§€çš„å‰ç«¯å‘¨åˆŠ å‰ç«¯å‘¨åˆŠ å‘¨åˆŠ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—: ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠ. è®°å½•æ¯å‘¨å€¼å¾—åˆ†äº«çš„ç§‘æŠ€å†…å®¹ äº‘è°¦å’Œä»–çš„æœ‹å‹ä»¬ï¼šUmiã€Dva ç­‰åº“ä½œè€… å‰ç«¯é£Ÿå ‚ï¼šä½ çš„å‰ç«¯é£Ÿå ‚ï¼Œåƒå¥½æ¯ä¸€é¡¿é¥­ æ—©æ—©é¸Ÿæ—¥åˆŠï¼šå‰ç«¯æ—©æ—©èŠæ—¥åˆŠ æ½®æµæœ€å‰ç«¯Â·å‘¨åˆŠï¼šé˜¿é‡Œå›¢é˜Ÿçš„å‰ç«¯å‘¨åˆŠ å‰ç«¯æ—©è¯»è¯¾: æ¯å¤©å‡Œæ™¨ 5 ç‚¹çš„æ—©è¯»æ—¶é—´ å­—èŠ‚å‰ç«¯ ByteFE: å­—èŠ‚å‰ç«¯æŠ€æœ¯å‘¨æŠ¥ å°ç»“å¦‚æœä½ å–œæ¬¢æ¯å‘¨èœè°±ï¼Œè¯·è½¬å‘ç»™ä½ çš„æœ‹å‹ï¼Œå‘Šè¯‰ä»–ä»¬æ¥è¿™é‡Œè¿›è¡Œè®¢é˜…~ è®¢é˜…åœ°å€ï¼šhttps://mrseawave.github.io/blogs/ æ¯å‘¨èœè°±ï¼Œè®©ä½ åšé¥­æ›´å¼€å¿ƒ~","link":"/articles/2023/01/16/weekly-01/"},{"title":"ç¬¬ 00 èœè°±ï¼šè‡ªæˆ‘ä»‹ç»","text":"Hiï¼Œæˆ‘æ˜¯ Seaï¼Œæ¬¢è¿æ‰“å¼€æ–°ä¸€æœŸçš„ã€Œæ¯å‘¨èœè°±ã€ï¼Œè¿™æ˜¯ç¬¬ã€Œ00ã€æœŸï¼Œå‘è¡¨äº 2023-01-16ï¼Œä»Šå¤©æˆ‘ä»¬ä¸è®²èœè°±ï¼Œå…ˆæ¥ä»‹ç»ä¸‹ã€Œæ¯å‘¨èœè°±ã€ Aboutã€Œæ¯å‘¨èœè°±ã€æ˜¯ç”¨æ¥åˆ†äº«æ¯å‘¨ä¸‹æ¥æˆ‘æ‰€çœ‹åˆ°æœ‰è¶£ï¼Œæœ‰æ„æ€çš„æŠ€æœ¯æ–‡ç« ï¼Œä»¥åŠä¸€äº›æœ‰ç”¨çš„èµ„æº ä¸ºä»€ä¹ˆè¦å†™ï¼Ÿé•¿ä¹…ä»¥æ¥ï¼Œæˆ‘éƒ½æ˜¯æŠŠç›¸å…³çš„èµ„æºæ”¶è—è¿›æˆ‘çš„æ”¶è—å¤¹ä¸­ï¼Œæ”¶è—ç­‰äºå·²çœ‹ï¼ˆç‹—å¤´ï¼‰ï¼Œè¿™ä¹Ÿå°±å¯¼è‡´äº†æˆ‘åœ¨ä¸çŸ¥ä¸è§‰é—´æ”¶é›†äº†å·®ä¸å¤šæœ‰ 3.3K ä»¥ä¸Šçš„ç½‘å€ï¼Œèµ„æºå¾ˆåˆ†æ•£ï¼Œä¹Ÿæ²¡æœ‰è¿›è¡Œå½’æ¡£ï¼Œæœ€è¿‘æƒ³åˆ°ï¼ŒæŠŠå®ƒå†™æˆæ–‡ç« ï¼Œå…±äº«å‡ºæ¥ï¼Œä¹Ÿè®¸æ•ˆæœæ›´å¥½ã€‚ ç”¨ä¸¤ä¸ªè¯è¯­æ¥å½¢å®¹ï¼Œå·®ä¸å¤šå°±æ˜¯æ²‰æ·€ä¸åˆ†äº« å°ç»“å¦‚æœä½ å–œæ¬¢ã€Œæ¯å‘¨èœè°±ã€ï¼Œè¯·è½¬å‘ç»™ä½ çš„æœ‹å‹ï¼Œå‘Šè¯‰ä»–ä»¬æ¥è¿™é‡Œè¿›è¡Œè®¢é˜…~ è®¢é˜…åœ°å€ï¼šhttps://mrseawave.github.io/blogs/ æ¯å‘¨èœè°±ï¼Œè®©ä½ åšé¥­æ›´å¼€å¿ƒ~","link":"/articles/2023/01/16/weekly-00/"},{"title":"ç¬¬ 02 èœè°±ï¼šèœè°±å¼€åŠ¨äº†ï¼","text":"Hiï¼Œæˆ‘æ˜¯ Seaï¼Œæ¬¢è¿æ‰“å¼€æ–°ä¸€æœŸçš„ã€Œæ¯å‘¨èœè°±ã€ï¼Œè¿™æ˜¯ç¬¬ã€Œ02ã€æœŸï¼Œå‘è¡¨äº 2023-01-16ï¼Œä»Šå¤©å¼€å§‹æ¯å‘¨èœè°±çš„ç¬¬ä¸€æœŸå†…å®¹ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ¯å‘¨æœ‰ä»€ä¹ˆå€¼å¾—æ¨èçš„ æ¯å‘¨æ¨è2022 å¹´å‰ç«¯å¤§äº‹è®°https://mp.weixin.qq.com/s/HfgifbdzBSOZkDb0ru0XsA Webã€ç½‘ç»œç­‰å‰ç«¯éœ€è¦å…³æ³¨çš„é¢†åŸŸä¸­å‘ç”Ÿçš„ä¸€äº›å¤§äº‹ JavaScript å°†æ–°å¢ä¸¤ä¸ªåŸå§‹æ•°æ®ç±»å‹https://github.com/tc39/proposal-record-tuple JavaScript å³å°†æ¨å‡ºä¸¤ä¸ªæ–°çš„æ•°æ®ç±»å‹ï¼šRecord å’Œ Tuple ï¼Œè¯¥ææ¡ˆç›®å‰å·²ç»åˆ°è¾¾ Stage: 2ã€‚ Record å’Œ Tuple åœ¨ç”¨æ³•ä¸Šå’Œå¯¹è±¡ã€æ•°æ®ä¿æŒä¸€è‡´åªä¸è¿‡ä»–ä»¬æ˜¯åªè¯»çš„ï¼š 123456789101112// Record, ä¸€ä¸ªéå¸¸ä¸å¯å˜çš„ç±»å¯¹è±¡ç»“æ„const myRecord = #{ name: 'ConardLi', age: 23,};myRecord.name = 'xxx'; // TypeError &quot;Cannot assign to read only property 'name' of object '[object Object]'&quot;// Tuple, ä¸€ä¸ªéå¸¸ä¸å¯å˜çš„ç±»æ•°ç»„ç»“æ„const myTuple = #['1', '2', '3'];myTuple[0] = '4'; // TypeError &quot;Cannot assign to read only property '0' of object '[object Tuple]'&quot; å¦å¤–è¿˜æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„ç‚¹ï¼Œå½“æˆ‘ä»¬å»æ¯”è¾ƒ Record å’Œ Tuple çš„å€¼æ—¶ï¼Œåªä¼šå¯¹æ¯”å®ƒä»¬çš„å€¼ï¼Œè€Œä¸å†å¯¹æ¯”å¼•ç”¨ã€‚ 123console.log(#{ a: 1, b: 2 } === #{ b: 2, a: 1 });// true Change Array by copy ææ¡ˆè¿›å…¥ stage3https://github.com/tc39/proposal-change-array-by-copy è¯¥ææ¡ˆä¸ºæ•°ç»„æ–°å¢äº†å››ä¸ªéç ´åæ€§ï¼ˆä¸æ”¹å˜åŸæ•°ç»„ï¼‰æ–¹æ³•ï¼š toSorted()ï¼š.sort() çš„éç ´åæ€§ç‰ˆæœ¬ï¼› toReversed()ï¼š.reverse() çš„éç ´åæ€§ç‰ˆæœ¬ï¼› with()ï¼šå¯¹æ•°ç»„çš„æŸä¸ªå…ƒç´ èµ‹å€¼æ“ä½œçš„éç ´åæ€§ç‰ˆæœ¬ï¼› toSpliced()ï¼š.splice() çš„éç ´åæ€§ç‰ˆæœ¬ã€‚ Chrome æ”¯æŒ Priority Hintsï¼Œå¯æ§åˆ¶ç½‘é¡µèµ„æºåŠ è½½ä¼˜å…ˆçº§https://mp.weixin.qq.com/s/CJQ1NB1V8vi1Y8mmw2InYw Chrome 101 æ­£å¼å‘å¸ƒäº† Priority Hintsï¼Œç”¨äºæŒ‡å®šé¡µé¢èµ„æºçš„åŠ è½½ä¼˜å…ˆçº§ï¼Œå³ fetchpriority å±æ€§ï¼Œå¸®åŠ©æµè§ˆå™¨æ ¹æ®ä¼˜å…ˆçº§ä¼˜åŒ–åŠ è½½é¡ºåºï¼Œä»è€Œä¼˜åŒ–é¡µé¢åŠ è½½ä½“éªŒã€‚ å½“æµè§ˆå™¨å¼€å§‹è§£æç½‘é¡µï¼Œå¹¶å¼€å§‹ä¸‹è½½å›¾ç‰‡ã€Script ä»¥åŠ CSS ç­‰èµ„æºçš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šä¸ºæ¯ä¸ªèµ„æºåˆ†é…ä¸€ä¸ªä»£è¡¨èµ„æºä¸‹è½½ä¼˜å…ˆçº§çš„ fetch priority æ ‡å¿—ï¼Œè€Œé»˜è®¤çš„èµ„æºä¸‹è½½é¡ºåºå°±å–å†³äºè¿™ä¸ªä¼˜å…ˆçº§æ ‡å¿—ã€‚ ä½ä»£ç å¤šåˆ†æ”¯ååŒå¼€å‘çš„å»ºè®¾ä¸å®è·µhttps://mp.weixin.qq.com/s/DmwxL67htHfTUP1U966N-Q éšç€ä½ä»£ç çš„æ™®åŠï¼Œåœ¨ä½ä»£ç å¹³å°ä¸Šæ„å»ºä¼ä¸šçº§åº”ç”¨é€æ¸æˆä¸ºç”Ÿäº§è¶‹åŠ¿ã€‚åŒæ—¶ï¼Œéšç€ä½ä»£ç æŠ€æœ¯çš„æå‡ï¼Œè¶Šæ¥è¶Šå¤šçš„å¤æ‚åº”ç”¨åœ¨ä½ä»£ç å¹³å°ä¸­å®Œæˆã€‚åœ¨å…¶ç ”å‘ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œä½ä»£ç å¼€å‘è€…å°±ä¼šé¢ä¸´å¤šäººåä½œã€å¹¶è¡Œå¼€å‘ã€ç»´æŠ¤å¤šç‰ˆæœ¬çš„åœºæ™¯ã€‚è€Œç°æœ‰çš„ä½ä»£ç å¹³å°æ™®éç¼ºä¹è¿™ä¸€èƒ½åŠ›æˆ–æ”¯æŒè¾ƒå¼±ï¼Œå¯¼è‡´å¯¹ååŒå¼€å‘çš„æˆæœ¬è¾ƒé«˜ï¼Œé™åˆ¶äº†è¿­ä»£çš„æ•ˆç‡ã€‚ å¯¹äºâ€œå‰ç«¯çŠ¶æ€â€ç›¸å…³é—®é¢˜ï¼Œå¦‚ä½•æ€è€ƒæ¯”è¾ƒå…¨é¢https://mp.weixin.qq.com/s/y7JzwBcbOobjWQdYEQ7KqA ä¸ç®¡æ˜¯ ClassComponent è¿˜æ˜¯ FunctionComponentã€Options API è¿˜æ˜¯ Composition APIï¼Œä»–ä»¬çš„æœ¬è´¨éƒ½æ˜¯ ã€ŒçŠ¶æ€ä¸ UI çš„æ¾æ•£è€¦åˆå•å…ƒã€ã€‚ å½“ç»„ä»¶æ•°é‡å¢å¤šï¼Œé€»è¾‘å˜å¤æ‚æ—¶ï¼Œä¸€ç§å¸¸è§çš„è§£è€¦æ–¹å¼æ˜¯ â€”â€” å°†å¯å¤ç”¨çš„é€»è¾‘ä»ç»„ä»¶ä¸­æŠ½ç¦»å‡ºæ¥ï¼Œæ”¾åˆ°å•ç‹¬çš„ Model å±‚ã€‚UI ç›´æ¥è°ƒç”¨ Model å±‚çš„æ–¹æ³•ã€‚ å¯¹ Model å±‚çš„ç®¡ç†ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„ ã€ŒçŠ¶æ€ç®¡ç†ã€ã€‚ Pull Requests çš„è‰ºæœ¯https://blog.openacid.com/culture/pr/ https://hackernoon.com/the-art-of-pull-requests-6f0f099850f9 æ PR çš„ä¸€äº›è‰ºæœ¯ï¼Œä¿æŒ PR å¤Ÿå°ï¼Œæè¿‡ PR ååŠæ—¶é€šçŸ¥ï¼Œä¸è¦å¤ªä¸¥è‚ƒï¼Œä¸è¦å¤ªå®³æ€•ã€‚ æˆ‘çš„ä¿¡æ¯æµ 2023.1https://mp.weixin.qq.com/s/AJ4IBgYJ-Mq9OSICG0hRCA æåŠ›æ¨èï¼Œäº‘è°¦å¤§ä½¬ä»‹ç»çš„è‡ªå·±è·å–ä¿¡æ¯çš„æ–¹æ³• æŠ€æœ¯å®è·µè™šæ‹Ÿåˆ—è¡¨ï¼Œæˆ‘çœŸçš„ä¼šäº†https://juejin.cn/post/7085941958228574215 æä¾›äº†å¦‚ä½•å®ç°è™šæ‹Ÿåˆ—è¡¨çš„æ€è·¯ äºŒåå¼ å›¾ç‰‡å½»åº•è®²æ˜ç™½ Webpack è®¾è®¡ç†å¿µhttps://juejin.cn/post/7170852747749621791 ä»æ€æƒ³å’Œæ¶æ„ä¸¤æ–¹é¢æ·±åº¦å‰–æäº† Webpack çš„è®¾è®¡ç†å¿µã€‚æœ€ååœ¨ä»£ç å®ç°é˜¶æ®µï¼Œé€šè¿‡ç™¾æ¥è¡Œä»£ç æ‰‹å†™äº† Webpack çš„æ•´ä½“æµç¨‹ï¼Œå°½ç®¡å®ƒåªèƒ½å¯¹æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ï¼Œè¿˜ç¼ºå°‘å¾ˆå¤šåŠŸèƒ½ï¼Œä½†éº»é›€è™½å°ï¼Œå´ä¹Ÿäº”è„ä¿±å…¨ã€‚ ä¸€æ–‡å¼„æ‡‚ React refhttps://juejin.cn/post/7175174485534834749 é€šè¿‡æœ¬ç¯‡æ–‡ç« çš„å­¦ä¹ ï¼Œä½ å°†æ”¶è· React ref çš„åŸºæœ¬å’Œè¿›é˜¶ç”¨æ³•ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ˜ç™½ React å†…éƒ¨æ˜¯å¦‚ä½•å¤„ç† ref çš„ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªå° Demo + æé—®çš„æ–¹å¼å¸¦ä½ æ›´åŠ æ·±åˆ»åœ°ç†è§£ ref çš„åº•å±‚åŸç† miniReact_v17https://github.com/changcheng1/miniReact_v17 ç²¾ç®€ç‰ˆ React å®ç°ï¼ŒåŒ…å«é€è¡Œæ³¨é‡Š èµ„æºåˆ†äº«Awesome Machttps://github.com/jaywcjlove/awesome-mac æ”¶é›†å„ç§ç±»åˆ«éå¸¸å¥½ç”¨çš„ Mac åº”ç”¨ç¨‹åºã€è½¯ä»¶ä»¥åŠå·¥å…·ã€‚ Carbonhttps://carbon.now.sh/ ä»£ç å›¾ç‰‡ç”Ÿæˆ tinypnghttps://tinypng.com/ å›¾ç‰‡å‹ç¼© CodeTourhttps://marketplace.visualstudio.com/items?itemName=vsls-contrib.codetour VSCode æ’ä»¶ï¼ŒCodeTour å¯ä»¥åœ¨å¤šäººååŒå¼€å‘æ—¶ï¼Œç»™é¡¹ç›®æ·»åŠ  æ–°æ‰‹æŒ‡å¼• æ–¹ä¾¿å¿«é€Ÿç†Ÿæ‚‰ä¸Šæ‰‹æ–°é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥ç”¨äº code reviewï¼Œç°åœ¨æ›´å¯ä»¥ç”¨æ¥è®°å½•æºç ï¼Œè¯¥å·¥å…·ç”± Microsoft å¼€æºå›¢é˜Ÿ æä¾›ï¼Œgithub ä»“åº“åœ°å€ microsoft/codetour DownloadFullInstallerhttps://github.com/scriptingosx/DownloadFullInstaller macOS application written in SwiftUI that downloads installer pkgs for the Install macOS Big Sur application. å°ç»“å¦‚æœä½ å–œæ¬¢æ¯å‘¨èœè°±ï¼Œè¯·è½¬å‘ç»™ä½ çš„æœ‹å‹ï¼Œå‘Šè¯‰ä»–ä»¬æ¥è¿™é‡Œè¿›è¡Œè®¢é˜…~ è®¢é˜…åœ°å€ï¼šhttps://mrseawave.github.io/blogs/ æ¯å‘¨èœè°±ï¼Œè®©ä½ åšé¥­æ›´å¼€å¿ƒ~","link":"/articles/2023/01/16/weekly-02/"},{"title":"ç¬¬ 03 èœè°±ï¼šWeb Development Trends in 2023","text":"Hiï¼Œæˆ‘æ˜¯ Seaï¼Œæ¬¢è¿æ‰“å¼€æ–°ä¸€æœŸçš„ã€Œæ¯å‘¨èœè°±ã€ï¼Œè¿™æ˜¯ç¬¬ã€Œ03ã€æœŸï¼Œå‘è¡¨äº 2023-01-30ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ¯å‘¨æœ‰ä»€ä¹ˆå€¼å¾—æ¨èçš„ æ¯å‘¨æ¨è10 Web Development Trends in 2023https://www.robinwieruch.de/web-development-trends/ ROBIN WIERUCH åˆ†æäº† 2023 å¹´ Web å¼€å‘çš„ 10 ä¸ªè¶‹åŠ¿ï¼Œæ¨èä¸€è¯»ã€‚10 ä¸ªé¢†åŸŸåŒ…æ‹¬å…ƒæ¡†æ¶ã€åº”ç”¨å’Œæ¸²æŸ“æ¨¡å¼ã€Edge ServerLessã€æ•°æ®åº“å¤å…´ã€JavaScript Runtimeã€MonoRepoã€Utility-First CSSã€ç±»å‹å®‰å…¨ã€æ„å»ºå·¥å…·ã€AI é©±åŠ¨å¼€å‘ã€‚ 20 Things Iâ€™ve Learned in my 20 Years as a Software Engineerhttps://www.simplethread.com/20-things-ive-learned-in-my-20-years-as-a-software-engineer/ è®²è¿° 20 å¹´å·¥ä½œç»éªŒå·¥ç¨‹å¸ˆçš„ 20 æ¡ Tipsï¼Œæˆ‘è¯»å®Œå¾ˆæœ‰æ”¶è·ï¼Œæ¨èä¸€è¯» GIF vs PNG, JPEG, and WEBP - The Complete Guide to Image Formatshttps://www.svgator.com/blog/gif-vs-png-jpeg-webp-image-formats-guide/ ä¸€ç¯‡å…³äºå›¾åƒæ ¼å¼çš„ç§‘æ™®æ–‡ CLI tools you wonâ€™t be able to live without ğŸ”§https://dev.to/lissy93/cli-tools-you-cant-live-without-57f6 50 ä¸ªå¼€å‘å¿…å¤‡çš„ CLI å·¥å…· æŠ€æœ¯å®è·µå®Œçˆ† ant design çš„å®šä½ç»„ä»¶ï¼floating-uihttps://juejin.cn/post/7171054283591254029 ç°ä»£ JS åº“æ‰“åŒ…æŒ‡å—https://github.com/frehner/modern-guide-to-packaging-js-library/blob/main/README-zh_CN.md æœ¬æŒ‡å—æ—¨åœ¨æä¾›ä¸€äº›å¤§å¤šæ•°åº“éƒ½åº”è¯¥éµå¾ªçš„ä¸€ç›®äº†ç„¶çš„å»ºè®®ã€‚ä»¥åŠä¸€äº›é¢å¤–çš„ä¿¡æ¯ï¼Œç”¨æ¥å¸®åŠ©ä½ äº†è§£è¿™äº›å»ºè®®è¢«æå‡ºçš„åŸå› ï¼Œæˆ–å¸®åŠ©ä½ åˆ¤æ–­æ˜¯å¦ä¸éœ€è¦éµå¾ªæŸäº›å»ºè®®ã€‚è¿™ä¸ªæŒ‡å—ä»…é€‚ç”¨äº ã€Œåº“ï¼ˆlibrariesï¼‰ã€ï¼Œä¸é€‚ç”¨äºåº”ç”¨ï¼ˆapp æˆ‘è®©è™šæ‹Ÿ DOM çš„ diff ç®—æ³•è¿‡ç¨‹åŠ¨èµ·æ¥äº†https://juejin.cn/post/7160281215940067336 Dom Diff å¯è§†åŒ– æ‰‹æ‘¸æ‰‹å¸¦ä½ å®ç°ä¸€ä¸ªæ—¶é—´è½´ç»„ä»¶https://juejin.cn/post/7157917487953084429 Five Challenges to Building an Isomorphic JavaScript Libraryhttps://doordash.engineering/2022/12/06/five-challenges-to-building-an-isomorphic-javascript-library/ Several challenges arose in even this very simple, fictitious isomorphic library, including: Choosing the right dependencies Designing a unified API between environments Ensuring dependencies only affect intended environments Testing every environment Observability â€” metrics, and logging å‰ç«¯ mock æ•°æ®çš„å‡ ç§æ–¹å¼https://mp.weixin.qq.com/s/kTG2a8T6T2hEJEwDrjfwSw å…·ä½“éœ€æ±‚å¼€å‘å‰ï¼Œåç«¯å¾€å¾€åªæä¾›æ¥å£æ–‡æ¡£ï¼Œå¯¹äºå‰ç«¯ï¼Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯æŠŠæƒ³è¦çš„æ•°æ®å†™æ­»åœ¨ä»£ç é‡Œè¿›è¡Œå¼€å‘ï¼Œä½†è¿™æ ·çš„åå¤„å°±æ˜¯å’Œåç«¯è”è°ƒå‰è¿˜éœ€è¦å†æŠŠå†™æ­»çš„æ•°æ®ä»ä»£ç é‡Œåˆ é™¤ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯æ— ä¾µå…¥çš„ mock ã€‚ä¸‹è¾¹ä»‹ç»å‡ ç§å¸¸ç”¨çš„æ–¹å¼ï¼Œå¤§å®¶å¯ä»¥ç»“åˆè‡ªå·±çš„é¡¹ç›®æ¥é€‰å–ã€‚ æ‹“å±•è¾¹ç•Œå¦‚ä½•é«˜æ•ˆç®¡ç†ä¸€ä¸‡æ¡æµè§ˆå™¨ä¹¦ç­¾ï¼Ÿè®©æ•ˆç‡æé«˜è¶³è¶³ 14 å€ï¼https://www.bilibili.com/video/BV16s4y1x7Ha/?vd_source=340c3fc924b0c4be6baa9bb2af1224a9 ä»€ä¹ˆæ˜¯ Evergreen Note (é•¿é’ç¬”è®°)ï¼Ÿhttps://medium.com/pm%E7%9A%84%E7%94%9F%E7%94%A2%E5%8A%9B%E5%B7%A5%E5%85%B7%E7%AE%B1/%E4%BB%80%E9%BA%BC%E6%98%AF-evergreen-note-%E9%95%B7%E9%9D%92%E7%AD%86%E8%A8%98-5f0b2c7b6547 Evergreen Note æ˜¯ä¸€å¥—ç­†è¨˜æ¦‚å¿µï¼Œç›®æ¨™æ˜¯å°‡ç¢ç‰‡åŒ–çš„ç­†è¨˜è³‡è¨Šï¼Œé€æ¼¸ç™¼å±•æˆçŸ¥è­˜ä¸»é¡Œï¼Œæœ€çµ‚æˆç‚ºå€‹äººçŸ¥è­˜é«”ç³»çš„ä¸€éƒ¨åˆ†ã€‚ Evergreen Note ä¸¦éæ˜¯å…¨æ–°çš„ç­†è¨˜æ¦‚å¿µï¼Œå®ƒå¥ åŸºæ–¼ Zettelkasten å¡ç‰‡ç›’ç­†è¨˜æ³•ä¹‹ä¸Šï¼Œç”šè‡³å¯ä»¥èªªæ˜¯å› æ‡‰ç¾ä»£äººè³‡è¨Šçˆ†ç‚¸çš„ç¾æ³ï¼Œå„ªåŒ–äº† Zettelkasten å¡ç‰‡ç›’ç­†è¨˜æ³• å¹²çœ¼ç—‡https://ask.dxy.com/index?entrysource=APPiOS#/item/disease/4164?dxa_adplatform=appfxwxhy å·¥ä½œæ¸¸ç©çš„æ—¶å€™ï¼Œä¸è¦å¿˜è®°ä¿æŠ¤å¥½ä½ çš„çœ¼ç›ï¼Œå¹²çœ¼æ˜¯æŒ‡å„ç§å› ç´ å¼•èµ·çš„æ³ªæ¶²è´¨å’Œé‡å¼‚å¸¸æˆ–åŠ¨åŠ›å­¦å¼‚å¸¸ï¼Œå¯¼è‡´æ³ªè†œç¨³å®šæ€§ä¸‹é™ï¼Œé€ æˆçœ¼éƒ¨ä¸é€‚ã€è§†åŠ›æŸå®³ä¸çœ¼çƒè¡¨é¢æŸå®³çš„ä¸€ç§çœ¼ç§‘ç–¾ç—… æˆ‘æ˜¯å¦‚ä½•è‰°éš¾åœ°å…‹æœã€Œæ•ˆç‡æˆç˜¾ã€çš„ï¼Ÿhttps://blog.jimmylv.info/2022-02-18-Efficiency-Thinking-01-How-Did-I-Struggle-To-Overcome-Efficiency-Addiction/ æ‰€æœ‰çš„æ•ˆç‡å·¥å…·éƒ½æœ‰ä¸¤ä¸ªå±æ€§ï¼Œç¬¬ä¸€ä¸ªæ˜¯å®ƒçš„ç©å…·å±æ€§ï¼Œç¬¬äºŒä¸ªæ˜¯å·¥å…·å±æ€§ã€‚é‚£ä¹ˆæ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå…‹æœæ•ˆç‡æˆç˜¾çš„åŠæ³•ï¼Œå°±æ˜¯ä¸€å®šè¦åŒºåˆ†å½“å‰è‡ªå·±æ˜¯åœ¨ã€Œç©ç©å…·ã€è¿˜æ˜¯åœ¨ã€Œç”¨å·¥å…·ã€ 10 åˆ†é’Ÿä¿¡ç®±https://10minutemail.com/ åªæœ‰ 10min çš„ä¿¡ç®±ï¼Œç”¨å®Œå°±ä¸¢ï¼Œé¿å…æ”¶åˆ°åƒåœ¾é‚®ä»¶çš„æœ€å¥½æ–¹å¼ å°ç»“å¦‚æœä½ å–œæ¬¢æ¯å‘¨èœè°±ï¼Œè¯·è½¬å‘ç»™ä½ çš„æœ‹å‹ï¼Œå‘Šè¯‰ä»–ä»¬æ¥è¿™é‡Œè¿›è¡Œè®¢é˜…~ è®¢é˜…åœ°å€ï¼šhttps://mrseawave.github.io/blogs/ æ¯å‘¨èœè°±ï¼Œè®©ä½ åšé¥­æ›´å¼€å¿ƒ~","link":"/articles/2023/01/29/weekly-03/"},{"title":"ç¬¬ 04 èœè°±ï¼šåœ¨æµè§ˆå™¨æ§åˆ¶å°å®‰è£…npmåŒ…æ˜¯ä»€ä¹ˆæ“ä½œï¼Ÿ","text":"Hiï¼Œæˆ‘æ˜¯ Seaï¼Œæ¬¢è¿æ‰“å¼€æ–°ä¸€æœŸçš„ã€Œæ¯å‘¨èœè°±ã€ï¼Œè¿™æ˜¯ç¬¬ã€Œ04ã€æœŸï¼Œå‘è¡¨äº 2023-02-05ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ¯å‘¨æœ‰ä»€ä¹ˆå€¼å¾—æ¨èçš„ æ¯å‘¨æ¨èåœ¨æµè§ˆå™¨æ§åˆ¶å°å®‰è£… npm åŒ…æ˜¯ä»€ä¹ˆæ“ä½œï¼Ÿhttps://king-hcj.github.io/2021/10/27/console-npm-install/ æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œnpm æ˜¯ JavaScript ä¸–ç•Œçš„åŒ…ç®¡ç†å·¥å…·,å¹¶ä¸”æ˜¯ Node.js å¹³å°çš„é»˜è®¤åŒ…ç®¡ç†å·¥å…·ã€‚é€šè¿‡ npm å¯ä»¥å®‰è£…ã€å…±äº«ã€åˆ†å‘ä»£ç ,ç®¡ç†é¡¹ç›®ä¾èµ–å…³ç³»ã€‚è™½ç„¶ä½œä¸ºå‘½ä»¤è¡Œå·¥å…·çš„ npm è¿‘å¹´æ¥é€æ¸å¼å¾®ï¼Œä½†æ˜¯ä½œä¸ºå¹¿æ³›ä½¿ç”¨çš„å­˜å‚¨åº“çš„ npmï¼Œå´ä¾ç„¶å¦‚æ—¥ä¸­å¤©ï¼Œè¿˜æ˜¯ä¸–ç•Œä¸Šæœ€å¤§çš„è½¯ä»¶æ³¨å†Œè¡¨ã€‚ é€šå¸¸ï¼Œæˆ‘ä»¬é€šè¿‡npm install xxxåœ¨ Reactã€Vueã€Angular ç­‰ç°ä»£å‰ç«¯é¡¹ç›®ä¸­å®‰è£…ä¾èµ–ï¼Œä½†æ˜¯å‰ç«¯é¡¹ç›®åœ¨æœ¬è´¨ä¸Šè¿˜æ˜¯è¿è¡Œåœ¨æµè§ˆå™¨ç«¯çš„ HTMLã€JavaScript å’Œ CSSï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬æœ‰åŠæ³•åœ¨æµè§ˆå™¨æ§åˆ¶å°ç›´æ¥å®‰è£… npm åŒ…å¹¶ä½¿ç”¨å—? A Cure for React useState Hell?https://www.builder.io/blog/use-reducer æ‹¯æ•‘ useState åœ°ç‹±ï¼Ÿ â€”â€“ ä½¿ç”¨ useReducerã€‚ Preact å¼€å§‹é‡‡ç”¨ Vue3 çš„å“åº”å¼è®¾è®¡https://juejin.cn/post/7163528906539008030 æŠ›å¼ƒ moment.jsï¼ŒåŸºäº date-fns å°è£…æ—¥æœŸç›¸å…³ utilshttps://juejin.cn/post/7151050708094189582 æ—¥æœŸå¤„ç†åº“ï¼šå®˜æ–¹åœæ­¢ç»´æŠ¤çš„ moment.jsï¼Œæ— ç¼ä»£æ›¿ moment.js çš„ day.jsï¼Œé€æ¸æµè¡Œçš„ date-fnsï¼Œæœ€ååŸºäºdate-fnså°è£…å¸¸ç”¨æ—¥æœŸå¤„ç†çš„utilsã€‚ 2023 å¹´äº†ï¼Œå¦‚æœé¡¹ç›®ä¸­æœ‰ç”¨moment.jsçš„å¯ä»¥ç”¨day.jsä»£æ›¿å‡å°‘ä½“ç§¯åšä¼˜åŒ–ï¼Œæ–°é¡¹ç›®å¯ä»¥é€‰æ‹©è€ƒè™‘date-fnsã€‚ javascript-testing-best-practiceshttps://github.com/goldbergyoni/javascript-testing-best-practices æœ¬æŒ‡å—å¯ä»¥åŠ©ä½ å°†æµ‹è¯•èƒ½åŠ›æå‡åˆ°ä¸‹ä¸€å±‚çº§ æŠ€æœ¯å®è·µæŠŠ puppeteer èå…¥è°ƒè¯•æµç¨‹ï¼Œè°ƒè¯•ä½“éªŒçˆ½ç¿»äº†ï¼https://mp.weixin.qq.com/s/lAKomnFaMoff1lV_9VqcCg å¯ä»¥æ€è€ƒä¸‹è¿™ç§è°ƒè¯•æ–¹å¼çš„å¯è¡Œæ€§ è¿™æ ·å°è£…åˆ—è¡¨ hooks,ä¸€å¤©å¯ä»¥å¼€å‘ 20 ä¸ªé¡µé¢https://juejin.cn/post/7165467345648320520 åœ¨åšç§»åŠ¨ç«¯çš„éœ€æ±‚æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šå¼€å‘ä¸€äº›åˆ—è¡¨é¡µï¼Œè¿™äº›åˆ—è¡¨é¡µå¤§å¤šæ•°æœ‰ç€ç›¸ä¼¼çš„åŠŸèƒ½ï¼šåˆ†é¡µè·å–åˆ—è¡¨ã€ä¸Šæ‹‰åŠ è½½ã€ä¸‹æ‹‰åˆ·æ–°Â·Â·Â· åœ¨ Vue å‡ºæ¥ compositionAPI ä¹‹å‰ï¼Œæˆ‘ä»¬æƒ³è¦å¤ç”¨è¿™æ ·çš„é€»è¾‘è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œå¥½åœ¨ç°åœ¨ Vue2.7+éƒ½æ”¯æŒ compositionAPIè¯­æ³•äº†ï¼Œè¿™ç¯‡æ–‡ç« å°† æ‰‹æŠŠæ‰‹å¸¦ä½ ç”¨ compositionAPI å°è£…ä¸€ä¸ªåä¸º useList çš„ hooksæ¥å®ç°åˆ—è¡¨é¡µçš„é€»è¾‘å¤ç”¨ æ‰‹æ’• babel æ’ä»¶-æ¶ˆç­ consoleï¼https://juejin.cn/post/7155765227986878494 å†™ä¸€ä¸ª babel æ’ä»¶æ¥å»é™¤ç”Ÿäº§ç¯å¢ƒçš„ console.log å‰ç«¯æ€§èƒ½-é¦–æ¬¡åŠ è½½ä¼˜åŒ– 70%https://juejin.cn/post/7153527700286603300 æ‹“å±•è¾¹ç•Œåˆ«å†é—®æˆ‘ WiFi å¯†ç äº†ï¼šè¿™ä¸¤ä¸ª GitHub å¸®ä½ è§£å†³https://juejin.cn/post/6985183527973158942 è¿™ä¸ªåœºæ™¯åœ¨ä½ ç”Ÿæ´»ä¸­æ˜¯ä¸æ˜¯ç»å¸¸å‡ºç°ï¼Ÿ è‡ªå·±è®¾ç½®çš„ WiFi çš„å¯†ç å´å¿˜è®°äº†ï¼Œè€Œä¸”æ¥ä¸€ä¸ªå®¢äººéƒ½éœ€è¦è¯´ä¸€æ¬¡å¯†ç ï¼Œå¹´çºªå¤§ä¸€ç‚¹çš„è¿˜å¾—éœ€è¦ä½ å¸®ä»–è¿ä¸Š WiFiã€‚ å¦‚æœä½ ä¹Ÿè§‰å¾—è¿™äº‹å„¿æœ‰ç‚¹éº»çƒ¦ï¼Œå¯ä»¥ä»è¿™ä¸ªæ–‡ç« ä¸­æ‰¾ä¸€ä¸ªç®€å•é«˜æ•ˆçš„åŠæ³•ã€‚ DeliberatePracticeVimIn30Dayshttps://github.com/itgoyo/DeliberatePracticeVimIn30Days åˆ»æ„ç»ƒä¹  Vim30 å¤©èƒ½è¾¾åˆ°ä»€ä¹ˆæ•ˆæœï¼Œæ˜¯éº»ç“œï¼Œè¿˜æ˜¯æˆç¥ï¼Ÿ ARCHIVEBOXhttps://archivebox.io/ ğŸ—ƒ Open source self-hosted web archiving. Takes URLs/browser history/bookmarks/Pocket/Pinboard/etc., saves HTML, JS, PDFs, media, and moreâ€¦ ä¹…ååæƒ³è®©èº«ä½“ä¼‘æ¯ä¸€ä¸‹ï¼Œä¸å¦‚è¯•è¯•è¿™ 9 æ¬¾ Mac åº”ç”¨https://sspai.com/post/54648 å¯¹ç€ç”µè„‘å±å¹•ç«¯åä¸€ä¸ªä¸‹åˆï¼Œç»ˆäºå®Œæˆäº†æ‰‹å¤´çš„å·¥ä½œã€‚åˆä¸Šå±å¹•èµ·èº«ä¹‹æ—¶ï¼Œæ„Ÿè§‰è…°èƒŒä¸€é˜µé…¸ç–¼ï¼›ä¸¤çœ¼æ›´æ˜¯ç–²æƒ«ä¸å ªã€‚äºæ˜¯ä¸ç¦æ„Ÿå¹ï¼šå¤šå°‘æ¬¡äº†â€¦â€¦ä¸‹æ¬¡ä¸­é—´è¦è®°å¾—æš‚åœä¼‘æ¯ä¸€ä¸‹ã€‚æ„Ÿå¹ä¹…äº†ï¼Œå°±ä¼šæƒ³è¦è®¾æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è¿™ 9 æ¬¾ MAC åº”ç”¨æ€»æœ‰ä¸€æ¬¾é€‚åˆä½ ï¼Œä»–ä»¬éƒ½æ˜¯è¿è¡Œåœ¨åå°ï¼Œå®šæ—¶è·³å‡ºæ¥æé†’ä½ ã€Œè¯¥ä¼‘æ¯ä¸€ä¸‹äº†ã€ å°ç»“å¦‚æœä½ å–œæ¬¢æ¯å‘¨èœè°±ï¼Œè¯·è½¬å‘ç»™ä½ çš„æœ‹å‹ï¼Œå‘Šè¯‰ä»–ä»¬æ¥è¿™é‡Œè¿›è¡Œè®¢é˜…~ è®¢é˜…åœ°å€ï¼šhttps://mrseawave.github.io/blogs/ æ¯å‘¨èœè°±ï¼Œè®©ä½ åšé¥­æ›´å¼€å¿ƒ~","link":"/articles/2023/02/05/weekly-04/"},{"title":"ç¬¬ 05 èœè°±ï¼šå¤šå­¦ä¹ ç‚¹ CSS~","text":"Hiï¼Œæˆ‘æ˜¯ Seaï¼Œæ¬¢è¿æ‰“å¼€æ–°ä¸€æœŸçš„ã€Œæ¯å‘¨èœè°±ã€ï¼Œè¿™æ˜¯ç¬¬ã€Œ05ã€æœŸï¼Œå‘è¡¨äº 2023-02-12ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ¯å‘¨æœ‰ä»€ä¹ˆå€¼å¾—æ¨èçš„ æ¯å‘¨æ¨èECMAScript Async Context ææ¡ˆä»‹ç»https://mp.weixin.qq.com/s/WOSMr6VWbmY3cOUoZRqJDg ç”±é˜¿é‡Œå·´å·´ TC39 ä»£è¡¨ä¸»å¯¼çš„ Async Context ææ¡ˆ åˆšåœ¨ 2023 å¹´ 2 æœˆåˆçš„ TC39 ä¼šè®®ä¸­æˆä¸ºäº† TC39 Stage 1 ææ¡ˆã€‚ææ¡ˆçš„ç›®æ ‡æ˜¯å®šä¹‰åœ¨ JavaScript çš„å¼‚æ­¥ä»»åŠ¡ä¸­ä¼ é€’æ•°æ®çš„æ–¹æ¡ˆã€‚ é¢è¯•å¿…é—®çš„å¼‚æ­¥é¡ºåºé—®é¢˜ï¼Œç”¨ Performance è½»æ¾ç†æ¸…https://mp.weixin.qq.com/s/T8T89IVhDEsHBuawG0KpGA å¼‚æ­¥ä»£ç çš„æ‰§è¡Œé¡ºåºæ˜¯å‰ç«¯é¢è¯•å¿…é—®çš„é¢è¯•é¢˜ï¼Œå®ƒä¸»è¦è€ƒå¯Ÿå¯¹ Event Loopã€å®å¾®ä»»åŠ¡ä»¥åŠå®ƒä»¬æ‰§è¡Œé¡ºåºçš„ç†è§£ã€‚ ä¸º iframe æ­£åï¼Œä½ å¯èƒ½å¹¶ä¸éœ€è¦å¾®å‰ç«¯https://juejin.cn/post/7185070739064619068 ä»»ä½•æ–°æŠ€æœ¯ã€æ–°äº§å“éƒ½æ˜¯æœ‰ä¸€å®šé€‚ç”¨åœºæ™¯çš„ï¼Œå®ƒå¯èƒ½åœ¨å½“ä¸‹å¾ˆæµè¡Œï¼Œä½†å®ƒä¸ä¸€å®šåœ¨ä»»ä½•æ—¶å€™éƒ½æ˜¯æœ€ä¼˜è§£ã€‚ qiankun çš„ä½œè€…æœ‰ä¸€ç¯‡ã€ŠWhy Not Iframeã€‹ ä»‹ç»äº† iframe çš„ä¼˜ç¼ºç‚¹ï¼ˆä¸è¿‡ä½œè€…è¿˜æœ‰ä¸€ç¯‡ã€Šä½ å¯èƒ½å¹¶ä¸éœ€è¦å¾®å‰ç«¯ã€‹ç»™å¾®å‰ç«¯é™é™ç«ï¼‰ï¼Œè¯šç„¶ iframe ç¡®å®å­˜åœ¨å¾ˆå¤šç¼ºç‚¹ï¼Œä½†æ˜¯åœ¨é€‰æ‹©ä¸€ä¸ªæ–¹æ¡ˆçš„æ—¶å€™è¿˜æ˜¯è¦å…·ä½“åœºæ™¯å…·ä½“åˆ†æï¼Œå®ƒå¯èƒ½åœ¨å½“ä¸‹å¾ˆæµè¡Œï¼Œä½†å®ƒä¸ä¸€å®šåœ¨ä»»ä½•æ—¶å€™éƒ½æ˜¯æœ€ä¼˜è§£ï¼šiframe çš„è¿™äº›ç¼ºç‚¹å¯¹æˆ‘æ¥è¯´æ˜¯å¦èƒ½å¤Ÿæ¥å—ï¼Ÿå®ƒçš„ç¼ºç‚¹æ˜¯å¦æœ‰å…¶å®ƒæ–¹æ³•å¯ä»¥å¼¥è¡¥ï¼Ÿä½¿ç”¨å®ƒåˆ°åº•æ˜¯åˆ©å¤§äºå¼Šè¿˜æ˜¯å¼Šå¤§äºåˆ©ï¼Ÿæˆ‘ä»¬éœ€è¦åœ¨ä¼˜ç¼ºç‚¹ä¹‹é—´æ‰¾åˆ°ä¸€ä¸ªå¹³è¡¡ã€‚ çœ‹å®Œ Svelte çºªå½•ç‰‡æ‰çŸ¥é“å®ƒä¸ºä»€ä¹ˆåœ¨å›½å¤–æ¯”å›½å†…ç«https://juejin.cn/post/7195401394692554812 Svelte çºªå½•ç‰‡ React.js å®˜ç½‘çºªå½•ç‰‡ 2023-The Documentaryhttps://www.bilibili.com/video/BV1qT411R7M3/ Reactçºªå½•ç‰‡ æŠ€æœ¯å®è·µCSS transition å°æŠ€å·§ï¼å¦‚ä½•ä¿ç•™ hover çš„çŠ¶æ€ï¼Ÿhttps://mp.weixin.qq.com/s/F9uVoV0PbYDLJ6dNZvrQqA å¦‚ä½•åœ¨ä¸å€ŸåŠ© JSï¼Œä¿ç•™ä½ hover çŠ¶æ€ å±…ä¸­ toast æœ€ä½³ CSS å®ç°https://www.bilibili.com/video/BV19Y411q7kH/ å¦‚ä½•ç”¨ cssï¼Œå®ç° toastï¼Œçœæµï¼š 12345678.toast { positionï¼šfixedï¼› widthï¼šfit-contentï¼› leftï¼š1remï¼› rightï¼š1remï¼› margin-leftï¼šautoï¼› margin-rightï¼šautoï¼›} è¿˜åœ¨ç”¨ JS åšèŠ‚æµå—ï¼ŸCSS ä¹Ÿå¯ä»¥é˜²æ­¢æŒ‰é’®é‡å¤ç‚¹å‡»https://mp.weixin.qq.com/s/sXXvro-n5RH9eFJ9UPw3qQ ä¼—æ‰€å‘¨çŸ¥ï¼Œå‡½æ•°èŠ‚æµï¼ˆthrottleï¼‰æ˜¯ JS ä¸­ä¸€ä¸ªéå¸¸å¸¸è§çš„ä¼˜åŒ–æ‰‹æ®µï¼Œå¯ä»¥æœ‰æ•ˆé¿å…å‡½æ•°è¿‡äºé¢‘ç¹çš„æ‰§è¡Œã€‚å…¶å®é™¤äº† JS æ–¹å¼ï¼Œ CSS ä¹Ÿå¯ä»¥éå¸¸è½»æ˜“å®ç°è¿™æ ·ä¸€ä¸ªåŠŸèƒ½ï¼Œæ— éœ€ä»»ä½•æ¡†æ¶åº“ï¼Œä¸€èµ·çœ‹çœ‹å§ 1234567891011121314button { animation: throttle 2s step-end forwards;}button:active { animation: none;}@keyframes throttle { from { pointer-events: none; } to { pointer-events: all; }} vh å­˜åœ¨é—®é¢˜ï¼Ÿè¯•è¯•åŠ¨æ€è§†å£å•ä½ä¹‹ dvhã€svhã€lvhhttps://mp.weixin.qq.com/s/wUn0bZ2qJjJ2FCwbWEQvWQ vh åœ¨ç§»åŠ¨ç«¯å­˜åœ¨é—®é¢˜ï¼ï¼ˆåœ¨ç§»åŠ¨ç«¯ï¼Œ100vh ä¸æ€»æ˜¯ç­‰äºä¸€å±å¹•çš„é«˜åº¦**ã€‚æœ‰çš„æ—¶å€™ï¼Œ100vh é«˜åº¦ä¼šå‡ºç°æ»šåŠ¨æ¡ï¼‰æ ¹å› åœ¨äºï¼š å¾ˆå¤šæµè§ˆå™¨ï¼Œåœ¨è®¡ç®— 100vh çš„é«˜åº¦çš„æ—¶å€™ï¼Œä¼šæŠŠåœ°å€æ ç­‰ç›¸å…³æ§ä»¶çš„é«˜åº¦è®¡ç®—åœ¨å†… åŒæ—¶ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œç”±äºä¼šå¼¹å‡ºè½¯é”®ç›˜ç­‰æ“ä½œï¼Œåœ¨å¼¹å‡ºçš„è¿‡ç¨‹ä¸­ï¼Œ100vh çš„è®¡ç®—å€¼å¹¶ä¸ä¼šå®æ—¶å‘ç”Ÿå˜åŒ–ï¼ å› æ­¤æœ‰äº†æ–°è§†å£ç›¸å…³å•ä½ lvhã€svhã€dvh 45 ä¸ª GIT ç»å…¸æ“ä½œåœºæ™¯ï¼Œä¸“æ²»ä¸ä¼šåˆä»£ç https://mp.weixin.qq.com/s/2p4m63JdsCjBpVku-WaZyA æ•´ç†äº† 45 ä¸ªæ—¥å¸¸ç”¨ git åˆä»£ç çš„ç»å…¸æ“ä½œåœºæ™¯ï¼ŒåŸºæœ¬è¦†ç›–äº†å·¥ä½œä¸­çš„éœ€æ±‚ã€‚ æ‹“å±•è¾¹ç•Œçœ¼ç›å¹²æ¶©å‘èƒ€åˆ«ç¡¬ç†¬ï¼Œå¿«è¯•è¯•è¿™ä¸¤ä¸ªæ–¹æ³•https://mp.weixin.qq.com/s/Qb2aCY8Fl3GpO_tki-On7w è™½ç„¶é‡Œé¢æ˜¯å¹¿å‘Šï¼Œä½†è¿˜æ˜¯æœ‰æœ‰æ•ˆçš„æŠ¤çœ¼å°å¦™æ‹› çƒ­æ•· 40 â„ƒï¼ŒæŒç»­ååˆ†é’Ÿ æŒ‰æ‘©çœ¼çœ¶å‘¨å›´ï¼Œç¼“è§£è‚Œè‚‰ç–²åŠ³ ä¸ºä»€ä¹ˆäº‘ç›˜çš„ä¸Šä¼ é€Ÿåº¦é‚£ä¹ˆå¿«ï¼Ÿhttps://www.zhihu.com/question/512137759 å› ä¸ºç½‘ç›˜ï¼ˆäº‘ç›˜ï¼‰åŸºæœ¬éƒ½æœ‰ç§’ä¼ æ¨¡å—ï¼Œè¿™ä¸ªæ–‡ä»¶ç¬¦åˆç§’ä¼ è§„åˆ™ï¼ˆäº‘ç«¯æ•°æ®é‡Œå·²ç»æœ‰ä¸€æ‘¸ä¸€æ ·çš„æ–‡ä»¶å­˜åœ¨äº†ï¼‰ï¼Œè¢«ç§’ä¼ äº†ï¼Œç§’ä¼ çš„åŸç†å…¶å®ç›¸å½“ç®€å•ï¼Œå°±æ˜¯æˆ‘ä»¬ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œç³»ç»Ÿå»æ‰«ææ–‡ä»¶çš„å“ˆå¸Œç å¹¶ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œæ¯ä¸ªæ–‡ä»¶ï¼ˆåŒ…æ‹¬å…¶å‰¯æœ¬ï¼‰çš„å“ˆå¸Œç éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå°±æ˜¯è¯´ï¼Œå¦‚æœå“ˆå¸Œç ç›¸åŒï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸ºæ˜¯åŒä¸€ä¸ªæ–‡ä»¶ã€‚è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ˜ç¡®ï¼Œæ‰€ä»¥æ‰€è°“â€œé™é€Ÿâ€çš„ç½‘ç›˜ï¼Œé™åˆ¶çš„ä¹Ÿæ˜¯ä¸‹è½½é€Ÿåº¦ã€‚ä¸ç®¡ä»€ä¹ˆå¹³å°ï¼Œä¸Šä¼ éƒ½æ˜¯èƒ½è·‘æ»¡ç½‘é€Ÿçš„ï¼ˆä¸Šè¡Œå¸¦å®½ï¼‰ Rediscovering RSShttps://deqc.xyz/posts/why-i-went-back-to-rss/ å°ç»“å¦‚æœä½ å–œæ¬¢æ¯å‘¨èœè°±ï¼Œè¯·è½¬å‘ç»™ä½ çš„æœ‹å‹ï¼Œå‘Šè¯‰ä»–ä»¬æ¥è¿™é‡Œè¿›è¡Œè®¢é˜…~ è®¢é˜…åœ°å€ï¼šhttps://mrseawave.github.io/blogs/ æ¯å‘¨èœè°±ï¼Œè®©ä½ åšé¥­æ›´å¼€å¿ƒ~","link":"/articles/2023/02/11/weekly-05/"},{"title":"ç¬¬ 06 èœè°±ï¼šSignalï¼šæ›´å¤šå‰ç«¯æ¡†æ¶çš„é€‰æ‹©","text":"Hiï¼Œæˆ‘æ˜¯ Seaï¼Œæ¬¢è¿æ‰“å¼€æ–°ä¸€æœŸçš„ã€Œæ¯å‘¨èœè°±ã€ï¼Œè¿™æ˜¯ç¬¬ã€Œ06ã€æœŸï¼Œå‘è¡¨äº 2023-02-26ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ¯å‘¨æœ‰ä»€ä¹ˆå€¼å¾—æ¨èçš„~ æ¯å‘¨æ¨èSignalï¼šæ›´å¤šå‰ç«¯æ¡†æ¶çš„é€‰æ‹©https://mp.weixin.qq.com/s/UDv4loT8iaTgkeFjeq-T-w Signalï¼šæ›´å¤šå‰ç«¯æ¡†æ¶çš„é€‰æ‹©ï¼Œæœ€è¿‘ï¼ŒAngularã€Qwik çš„ä½œè€…ã€ŒMIÅ KO HEVERYã€å‘æ–‡è¡¨ç¤º Signal æ˜¯å‰ç«¯æ¡†æ¶çš„æœªæ¥ï¼Œå¹¶è€ƒè™‘åœ¨ Angular ä¸­å®ç°å®ƒã€‚åœ¨æ­¤ä¹‹å‰ï¼ŒVueã€Solid.jsã€Preactã€Svelte éƒ½å·²å®ç° Signalã€‚å®é™…ä¸Šï¼Œsignal å¹¶ä¸æ˜¯ä¸€ä¸ªæ–°æ¦‚å¿µï¼Œä»–è¿˜æœ‰å¾ˆå¤šåˆ«åï¼Œæ¯”å¦‚ï¼š å“åº”å¼æ›´æ–° ç»†ç²’åº¦æ›´æ–° How to handle errors in React: full guidehttps://www.developerway.com/posts/how-to-handle-errors-in-react Looking into how to catch and handle errors in React. Usages, patterns and caveats of try/catch and ErrorBoundary, whatâ€™s possible, whatâ€™s not, and how to catch all errors, including async and errors from event handlers, with ErrorBoundary. Modularizing React Applications with Established UI Patternshttps://martinfowler.com/articles/modularizing-react-apps.html Established UI patterns are often underutilized in the frontend development world, despite their proven effectiveness in solving complex problems in UI design. This article explores the application of established UI building patterns to the React world, with a refactoring journey code example to showcase the benefits. The emphasis is placed on how layering architecture can help organize the React application for improved responsiveness and future changes. React Component Compositionhttps://punits.dev/jargon-free-intros/react-component-composition/ å›¾è§£ Composition Multi-threaded React App using useWorkerhttps://dev.to/nilanth/multi-threaded-react-app-using-useworker-gf8 Web Worker allows using multi-threading in react apps for performing expensive tasks without blocking the UI. Whereas useWorker allows using the web worker APIs in a simplified hooks approach in react apps. Workers shouldnâ€™t be overused, we should use it only if necessary or it will increase the complexity of managing the workers. è…¾è®¯æ–‡æ¡£æ™ºèƒ½è¡¨æ ¼æ¸²æŸ“å±‚ Feature è®¾è®¡https://mp.weixin.qq.com/s/cLoE_RydYueo7OeYp4_56A æ ¹æ®ä¾‹å­è®²è§£ä¸äº¤äº’ç›¸å…³çš„ canvas Feature è®¾è®¡ æŠ€æœ¯å®è·µé€šè¿‡å‘å¸ƒè®¢é˜…ï¼Œå®ç°å¤šåŠŸèƒ½ï¼Œå¤šæ–¹å‘çš„ Messagehttps://juejin.cn/post/7198041700555079735 å¦‚ä½•å®ç°ä¸€ä¸ª Message ç»„ä»¶ ä¸€ä¸ªä¼ä¸šçº§çš„æ–‡ä»¶ä¸Šä¼ ç»„ä»¶åº”è¯¥æ˜¯ä»€ä¹ˆæ ·çš„https://mp.weixin.qq.com/s/fo8go6i507dAyOpHCGB2ng æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹,å„ä¸ªç‰ˆæœ¬çš„æ–‡ä»¶ä¸Šä¼ ç»„ä»¶å¤§æ¦‚éƒ½é•¿ä»€ä¹ˆæ · ç­‰çº§ åŠŸèƒ½ é’é“œ-åƒåœ¾ç©æ„ åŸç”Ÿ+axios.post ç™½é“¶-ä½“éªŒå‡çº§ ç²˜è´´,æ‹–æ‹½,è¿›åº¦æ¡ é»„é‡‘-åŠŸèƒ½å‡çº§ æ–­ç‚¹ç»­ä¼ ,ç§’ä¼ ,ç±»å‹åˆ¤æ–­ é“‚é‡‘-é€Ÿåº¦å‡çº§ web-worker,æ—¶é—´åˆ‡ç‰‡,æŠ½æ · hash é’»çŸ³-ç½‘ç»œå‡çº§ å¼‚æ­¥å¹¶å‘æ•°æ§åˆ¶,åˆ‡ç‰‡æŠ¥é”™é‡è¯• ç‹è€…-ç²¾é›•ç»†ç¢ æ…¢å¯åŠ¨æ§åˆ¶,ç¢ç‰‡æ¸…ç†ç­‰ç­‰ æ­ä¸€å¥—â€œ react-cli â€https://juejin.cn/post/7033959447017816077 ç ”ç©¶vue-cliæ­ä¸€å¥—react-cli å‡ºæ¥ åŸç”Ÿ CSS Custom Highlight ç»ˆäºæ¥äº†~https://mp.weixin.qq.com/s/8GXWG1JHIOHVWlsK-NxY1Q ä»‹ç»ä¸€ä¸ªæ¯”è¾ƒå‰æ²¿ä½†æ˜¯éå¸¸æœ‰ç”¨çš„æ–°ç‰¹æ€§ï¼šä¸€ä¸ªæµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„ CSS æ–‡æœ¬é«˜äº®åŠŸèƒ½ï¼Œå®˜æ–¹åç§°å«åš CSS Custom Highlight API[1]ï¼Œæœ‰äº†å®ƒï¼Œå¯ä»¥åœ¨ä¸æ”¹å˜ dom ç»“æ„çš„æƒ…å†µä¸‹è‡ªå®šä¹‰ä»»æ„æ–‡æœ¬çš„æ ·å¼ React Context å®ç°åŸç†ï¼šå®ƒåœ¨ antd æºç é‡Œç®€ç›´ç”¨çš„å¤ªå¤šäº†https://mp.weixin.qq.com/s/l6-DWRzUwDoWzwrM7uZlPQ æ¢ç©¶ä¸€ä¸‹ antd ç»„ä»¶åº“æ˜¯æ€ä¹ˆç”¨ context çš„ï¼Ÿcontext åˆæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ æ‹“å±•è¾¹ç•Œ2023 å¹´æœ€æ–°æœ€å…¨ VSCode æ’ä»¶æ¨èï¼https://mp.weixin.qq.com/s/3XT3Wv5stDAd27lmw_uvXg åˆ†äº« 2023 å¹´å‰ç«¯å¿…å¤‡çš„ VS Code æ’ä»¶ ä¸€ä¸ªç¨‹åºå‘˜å†³å®šå†™ä»£ç åˆ° 60 å²https://mp.weixin.qq.com/s/-91Z76WGF6O0uxyyGEcHMg ä¹é“ä¸‹ç­è¶…çœäº‹ä¸€é”…å‡ºæ–™ç†https://b23.tv/Ae5VLPZ ä¹é“æ‡’äººåšèœï¼Œåƒé¥­è¿˜æ˜¯æ‡’ç‚¹çš„å¥½ ç®€å•æè¿°å·¥ä½œå†…å®¹ å¸®ä½ ç”Ÿæˆå®Œæ•´å‘¨æŠ¥https://github.com/guaguaguaxia/weekly_report åªéœ€å‡ å¥ï¼Œå¸®ä½ ç”Ÿæˆå®Œæ•´å‘¨æŠ¥~ å°ç»“å¦‚æœä½ å–œæ¬¢æ¯å‘¨èœè°±ï¼Œè¯·è½¬å‘ç»™ä½ çš„æœ‹å‹ï¼Œå‘Šè¯‰ä»–ä»¬æ¥è¿™é‡Œè¿›è¡Œè®¢é˜…~ è®¢é˜…åœ°å€ï¼šhttps://mrseawave.github.io/blogs/ æ¯å‘¨èœè°±ï¼Œè®©ä½ åšé¥­æ›´å¼€å¿ƒ~","link":"/articles/2023/02/26/weekly-06/"},{"title":"ç¬¬ 07 èœè°±ï¼šHow to Name your Types","text":"æŠ±æ­‰ï¼Œå¾ˆä¹…æ²¡æœ‰æ›´æ–°ï¼Œæˆ‘æ˜¯ Seaï¼Œæ¬¢è¿æ‰“å¼€æ–°ä¸€æœŸçš„ã€Œæ¯å‘¨èœè°±ã€ï¼Œè¿™æ˜¯ç¬¬ã€Œ07ã€æœŸï¼Œå‘è¡¨äº 2023-04-15ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ¯å‘¨æœ‰ä»€ä¹ˆå€¼å¾—æ¨èçš„~ æ¯å‘¨æ¨èHow to Name your Typeshttps://www.youtube.com/watch?v=qA65QjWCl60&amp;ab_channel=MattPocock TS ä¸­çš„ä¸€äº›å®šä¹‰è§„èŒƒ - ä¸è¦ä½¿ç”¨ `I` åšä¸ºæ¥å£åå‰ç¼€ - æ³›å‹ä¸­çš„ `&lt;&gt;` å‚æ•°ç±»å‹ä»¥ `T` å¼€å¤´ - ...... åŸºäº Git çš„å¼€å‘å·¥ä½œæµâ€”â€”ä¸»å¹²å¼€å‘ç‰¹æ€§æ€»ç»“https://mp.weixin.qq.com/s/BvP6d8SJNFEt67BvCHJDLA åŸºäº Git çš„ä¸¤ç§æœ€æµè¡Œçš„å¼€å‘å·¥ä½œæµæ˜¯åŸºäºä¸»å¹²çš„å¼€å‘å’ŒåŸºäºç‰¹æ€§çš„å¼€å‘ï¼Œæœ¬æ–‡ä¸»è¦æ€»ç»“äº†åŸºäºä¸»å¹²å¼€å‘çš„ç‰¹æ€§ ç°ä»£å›¾ç‰‡æ€§èƒ½ä¼˜åŒ–åŠä½“éªŒä¼˜åŒ–æŒ‡å—https://mp.weixin.qq.com/s/YfJSqUYsJvlTXH6gRHhrmw å›¾ç‰‡èµ„æºï¼Œåœ¨ä¸šåŠ¡ä¸­å¯è°“æ˜¯å æ®äº†éå¸¸å¤§å¤´ï¼Œå¯¹å›¾ç‰‡çš„æ€§èƒ½ä¼˜åŒ–åŠä½“éªŒä¼˜åŒ–åœ¨ä»Šå¤©å°±æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚è¿™ç¯‡æ–‡ç« å°†ä»‹ç»å¦‚ä½•å°½å¯èƒ½çš„å¯¹æˆ‘ä»¬çš„å›¾ç‰‡èµ„æºï¼Œè¿›è¡Œæ€§èƒ½ä¼˜åŒ–åŠä½“éªŒä¼˜åŒ– How to use useEffect on server-side?https://medium.com/swlh/how-to-use-useeffect-on-server-side-654932c51b13 åœ¨ SSR åº”ç”¨ä¸‹ï¼Œé€šå¸¸éƒ½æ˜¯éœ€è¦åœ¨æœåŠ¡ç«¯è·å–æ•°æ®ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥å¦‚ä½•åœ¨æœåŠ¡ç«¯ä¸‹ä½¿ç”¨ useEffect å‘¢ï¼Ÿ å¼‚æ­¥æ•°æ®çš„çŠ¶æ€ç®¡ç†ï¼šReact-Queryhttps://segmentfault.com/a/1190000042788578 react-query æ˜¯ä¸€ä½æ•°æ®è·å–ä¸“å®¶ï¼Œèƒ½å¤ŸåŸºäº Hooks æ™ºèƒ½ç®¡ç†è¯·æ±‚çš„ä¸€åˆ‡å†…å®¹ï¼ŒåŒ…æ‹¬æ•°æ®ã€çŠ¶æ€ã€ç¼“å­˜ï¼Œæ›´æ–°ç­‰ ä¸€æ–‡çœ‹é€ Module Federationhttps://mp.weixin.qq.com/s/WCQvPbd_w8P-Tn36Sc0SXQ æ–‡ç« æ¢ç´¢ Module Federation ä¸å¾®å‰ç«¯æ–¹æ¡ˆç»“åˆèµ·æ¥çš„å¯èƒ½æ€§ï¼Œæ·±å…¥äº†è§£äº†å®ƒçš„åº•å±‚åŸç† æŠ€æœ¯å®è·µå¯¹äºé¡µé¢çš„â€è¿”å›â€æ“ä½œï¼Œè¿™æ ·å¤„ç†æ¯”è¾ƒåˆé€‚https://mp.weixin.qq.com/s/LL5UlDnFhJClZdFOdliPHw å¦‚ä½•å¤„ç†é¡µé¢çš„è¿”å›æ“ä½œ å¦‚ä½•ç”¨ JS å®ç°ç€‘å¸ƒæµå¸ƒå±€https://mp.weixin.qq.com/s/pLZxgZDX6m03uEK1aV9jTg ç€‘å¸ƒæµå¸ƒå±€ï¼Œæ˜¯ç°åœ¨æ¯”è¾ƒæµè¡Œçš„ä¸€ç§é¡µé¢å¸ƒå±€æ–¹å¼ï¼Œå³å¤šè¡Œç­‰å®½å…ƒç´ æ’åˆ—ï¼Œç­‰å®½ä¸ç­‰é«˜ï¼Œåé¢çš„å…ƒç´ ä¾æ¬¡æ·»åŠ åˆ°å‰ä¸€è¡Œæœ€çŸ®çš„å…ƒç´ ä¸‹æ–¹ã€‚æœ¬æ–‡ä»‹ç»å¦‚ä½•ç”¨ JS å®ç°ç€‘å¸ƒæµå¸ƒå±€ fixed å…ƒç´ ä¸€å®šæ˜¯ç›¸å¯¹è§†å£å®šä½çš„å—ï¼Ÿhttps://juejin.cn/post/6844904046663303181 fixed å…ƒç´ ä¸€å®šæ˜¯ç›¸å¯¹è§†å£å®šä½çš„å—ï¼Ÿå¦‚æœä½ å¯¹æ­¤æœ‰ç–‘é—®ï¼Œå¯ä»¥æŸ¥çœ‹è¯¥æ–‡ç«  çº¯ CSS å®ç°åä¸ªè¿˜ä¸é”™çš„ Loading æ•ˆæœhttps://mp.weixin.qq.com/s/g5Uh86Z4EDlmM4JZwWM2yQ çº¯ CSS å®ç°åä¸ªè¿˜ä¸é”™çš„ Loading æ•ˆæœ æ‹“å±•è¾¹ç•ŒReact è¯­å¢ƒä¸‹å‰ç«¯ DDD çš„é•¿å¹´æ¢ç´¢ç»éªŒhttps://juejin.cn/post/7187584683478089787 å¦‚æœä½ å¯¹å¦‚ä½•åœ¨å¦‚æ­¤å¤æ‚çš„ç³»ç»Ÿä¸­ï¼Œæ¯”è¾ƒåˆç†åœ°æŒæ¡æ¯ä¸€ä¸ªæŠ€æœ¯ç»†èŠ‚èƒŒåçš„ä¸šåŠ¡é€»è¾‘ï¼Œç¡®ä¿ä¸šåŠ¡å®ç°çš„å‡†ç¡®æ€§æœ‰å…´è¶£çš„è¯ï¼Œå¯ä»¥çœ‹çœ‹æ­¤ç¯‡æ–‡ç«  æ—§æ‰‹æœºå¹²ç¿»æ——èˆ°ï¼Ÿhttps://www.bilibili.com/video/BV1D24y157SD/?vd_source=340c3fc924b0c4be6baa9bb2af1224a9 è§†é¢‘ä¸­æ•™ä½ åˆ©ç”¨å®‰å“ç³»ç»Ÿç‰¹æ€§ç§’å¼€ä»»æ„è½¯ä»¶ï¼Œè®©æ—§æ‰‹æœºé‡å›æ——èˆ°ï¼ {JSON} Placeholderhttps://jsonplaceholder.typicode.com/ Free fake API for testing and prototyping. é¢„æµ‹ 2024 å¹´çš„å‰ç«¯å¼€å‘æ¨¡å¼https://mp.weixin.qq.com/s/IDJ3cPddefsaGa1gTFq1qQ æœ€è¿‘ AIGCï¼ˆAI Generated Contentï¼Œåˆ©ç”¨ AI ç”Ÿæˆå†…å®¹ï¼‰éå¸¸çƒ­ï¼ŒæŠ€æœ¯åœˆä¹Ÿå—åˆ°äº†å¾ˆå¤§å†²å‡»ã€‚ç›®å‰æ¥çœ‹ï¼Œåˆ©ç”¨ LLMï¼ˆLarge Language Modelï¼Œå¤§è¯­è¨€æ¨¡å‹ï¼‰è¾…åŠ©å¼€å‘è¿˜åœç•™åœ¨éå¸¸æ—©æœŸçš„é˜¶æ®µï¼Œä¸»è¦åº”ç”¨æ˜¯ã€Œè¾…åŠ©ç¼–ç ã€ï¼Œå³ã€Œç”¨è‡ªç„¶è¯­è¨€è¾“å…¥éœ€æ±‚ï¼Œæ¨¡å‹è¾“å‡ºä»£ç ã€ã€‚æ›´è¿‘ä¸€æ­¥çš„æ¢ç´¢ä¹Ÿä»…ä»…æ˜¯åœ¨æ­¤åŸºç¡€ä¸Šçš„ä¸€å±‚å°è£…ï¼ˆæ¯”å¦‚ copilot Xã€cursorï¼‰ã€‚ ä½†å³ä½¿åœ¨å¦‚æ­¤æ—©æœŸé˜¶æ®µï¼Œä¹Ÿå¯¹å¼€å‘è€…çš„å¿ƒæ™ºäº§ç”Ÿæå¤§éœ‡æ’¼ï¼Œã€ŒAI è®©ç¨‹åºå‘˜å¤±ä¸šã€è¿™æ ·çš„è®ºè°ƒç”šåš£å°˜ä¸Šã€‚ LLM çš„çˆ†å‘å¯¹å‰ç«¯æ„å‘³ç€ä»€ä¹ˆï¼Ÿæœ¬æ–‡å°è¯•é¢„æµ‹ä¸€æ³¢ 2024 å¹´ä¹‹åçš„å‰ç«¯å¼€å‘æ¨¡å¼ï¼Œ ç½‘é“ï¼ˆWangDoc.comï¼‰https://wangdoc.com/ ç½‘é“ï¼ˆWangDoc.comï¼‰æ˜¯ä¸€ä¸ªæ–‡æ¡£ç½‘ç«™ï¼Œæä¾›äº’è”ç½‘å¼€å‘æ–‡æ¡£ï¼Œæ­£åœ¨å»ºè®¾ä¸­ã€‚ å°ç»“å¦‚æœä½ å–œæ¬¢æ¯å‘¨èœè°±ï¼Œè¯·è½¬å‘ç»™ä½ çš„æœ‹å‹ï¼Œå‘Šè¯‰ä»–ä»¬æ¥è¿™é‡Œè¿›è¡Œè®¢é˜…~ è®¢é˜…åœ°å€ï¼šhttps://mrseawave.github.io/blogs/ æ¯å‘¨èœè°±ï¼Œè®©ä½ åšé¥­æ›´å¼€å¿ƒ~","link":"/articles/2023/04/15/weekly-07/"},{"title":"ç¬¬ 08 èœè°±ï¼šReact SSR å®ç°åŸç†ï¼šä» renderToString åˆ° hydrate","text":"Hiï¼Œæˆ‘æ˜¯ Seaï¼Œæ¬¢è¿æ‰“å¼€æ–°ä¸€æœŸçš„ã€Œæ¯å‘¨èœè°±ã€ï¼Œè¿™æ˜¯ç¬¬ã€Œ08ã€æœŸï¼Œå‘è¡¨äº 2023-04-23ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ¯å‘¨æœ‰ä»€ä¹ˆå€¼å¾—æ¨èçš„~ æ¯å‘¨æ¨èReact SSR å®ç°åŸç†ï¼šä» renderToString åˆ° hydratehttps://mp.weixin.qq.com/s/MA6onW57f5LsntgF5mrSHQ React SSR æ˜¯æœåŠ¡ç«¯é€šè¿‡ renderToString æŠŠç»„ä»¶æ ‘æ¸²æŸ“æˆ html å­—ç¬¦ä¸²ï¼Œæµè§ˆå™¨é€šè¿‡ hydrate æŠŠ dom å…³è”åˆ° fiber æ ‘ï¼ŒåŠ ä¸Šäº¤äº’é€»è¾‘å’Œå†æ¬¡æ¸²æŸ“ã€‚ æœåŠ¡ç«¯ renderToString å°±æ˜¯é€’å½’æ‹¼æ¥å­—ç¬¦ä¸²çš„è¿‡ç¨‹ï¼Œé‡åˆ°ç»„ä»¶ä¼šä¼ å…¥å‚æ•°æ‰§è¡Œï¼Œé‡åˆ°æ ‡ç­¾ä¼šæ‹¼æ¥å¯¹åº”çš„å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆè¿”å›ä¸€æ®µ html ç»™æµè§ˆå™¨ã€‚ æµè§ˆå™¨ç«¯ hydrate æ˜¯åœ¨ reconcile çš„ beginWork é˜¶æ®µï¼Œä¾æ¬¡åˆ¤æ–­ dom æ˜¯å¦å¯ä»¥å¤ç”¨åˆ°å½“å‰ fiberï¼Œå¯ä»¥çš„è¯å°±è®¾ç½®åˆ° fiber.stateNodeï¼Œç„¶ååœ¨ completeWork é˜¶æ®µå°±å¯ä»¥è·³è¿‡èŠ‚ç‚¹çš„åˆ›å»ºã€‚ ç¼–ç¨‹ä¸­æœ€éš¾çš„å°±æ˜¯å‘½åï¼Ÿè¿™å‡ æ‹›æ•™ä½ å¿«é€Ÿä¸Šæ‰‹https://mp.weixin.qq.com/s/q0yZPEcOhsNUqdYaBsLm8g æœ¬æ–‡é€šè¿‡æ¡ˆä¾‹çš„è®²è§£å¼ºè°ƒäº†å‘½åçš„é‡è¦æ€§åŠå…»æˆè‰¯å¥½çš„å‘½åä¹ æƒ¯ä¸€äº›å»ºè®®ã€‚ What Is require.resolve And How Does It Work?https://dev.to/stephencweiss/what-is-require-resolve-and-how-does-it-work-1ho4 è·å–å½“å‰æ–‡ä»¶è·¯å¾„ 123console.log(path.join(__dirname, 'data.txt'));// ç”¨ require.resolve ä»£æ›¿console.log(require.resolve('./data.txt')); React.lazy without a default exporthttps://dev.to/iamandrewluca/react-lazy-without-default-export-4b65 https://legacy.reactjs.org/docs/code-splitting.html#named-exports React.lazyç›®å‰ä»…æ”¯æŒé»˜è®¤å¯¼å‡ºã€‚å¦‚æœæ‚¨è¦å¯¼å…¥çš„æ¨¡å—ä½¿ç”¨å‘½åå¯¼å‡ºï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªä¸­é—´æ¨¡å—ï¼Œå°†å…¶é‡æ–°å¯¼å‡ºä¸ºé»˜è®¤æ¨¡å—ã€‚ å¯¹äºè´¨é‡ä¿éšœï¼Œå‰ç«¯èŒèƒ½è¯¥åšäº›ä»€ä¹ˆï¼Ÿhttps://mp.weixin.qq.com/s/TpISxLeaYmL3OhDvhNVXZw å¯¹äºå‰ç«¯é¡¹ç›®äº¤ä»˜çš„è´¨é‡ï¼Œå„å›¢é˜Ÿå¾€å¾€ä¼šå»ºè®¾ä¼—å¤šçš„äº¤ä»˜æ ‡å‡†ï¼Œå¸Œæœ›ä»¥æ­¤æ¥çº¦æŸé¡¹ç›®çš„å¼€å‘ï¼Œä»è€Œä¿éšœæœ€ç»ˆçš„äº¤ä»˜ç‰©è´¨é‡ã€‚ æŠ€æœ¯å®è·µå¦‚ä½•æ£€æŸ¥å‰ç«¯é¡¹ç›®ä¸­æœªä½¿ç”¨çš„ä¾èµ–åŒ…ï¼Ÿhttps://mp.weixin.qq.com/s/Z-sDe2fGuRm2GiKfyOJXJA éšç€å‰ç«¯é¡¹ç›®ä¸­ä½¿ç”¨çš„ä¾èµ–åŒ…è¶Šæ¥è¶Šå¤šï¼Œè€Œå…¶ä¸­ä¸€éƒ¨åˆ†ä¾èµ–åŒ…å¯èƒ½å¹¶æœªè¢«é¡¹ç›®æ‰€ä½¿ç”¨ï¼Œæ‰‹åŠ¨æŸ¥æ‰¾è¿™äº›ä¾èµ–åŒ…æ—¢è€—æ—¶åˆç¹çã€‚é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰å·¥å…·èƒ½å¤Ÿå¿«é€Ÿåœ°å¸®åŠ©æˆ‘ä»¬è¯†åˆ«å’Œæ¸…ç†é¡¹ç›®ä¸­æœªä½¿ç”¨çš„ä¾èµ–åŒ…å‘¢ï¼Ÿä¸‹é¢å°±æ¥ä»‹ç»ä¸¤ä¸ªç”¨äºæ£€æŸ¥æœªä½¿ç”¨ä¾èµ–åŒ…çš„å¸¸ç”¨å·¥å…·ï¼ depcheck - npm npm-check - npm ä½ æ˜¯å¦‚ä½•è·å–æ–‡æœ¬å®½åº¦çš„ï¼Ÿhttps://juejin.cn/post/7091990279565082655 æ—¥å¸¸å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šéœ€è¦è·å–æ–‡æœ¬æ˜¾ç¤ºå®½åº¦æ¥åšä¸€äº›ç‰¹æ®Šå¸ƒå±€ï¼Œ æ¯”å¦‚ï¼š æ–‡æœ¬è¶…è¿‡å¤šé•¿æ—¶å€™æˆªæ–­å±•ç¤ºçœç•¥å·â€¦ canvas å¸ƒå±€æ—¶å€™åœ¨æŸæ®µæ–‡æœ¬ä¹‹åå±•ç¤ºç‰¹æ®Šæ ‡è®°ç­‰ å¦‚ä½•æ‰èƒ½å‡†ç¡®é«˜æ•ˆçš„å®ç°è·å–æ–‡æœ¬å®é™…çš„æ¸²æŸ“å®½åº¦å‘¢ï¼Ÿ æ­ç¤º useCallback çš„é—®é¢˜å’Œéšæ‚£å¹¶ç»™å‡ºè§£å†³æ–¹æ¡ˆhttps://github.com/huyaocode/webKnowledge/issues/12 æ­ç¤º useCallback çš„é—®é¢˜å’Œéšæ‚£ï¼Œå¦‚æœ‰éœ€è¦ useCallbackï¼Œä¸ªäººå»ºè®®ç›´æ¥ä½¿ç”¨ ahooks ä¸­ useMemoizedFnï¼ŒæŒä¹…åŒ–å‡½æ•°ï¼Œä½†å˜é‡æ˜¯ä½¿ç”¨æœ€æ–°å€¼ å¦‚ä½•å®ç°å¤šä¸ªé¢œè‰²å åŠ æ•ˆæœï¼Ÿhttps://segmentfault.com/q/1010000000398005 https://stackoverflow.com/questions/12143544/how-to-multiply-two-colors-in-javascript JS å®ç°å¦‚ä½•é¢œè‰²å åŠ  å åŠ å…¬å¼ 1Formula: Result Color = (Top Color) * (Bottom Color) /255 12345678function multiply(rgb1, rgb2) { var result = [], i = 0; for (; i &lt; rgb1.length; i++) { result.push(Math.floor((rgb1[i] * rgb2[i]) / 255)); } return result;} æ‹“å±•è¾¹ç•Œåˆ«å†å¾€çœ¼çƒä¸Šæ»´çœ¼è¯æ°´äº†https://mp.weixin.qq.com/s/Xkcg9NAUO560zAB74eu7kg è½»æ¾æ»´çœ¼è¯æ°´æœ€å…³é”®çš„åœ°æ–¹åœ¨äºï¼šä¸è¦ç›´æ¥ç„å‡†çœ¼çƒã€‚æ›´å¥½çš„æ–¹å¼æ˜¯ç„å‡†ç»“è†œå›Šï¼Œä¹Ÿå°±æ˜¯çœ¼çš®ä¸çœ¼çƒä¹‹é—´çš„ç©ºé—´ã€‚ç”¨æ‰‹æä½ä¸‹çœ¼çš®ï¼Œè½»è½»å¾€ä¸‹æ‹‰ï¼Œè¿™æ ·ä¸‹çœ¼ç‘å’Œçœ¼çƒä¹‹é—´å°±ä¼šå½¢æˆä¸€ä¸ªâ€œå°å£è¢‹â€â€”â€”åªè¦æŠŠçœ¼è¯æ°´æ»´åœ¨è¿™é‡Œå°±è¡Œäº†ã€‚ é“å®¶ç»æ´»â€œè§£é¾™ç¯â€https://www.bilibili.com/video/BV1Lh411u7BL/?vd_source=340c3fc924b0c4be6baa9bb2af1224a9 é“å®¶ç»æ´»â€œè§£é¾™ç¯â€ï¼Œæ¾è§£è‚©é¢ˆåªéœ€ 10 ç§’é’Ÿ å¦‚ä½•åœ¨ Gitlab ä¸­ä½¿ç”¨ ChatGPT è¿›è¡Œ CodeReviewhttps://mp.weixin.qq.com/s/Dyk1cYg63oOs13f9_gf9ug æœ¬ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•åœ¨ Gitlab ä¸­ä½¿ç”¨ ChatGPT è¿›è¡Œ CodeReview: å¦‚æƒ³æŸ¥çœ‹å¦‚ä½•ä¸ Github ä¸€èµ·ä½¿ç”¨ï¼Œå¯æŸ¥çœ‹ ChatGPT-CodeReviewï¼šhttps://github.com/anc95/ChatGPT-CodeReview codereview.gptï¼šhttps://github.com/sturdy-dev/codereview.gpt ChatGPT æç¤ºæ¨¡å¼ï¼šæé«˜ä»£ç è´¨é‡ã€é‡æ„ã€éœ€æ±‚è·å–å’Œè½¯ä»¶è®¾è®¡https://mp.weixin.qq.com/s/smbsScFbCT3Ci7mGF5uxPA https://arxiv.org/pdf/2303.07839.pdf æ€»ç»“äº†å¸®åŠ©å·¥ç¨‹å¸ˆåº”ç”¨ ChatGPT æ”¹è¿›éœ€æ±‚è·å–ã€å¿«é€ŸåŸå‹åˆ¶ä½œã€ä»£ç è´¨é‡ã€é‡æ„å’Œç³»ç»Ÿè®¾è®¡çš„æç¤ºæ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³å’Œ 100 ä¸ªæç¤ºè¦ç‚¹ å°ç»“å¦‚æœä½ å–œæ¬¢æ¯å‘¨èœè°±ï¼Œè¯·è½¬å‘ç»™ä½ çš„æœ‹å‹ï¼Œå‘Šè¯‰ä»–ä»¬æ¥è¿™é‡Œè¿›è¡Œè®¢é˜…~ è®¢é˜…åœ°å€ï¼šhttps://mrseawave.github.io/blogs/ æ¯å‘¨èœè°±ï¼Œè®©ä½ åšé¥­æ›´å¼€å¿ƒ~","link":"/articles/2023/04/23/weekly-08/"},{"title":"ç¬¬ 10 èœè°±ï¼šå‰ç«¯æ€§èƒ½ä¼˜åŒ–","text":"Hiï¼Œæˆ‘æ˜¯ Seaï¼Œæ¬¢è¿æ‰“å¼€æ–°ä¸€æœŸçš„ã€Œæ¯å‘¨èœè°±ã€ï¼Œè¿™æ˜¯ç¬¬ã€Œ10ã€æœŸï¼Œå‘è¡¨äº 2023-06-17 ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ¯å‘¨æœ‰ä»€ä¹ˆå€¼å¾—æ¨èçš„~ æ¯å‘¨æ¨è24 ä¸ªå¼ºå¤§çš„ HTML å±æ€§https://juejin.cn/post/7219669309537845285HTML å±æ€§éå¸¸å¤šï¼Œé™¤äº†åŸºæœ¬çš„ä¸€äº›å±æ€§å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šå¾ˆæœ‰ç”¨çš„åŠŸèƒ½æ€§ç‰¹åˆ«å¼ºå¤§çš„å±æ€§ï¼› å‰ç«¯æ€§èƒ½ä¼˜åŒ–https://juejin.cn/post/7188894691356573754æå‡é¦–å±çš„åŠ è½½é€Ÿåº¦ï¼Œæ˜¯å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¸­æœ€é‡è¦çš„ç¯èŠ‚ï¼Œæœ¬ç¯‡æ–‡ç«  é€šè¿‡å¯¹æ¯”ä¼˜åŒ–å‰åçš„æ€§èƒ½å˜åŒ–ï¼Œæ¥éªŒè¯æ–¹æ¡ˆçš„æœ‰æ•ˆæ€§ï¼Œäº†è§£å¹¶æŒæ¡å…¶åŸç† Node v20.3.0ï¼ˆCurrentï¼‰å‘å¸ƒhttps://nodejs.org/en/blog/release/v20.3.0 ç‰ˆæœ¬åœ¨å‡çº§ libuvï¼ˆæä¾› Node å¼‚æ­¥ I/O åŠŸèƒ½çš„åº“ï¼‰åå¸¦æ¥äº†æ˜¾è‘—çš„ Linux æ€§èƒ½æå‡ã€‚æ­¤å¤–ï¼Œè¿˜å¼•å…¥äº† **AbortSignal.any()**ï¼Œå¹¶ä¸”å¼€å§‹æ­£å¼è®¤å¯ Ruy Adorno åœ¨ Node.js TSC ä¸­çš„åœ°ä½ã€‚ React Server Component ä»ç†å¿µåˆ°åŸç†https://mp.weixin.qq.com/s/TFxQSwOLQJWBC-ErWaHS9Q æœ¬æ–‡ä¼šä»ä»¥ä¸‹å‡ ä¸ªè§’åº¦ä»‹ç»RSCï¼š RSCæ˜¯ç”¨æ¥åšå•¥çš„ï¼Ÿ RSCå’Œå…¶ä»–æœåŠ¡ç«¯æ¸²æŸ“æ–¹æ¡ˆï¼ˆSSRã€SSGï¼‰çš„åŒºåˆ« RSCçš„å·¥ä½œåŸç† æŠ€æœ¯å®è·µCSS ä¸­ calc(100%-100px)ä¸åŠ ç©ºæ ¼ä¸ç”Ÿæ•ˆçš„é—®é¢˜https://juejin.cn/post/7220939977245737018 ï¼ˆä¸ºäº†é¿å…è´Ÿæ•° ä¸ºå•¥ CSS ä¸ä¼šæ”¯æŒåŒæ–œæ ( // )æ³¨é‡Šï¼Ÿhttps://mp.weixin.qq.com/s/zqBZV2XW_BHeAgwZ68fcdg ä¼—æ‰€å‘¨çŸ¥ï¼ŒCSS ä»…æ”¯æŒå¤šè¡Œæ³¨é‡Šï¼Œä¹Ÿå°±æ˜¯/**/æ³¨é‡Šï¼Œé‚£ä¸ºä»€ä¹ˆä¸èƒ½ç”¨ //æ³¨é‡Šå‘¢ï¼Ÿ è¯­æ³•å†²çª: CSS æ”¯æŒborder-image: 0//0;å†™æ³• å¦‚ä½•ä½¿ç”¨ nodejs å¯¹é¡¹ç›®å‹åŠ›æµ‹è¯•https://juejin.cn/post/7224341322612621369 å‹åŠ›æµ‹è¯•å¯ä»¥æ¨¡æ‹Ÿå¤§é‡ç”¨æˆ·è®¿é—®, æ¥æµ‹è¯•æˆ‘ä»¬åº”ç”¨çš„æ‰¿è½½èƒ½åŠ›ï¼Œ å¯ä»¥å¸®åŠ©æˆ‘ä»¬æå‰å‘ç°é—®é¢˜å’Œç“¶é¢ˆï¼Œæ—©æ—©åˆ¶å®šåº”å¯¹æªæ–½ã€‚ å…³äº Node è°ƒè¯•å·¥å…·å’Œæ–¹æ³•çš„ä»‹ç»https://blog.openreplay.com/an-introduction-to-debugging-in-nodejs/ æ–‡ç« ä»ç®€å•å†…å®¹å¼€å§‹è¿›è¡Œä»‹ç»ï¼Œå¦‚ä½¿ç”¨ IDE æ‰©å±•ç¨‹åºçªå‡ºæ½œåœ¨é—®é¢˜ã€ä½¿ç”¨æ§åˆ¶å°æ—¥å¿—ï¼Œå†åˆ°ä½¿ç”¨ V8 æ£€æŸ¥å™¨å¹¶é€šè¿‡ Chrome è¿›è¡Œè°ƒè¯•ã€‚ å®Œç¾æ­é…ï¼Œå¾®å‰ç«¯ä¸ Monorepo çš„æ¶æ„è®¾è®¡https://mp.weixin.qq.com/s/9jciGcyLkbxQIGrBqvbUsA æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ Monorepo ä¸å¾®å‰ç«¯ç»“åˆä½¿ç”¨ï¼Œç¯‡å¹…è¾ƒé•¿ï¼Œè¯·ç»“åˆç›®å½•é…Œæƒ…é˜…è¯»ã€‚ å¾®å‰ç«¯/Monorepo æ–¹æ¡ˆéƒ½å­˜åœ¨å¾ˆå¤šäº‰è®®ï¼Œäº‰è®ºæ— æ„ä¹‰ï¼Œé€‰æ‹©é€‚åˆè‡ªå·±å›¢é˜Ÿçš„æ–¹æ¡ˆå³å¯ã€‚ æŠ€æœ¯å®æˆ˜ä»¥ Micro App + pnpm æŠ€æœ¯æ ˆï¼Œè®²è§£äº†ä»é›¶æ­å»ºåˆ°é¡¹ç›®éƒ¨ç½²çš„ä¸€ä¸ªå®Œæ•´å¾®å‰ç«¯é¡¹ç›®ã€‚ åä¸ªè¶…çº§å¥½ç”¨çš„ Javascript æŠ€å·§https://mp.weixin.qq.com/s/pFDjSWWqT5QdCkEvsVSNTA å¸¸è§åˆè¶…çº§å¥½ç”¨çš„ Javascript æŠ€å·§å’Œä»£ç ç‰‡æ®µ æ‹“å±•è¾¹ç•Œå¦‚ä½•æˆä¸ºæ¶æ„å¸ˆï¼Ÿhttps://mp.weixin.qq.com/s/AkNuuHjguqm9aT4U4IXDFAæˆé•¿ï¼Œæ˜¯è®¤çŸ¥çš„å‡çº§ï¼Œæ‰€è°“æ¶æ„å¸ˆå°±æ˜¯æœ‰ç€æ¶æ„å¸ˆçš„è®¤çŸ¥ï¼Œå’Œä¸€äº›é€šç”¨æŠ€æœ¯èƒ½åŠ›ã€‚ ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ï¼Œå¼¹çª—ã€æµ®å±‚ã€æŠ½å±‰ã€æ–°é¡µç­¾ï¼Ÿhttps://www.bilibili.com/video/BV16k4y1n7VL/?vd_source=340c3fc924b0c4be6baa9bb2af1224a9ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ï¼Œå¼¹çª—ã€æµ®å±‚ã€æŠ½å±‰ã€æ–°é¡µç­¾ è¶…å…¨æ‹”æ™ºé½¿åé£Ÿè°±https://www.xiaohongshu.com/explore/63b93ab9000000001f00dae5æ‹”ç‰™ååˆ«å†å…‰å–ç²¥äº† ğŸ¥£ï¼Œå¾ˆå¤šå¥½åƒçš„å…¶å®éƒ½èƒ½åƒï¼ å°ç»“å¦‚æœä½ å–œæ¬¢æ¯å‘¨èœè°±ï¼Œè¯·è½¬å‘ç»™ä½ çš„æœ‹å‹ï¼Œå‘Šè¯‰ä»–ä»¬æ¥è¿™é‡Œè¿›è¡Œè®¢é˜…~ è®¢é˜…åœ°å€ï¼šhttps://mrseawave.github.io/blogs/ æ¯å‘¨èœè°±ï¼Œè®©ä½ åšé¥­æ›´å¼€å¿ƒ~","link":"/articles/2023/06/17/weekly-10/"},{"title":"ç¬¬ 09 èœè°±ï¼šService Worker ä½¿ç”¨ Workbox é¢„ç¼“å­˜å®è·µ","text":"Hiï¼Œæˆ‘æ˜¯ Seaï¼Œæ¬¢è¿æ‰“å¼€æ–°ä¸€æœŸçš„ã€Œæ¯å‘¨èœè°±ã€ï¼Œè¿™æ˜¯ç¬¬ã€Œ09ã€æœŸï¼Œå‘è¡¨äº 2023-06-10ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ¯å‘¨æœ‰ä»€ä¹ˆå€¼å¾—æ¨èçš„~ æ¯å‘¨æ¨èES2023 å³å°†å‘å¸ƒï¼Œå¿«æ¥çœ‹çœ‹æœ‰å“ªäº›æ›´æ–°https://mp.weixin.qq.com/s?__biz=MzA4NjI1OTM5OQ==&amp;mid=2455887416&amp;idx=1&amp;sn=1ef4e5eb95f61d6e4c00a93430bfc6dd&amp;scene=21#wechat_redirect CSS åŸç”Ÿæ”¯æŒä¸‰è§’å‡½æ•°https://mp.weixin.qq.com/s?__biz=Mzg2MDU4MzU3Nw==&amp;mid=2247495701&amp;idx=1&amp;sn=8779fa1de1a196bc28c78fadb375d336&amp;scene=21#wechat_redirect 12345678910.box { /* è®¾ç½®å…ƒç´ çš„å®½åº¦ä¸º sin(30deg) çš„å€¼ */ width: calc(sin(30deg) * 100px); /* è®¾ç½®å…ƒç´ çš„é«˜åº¦ä¸º cos(45deg) çš„å€¼ */ height: calc(cos(45deg) * 100%); /* è®¾ç½®å…ƒç´ çš„é€æ˜åº¦ä¸º tan(60deg) çš„å€¼ */ opacity: calc(tan(60deg));} ä¸ºä»€ä¹ˆéƒ½ç”¨ PM2 æ¥è·‘ Node åº”ç”¨ï¼Ÿhttps://mp.weixin.qq.com/s/GyKx5tcvVjUCNgbe9Jl05w åœ¨æœåŠ¡å™¨ä¸Šï¼Œæˆ‘ä»¬ä¸ä¼šç›´æ¥è·‘ nodeï¼Œè€Œä¼šç”¨ pm2 æ¥è·‘ã€‚ ä¸ºä»€ä¹ˆè¦ç”¨ pm2 å‘¢ï¼Ÿå®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ æ¢ç´¢ä¸»æµå‰ç«¯æ¡†æ¶çš„å“åº”å¼åŸç†https://mp.weixin.qq.com/s/Fe_SbQE1fWU_j2vSgSSttA åœ¨å‰ç«¯æ¡†æ¶ä¸­ï¼Œä¸€èˆ¬æœ‰ä¸‰ç§å¤„ç†å“åº”å¼çš„æ–¹æ³•ï¼š Values: é€šè¿‡æ¯”è¾ƒå½“å‰å€¼å’Œä¹‹å‰çš„å€¼æ¥æ£€æµ‹æ•°æ®å˜åŒ–ã€‚Angular ä½¿ç”¨è¡¨è¾¾å¼è¿›è¡Œæ¯”è¾ƒï¼ŒReact ä½¿ç”¨è™šæ‹Ÿ DOM è¿›è¡Œæ¯”è¾ƒï¼ŒSvelte ä½¿ç”¨ç¼–è¯‘å™¨è¿›è¡Œè„æ•°æ®æ ‡è®°ã€‚ Observablesï¼šåœ¨ Angular ä¸­ä½¿ç”¨ RxJSï¼Œåœ¨ Svelte ä¸­ä½¿ç”¨ Stores æ¥å¤„ç†å“åº”å¼æ•°æ®ã€‚ Signalsï¼šåœ¨ Vueã€Qwik å’Œ Solid æ¡†æ¶ä¸­ä½¿ç”¨ Signalsã€‚å®ƒä¸ Vue ç›¸è¿çš„æ˜¯ç»„ä»¶ï¼ŒQwik ä¸ DOM è¿æ¥ï¼ŒSolid ä½¿ç”¨ DOM ä½œä¸ºæ›´ç»†ç²’åº¦çš„æ–¹æ³•ã€‚ æ¯ç§æ–¹æ³•éƒ½æœ‰å…¶ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ï¼Œå¼€å‘è€…éœ€è¦æ ¹æ®å…·ä½“æƒ…å†µé€‰æ‹©åˆé€‚çš„æ–¹æ³•æ¥å¤„ç†å“åº”å¼æ•°æ®ã€‚ ç°ä»£å›¾ç‰‡æ€§èƒ½ä¼˜åŒ–åŠä½“éªŒä¼˜åŒ–æŒ‡å—https://mp.weixin.qq.com/s?__biz=Mzg2MDU4MzU3Nw==&amp;mid=2247495418&amp;idx=1&amp;sn=379e7ad612de120e4d327e42aa4b9064&amp;scene=21#wechat_redirect å›¾ç‰‡èµ„æºï¼Œåœ¨æˆ‘ä»¬çš„ä¸šåŠ¡ä¸­å¯è°“æ˜¯å æ®äº†éå¸¸å¤§å¤´çš„ä¸€ç¯ï¼Œå°¤å…¶æ˜¯å…¶å¯¹å¸¦å®½çš„æ¶ˆè€—æ˜¯ååˆ†å·¨å¤§çš„ã€‚ å¯¹å›¾ç‰‡çš„æ€§èƒ½ä¼˜åŒ–åŠä½“éªŒä¼˜åŒ–åœ¨ä»Šå¤©å°±æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚æœ¬æ–‡ï¼Œå°±å°†ä»å„ä¸ªæ–¹é¢é˜è¿°ï¼Œåœ¨å„ç§æ–°ç‰¹æ€§æ»¡å¤´é£çš„ä»Šå¤©ï¼Œæˆ‘ä»¬å¯ä»¥å¦‚ä½•å°½å¯èƒ½çš„å¯¹æˆ‘ä»¬çš„å›¾ç‰‡èµ„æºï¼Œè¿›è¡Œæ€§èƒ½ä¼˜åŒ–åŠä½“éªŒä¼˜åŒ–ã€‚ æŠ€æœ¯å®è·µService Worker ä½¿ç”¨ Workbox é¢„ç¼“å­˜å®è·µhttps://juejin.cn/post/7083656336705060871 SW ï¼š æœåŠ¡å™¨ä¸æµè§ˆå™¨ä¹‹é—´çš„ä¸­é—´äººï¼Œå¦‚æœç½‘ç«™ä¸­æ³¨å†Œäº†Service Workeré‚£ä¹ˆå®ƒå¯ä»¥æ‹¦æˆªå½“å‰ç½‘ç«™æ‰€æœ‰çš„è¯·æ±‚ï¼Œè¿›è¡Œåˆ¤æ–­ï¼ˆéœ€è¦ç¼–å†™ç›¸åº”çš„åˆ¤æ–­ç¨‹åºï¼‰ï¼Œå¦‚æœéœ€è¦å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚çš„å°±è½¬ç»™æœåŠ¡å™¨ï¼Œå¦‚æœå¯ä»¥ç›´æ¥ä½¿ç”¨ç¼“å­˜çš„å°±ç›´æ¥è¿”å›ç¼“å­˜ä¸å†è½¬ç»™æœåŠ¡å™¨,æˆ‘ä»¬åœ¨Service Worker ä¸­å¯ä»¥åšæ‹¦æˆªå®¢æˆ·ç«¯çš„è¯·æ±‚ã€å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯ã€å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ç­‰ç›¸å…³å…³æ“ä½œï¼Œå…¶ä¸­æœ€é‡è¦ä¸”å¹¿æ³›çš„çš„ä½œç”¨å°±æ˜¯ç¦»çº¿èµ„æºç¼“å­˜ å…¶ä¸­ Service Worker è°ƒè¯• å¯æŸ¥çœ‹æ­¤ç¯‡æ–‡ç«  å¦‚ä½•è®¾è®¡ä¸€ä¸ªæ”¯æŒå¹¶å‘çš„å‰ç«¯ç¼“å­˜æ¥å£ï¼Ÿhttps://mp.weixin.qq.com/s/OdjqLxhG26X4of0cPAWMtA ç¼“å­˜æ± ä¸è¿‡å°±æ˜¯ä¸€ä¸ªmapï¼Œå­˜å‚¨æ¥å£æ•°æ®çš„åœ°æ–¹ï¼Œå°†æ¥å£çš„è·¯å¾„å’Œå‚æ•°æ‹¼åˆ°ä¸€å—ä½œä¸ºkeyï¼Œæ•°æ®ä½œä¸ºvalueå­˜èµ·æ¥ï¼Œæœ¬æ–‡ä¸»è¦æ˜¯å®è·µ console æ ·å¼å¢å¼ºåº“https://juejin.cn/post/7216182763237916729 1234567891011121314// åªæœ‰ä¸€ä¸ª %c æ—¶console.info( '%c this is me ', 'background-color: #2196f3; padding: 6px 12px; border-radius: 2px; font-size: 14px; color: #fff; text-transform: uppercase; font-weight: 600;', window);// ä¸¤ä¸ª %c æ—¶console.info( '%c this is first %c this is second ', 'background-color: #2196f3; padding: 6px 12px; border-radius: 2px; font-size: 14px; color: #fff; text-transform: uppercase; font-weight: 600;', 'background-color: #00BCD4; padding: 6px 12px; border-radius: 2px; font-size: 14px; color: #fff; text-transform: uppercase; font-weight: 600;', window); async/await å¼‚å¸¸æ•è·ä½ è¿˜åœ¨ç”¨ try-catchhttps://juejin.cn/post/7224391827654180922 ä¸çŸ¥é“å¤§å®¶é¡¹ç›®é‡Œé¢æ˜¯æ€ä¹ˆå¤„ç† async/await çš„å¼‚å¸¸ï¼Œæˆ‘åœ¨æˆ‘ä»¬é¡¹ç›®é‡Œç¿»äº†ä¸€ä¸‹ï¼Œå‘ç°å¤§é‡ä½¿ç”¨ try-catch æ¥å¤„ç† async/await å¼‚å¸¸ï¼Œé¦–å…ˆè¯´æ˜ä¸€ä¸‹ï¼Œ try-catch å¤„ç†å¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæˆ‘åªæ˜¯è§‰å¾—è¿™ä¹ˆå†™ä»£ç ä¼šæœ‰ç‚¹ä¹±ï¼Œæ„Ÿè§‰ä»£ç é€»è¾‘åƒæ˜¯æ–­å±‚äº†ä¸€æ ·ï¼Œä¸æ˜“ç†è§£ï¼› å…¶æ¬¡æ˜¯ä»£ç å†—ä½™é—®é¢˜ï¼Œå•ä¸ª try-catch å°±å äº†å¥½å‡ è¡Œä»£ç ï¼Œå¦‚æœæ¯ä¸ªè¯·æ±‚çš„åœ°æ–¹éƒ½æ·»åŠ  try-catchï¼Œå°±ä¼šæ˜¾å¾—ä»£ç å¾ˆè‡ƒè‚¿ã€‚ è€Œå¯¹äºè¿™ç§å¤§é‡ç›¸åŒçš„å†—ä½™ä»£ç ï¼Œå®Œå…¨å¯ä»¥ç”¨ä¸€ç§é€šç”¨çš„å‡½æ•°æ¥æ›¿ä»£ã€‚ æ‹“å±•è¾¹ç•Œå»è¿‡å¾ˆå¤šåœ°æ–¹ï¼Œçœ‹è¿‡å¾ˆå¤šç¾æ™¯ï¼Œæ—…è¡Œçš„æ„ä¹‰åœ¨å“ªé‡Œï¼Ÿhttps://www.bilibili.com/video/BV1Fk4y1j79c/ joshutohttps://github.com/kamiyaa/joshuto https://www.bilibili.com/video/BV1Zo4y1G7QZ/?vd_source=340c3fc924b0c4be6baa9bb2af1224a9 å®ƒæ˜¯ ranger çš„ Rust æ›¿ä»£å“ï¼Œç»ˆç«¯ä¸‹çš„ vim-inspired æ–‡ä»¶ç®¡ç†å™¨ã€‚ lazygithttps://github.com/jesseduffield/lazygit ç”¨æœ€é«˜æ•ˆçš„å·¥å…·ï¼Œå­¦ä¼š Git æœ€å¼ºçš„åŠŸèƒ½ â€”â€” å‘½ä»¤è¡Œç¥å™¨ Lazygit å°ç»“å¦‚æœä½ å–œæ¬¢æ¯å‘¨èœè°±ï¼Œè¯·è½¬å‘ç»™ä½ çš„æœ‹å‹ï¼Œå‘Šè¯‰ä»–ä»¬æ¥è¿™é‡Œè¿›è¡Œè®¢é˜…~ è®¢é˜…åœ°å€ï¼šhttps://mrseawave.github.io/blogs/ æ¯å‘¨èœè°±ï¼Œè®©ä½ åšé¥­æ›´å¼€å¿ƒ~","link":"/articles/2023/06/10/weekly-09/"},{"title":"ä¸ºä»€ä¹ˆæ›´æ¢å›¾åºŠ","text":"ä»Šå¤©æ¥è®²è®²æˆ‘ä¸ºä»€ä¹ˆä¼šæƒ³åˆ°æ›´æ¢å›¾åºŠï¼ŒGiuHub â€”&gt; é˜¿é‡Œäº‘ OSS ç»“è®ºå…ˆè¯´ç»“è®ºï¼š ç¬¬ä¸€ï¼Œç™½å«–æ€»å½’æ˜¯ä¸å¥½çš„ï¼Œ ç¬¬äºŒä¸»è¦æ˜¯æ€•è¢«å°å·ï¼Œæˆ–è€…æŸä¸€å¤©å¢åŠ äº†åç›—é“¾ï¼Œé‚£å²‚ä¸æ˜¯å‡‰å‡‰ï¼Œï¼ˆå‚è€ƒå¾®åšä¸ Gitee å› æ­¤æˆ‘æ‰“ç®—ç›®å‰å…ˆä½¿ç”¨é˜¿é‡Œäº‘æ¥å½“åšä¸ªäººå›¾åºŠï¼ŒåŒæ—¶é…åˆ uPic æ¥è¿›è¡Œå›¾ç‰‡çš„ä¸Šä¼  å½“ç„¶å¿…ä¸å¯å°‘çš„æ˜¯å›¾åºŠç¼ºç‚¹ï¼šå„ç±»å‚å•†å›¾åºŠå¯èƒ½å­˜åœ¨çš„é—®é¢˜åŒ…æ‹¬ä½†ä¸é™äºï¼šå­˜å‚¨ç©ºé—´å’Œæµé‡å…è´¹ä»˜è´¹é—®é¢˜ã€‚ç¨³å®šæ€§ã€å®‰å…¨æ€§ æ¥ä¸‹æ¥ä»‹ç»ä¸‹å„ç§å›¾åºŠçš„ä¼˜åŠ£å§ å›¾åºŠé€‰æ‹© å›½å†…å¤§å‚çš„å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼šè…¾è®¯äº‘é˜¿é‡Œäº‘ä¸ƒç‰›äº‘éƒ½æœ‰è‡ªå·±çš„å¯¹è±¡å­˜å‚¨æœåŠ¡ã€‚ç”¨æˆ·å¯ä»¥åˆ›å»ºè‡ªå·±çš„å­˜å‚¨æ¡¶ï¼Œä¸Šä¼ æ–‡ä»¶åè‡ªåŠ¨ç”Ÿæˆå¤–é“¾è®¿é—®ã€‚ ä¼˜ç‚¹ï¼šå­˜å‚¨è´¹ååˆ†ä¾¿å®œï¼Œ0.01 å…ƒ/GB å·¦å³ã€‚å½“ä½œå›¾åºŠåŸºæœ¬æ— éœ€æ‹…å¿§è´¹ç”¨ã€‚ ç¼ºç‚¹ï¼ˆé£é™©ï¼‰ï¼šæµé‡è´¹ç”¨å¾ˆé«˜ï¼Œè¿™é‡Œæµé‡æŒ‡çš„æ˜¯ç”¨æˆ·é€šè¿‡å¤–é“¾è®¿é—®æˆ–è€…ä¸‹è½½èµ„æºæ—¶ä¼šç”Ÿæˆæµé‡ã€‚ä»¥è…¾è®¯äº‘ä¸ºä¾‹ï¼Œ0.5 å…ƒ/GB æµé‡è´¹ç”¨ï¼Œå¦‚æœæ˜¯ä¸ªäººå½“åšå®¢å›¾åºŠå°èŒƒå›´ä½¿ç”¨è¿˜å¥½ã€‚å½“è®¿é—®é‡ä¸Šå‡ï¼Œæˆ–è€…å¤–é“¾è¢«ä»–äººåˆ†äº«ä½¿ç”¨ï¼Œå°±æœ‰å¯èƒ½å¯¼è‡´è´¹ç”¨æš´æ¶¨ï¼Œæ›´ä¸ç”¨æå¦‚æœè¢«æ¶æ„ä¸‹è½½åˆ·æµé‡ã€‚ç›®å‰ä¸ªäººå·²çŸ¥çš„å­˜å‚¨æ¡¶åªèƒ½è®¾ç½®ä¸Šé™é¢„è­¦ï¼Œåœ¨æ¬ è´¹å‡ å°æ—¶åè¢«åŠ¨å…³é—­ã€‚ï¼ˆä¸ƒç‰›äº‘å„ç§å…è´¹é¢åº¦å¾ˆé«˜ï¼Œä¸è¿‡éœ€è¦å¤‡æ¡ˆåŸŸåï¼‰ è§£å†³ï¼šä½¿ç”¨ cdn åŠ é€Ÿæ¥å¤§å¹…åº¦å‡å°‘æµé‡è´¹ï¼ŒåŒæ—¶ cdn è®¾ç½®ä¸Šé™é˜ˆå€¼ã€‚éšè—æ–‡ä»¶åŸé“¾æ¥ï¼Œè®¾ç½®é˜²ç›—é“¾ç­‰æ–¹æ³•ã€‚è¿™æ ·å·²ç»èƒ½å¾ˆå¤§ç¨‹åº¦é™ä½å¤©ä»·è´¦å•çš„å¯èƒ½æ€§ï¼ŒåŒæ—¶æ­£å¸¸ä½¿ç”¨ä¹Ÿä¸å®¹æ˜“ç¢°åˆ°æ¶æ„æ”»å‡»çš„æƒ…å†µã€‚ ä½¿ç”¨å›½å¤–å¤§å‚çš„å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼šæœ¬è´¨ä¸Šå’Œå›½å†…å¯¹è±¡å­˜å‚¨æœåŠ¡ç±»ä¼¼ï¼Œåªä¸è¿‡æœ‰äº›ä¼˜æƒ åŠ›åº¦å¾ˆå¤§ï¼Œå¦‚æœä¸è€ƒè™‘ä¸­å›½å¤§é™†çš„è®¿é—®æ€§çš„è¯ï¼Œbackblaze + cloudflareå…è´¹çš„ cdn åŠ é€Ÿè¿˜æ˜¯å¾ˆé¦™çš„ ä½¿ç”¨ç°æˆå›¾åºŠï¼šä¾‹å¦‚ SMMS å›¾åºŠæœåŠ¡ã€‚ä¼˜ç‚¹æ˜¯æœ‰å…è´¹é¢åº¦ï¼Œä¹Ÿæœ‰ä»˜è´¹é€‰é¡¹ï¼Œæ— éœ€æ‹…å¿ƒä¸Šè¿°è´¹ç”¨è¿‡é«˜é—®é¢˜ã€‚ç¼ºç‚¹ï¼šéœ€è‡ªè¡Œé€‰æ‹©ç¨³å®šå›¾åºŠå‚å•†ï¼Œå› ä¸ºæœ‰è·‘è·¯é£é™©ã€‚ ç™½å«–(ä¸æ¨è) ï¼šä½¿ç”¨githubã€giteeã€ç”šè‡³æ˜¯ csdnã€æ–°æµªå¾®åšç­‰ã€‚ ä¼˜ç‚¹ï¼šå®Œå…¨å…è´¹ï¼Œå¯ä»¥æŠŠå›¾ç‰‡ä¸Šä¼ åˆ°ä»»æ„èƒ½ä¸Šä¼ çš„ä½ç½®ã€‚ ç¼ºç‚¹ï¼šç›®å‰ä¸æ¨èï¼Œä¾‹å¦‚ githubã€gitee è¢«å½“ä½œå›¾åºŠæœ‰å¯èƒ½é­åˆ°å°ç¦ã€‚åŒæ—¶ä¸€æ—¦ç™½å«–ç½‘ç«™åŠ å…¥äº†é˜²ç›—é“¾è§„åˆ™ï¼Œé‚£ä¹ˆåšå®¢å›¾ç‰‡ç›´æ¥å…¨éƒ¨æŠ¥åºŸï¼Œä¾‹å­æœ‰ gitee å’Œå¾®åšã€‚ åç»­è®¡åˆ’ åŸæœ‰çš„ GitHub çš„å›¾åºŠè¿ç§» åŸŸåç”³è¯·ä¸å¤‡æ¡ˆ æ­é… CDN è¿›è¡ŒåŠ é€Ÿ æ€è€ƒå›¾ç‰‡å¤‡ä»½ å‚è€ƒé“¾æ¥ é›¶æˆæœ¬æ­å»ºä¸ªäººåšå®¢ä¹‹å›¾åºŠå’Œ cdn åŠ é€Ÿ å›½å†…è‡ªå»ºå›¾åºŠæŒ‡å—","link":"/articles/2023/01/18/why-change-image-hosting/"},{"title":"GitHub Pages ç»‘å®šä¸ªäººåŸŸå","text":"é¦–å…ˆéœ€è¦æœ‰ä¸€ä¸ªè‡ªå·±çš„åŸŸåï¼Œè®©å¤§å®¶æ›´å¥½çš„è®¤è¯†ä½ ã€‚ é…ç½® DNSåœ¨åŸŸåæœåŠ¡å•†é‚£é‡Œï¼Œæ·»åŠ  4 ä¸ª A è®°å½•å’Œ 1 ä¸ª CNAMEï¼š(github) ç±»å‹ åç§° å€¼ A @ 185.199.108.153 A @ 185.199.109.153 A @ 185.199.110.153 A @ 185.199.111.153 CNAME www mrseawave.github.io æ·»åŠ å®Œæˆåå¦‚ä¸‹ï¼š æ€ä¹ˆæŸ¥çœ‹åŸŸåæ˜¯å¦å·²ç»è§£ææˆåŠŸäº†å‘¢ï¼Ÿ 12345âœ dig +noall +answer hailangya.comhailangya.com. 600 IN A 185.199.109.153hailangya.com. 600 IN A 185.199.110.153hailangya.com. 600 IN A 185.199.108.153hailangya.com. 600 IN A 185.199.111.153 ç»ˆç«¯è¾“å…¥ä»¥ä¸Šå‘½ä»¤ï¼Œå¾—åˆ°ä»¥ä¸Šç»“æœå³è¡¨æ˜åŸŸåè§£ææˆåŠŸï¼Œå¯ä»¥è¿›å…¥ä¸‹ä¸€æ­¥äº†ã€‚ è‡ªå®šä¹‰åŸŸåœ¨ GitHub é…ç½® åœ¨è¾¹æ çš„â€œä»£ç å’Œè‡ªåŠ¨åŒ–â€éƒ¨åˆ†ä¸­ï¼Œå•å‡»â€œ Pagesâ€ã€‚ åœ¨â€œè‡ªå®šä¹‰åŸŸâ€ä¸‹ï¼Œé”®å…¥è‡ªå®šä¹‰åŸŸï¼Œç„¶åå•å‡»â€œä¿å­˜â€ã€‚ åšå®¢ç›¸å…³é…ç½®åˆ›å»º CNAME æ–‡ä»¶åœ¨ç­‰å¾…è¯ä¹¦ç”Ÿæˆçš„æ—¶å€™å°±å¯ä»¥é…ç½®ä¸‹ Hexo åšå®¢ é¦–å…ˆæ·»åŠ  CNAME æ–‡ä»¶ï¼š 1hailangya.com æ–‡ä»¶ä½ç½®ï¼š~/blog/source/CNAME ä¿®æ”¹ç›¸å…³é“¾æ¥Hexo ä¸­ï¼Œç„¶åä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼š 12345# æ–‡ä»¶ä½ç½®ï¼š~/blog/_config.yml- url: https://mrseawave.github.io/blogs+ url: https://hailangya.com å› ä½¿ç”¨è‡ªå®šä¹‰åŸŸåï¼Œæ‰€ä»¥å»é™¤ pathname è·¯å¾„ï¼ˆ/blogs ï¼‰ï¼Œå…·ä½“ç»†èŠ‚å¯æŸ¥çœ‹ æ–‡ç«  [!TIP] æç¤º ğŸ’¡ ç”±äº github çš„æ‰€æœ‰é¡¹ç›®åªèƒ½æœ‰ä¸€ä¸ª github pages åŸŸåï¼ˆå¦‚æˆ‘çš„é¡¹ç›®ï¼šmrseawave/mrseawave.github.ioï¼ŒåŸŸåä¸º mrseawave.github.ioï¼Œå…¶ä»–å¼€å¯ github pages çš„é¡¹ç›®éƒ½æ˜¯è¿™ä¸ªåŸŸåçš„å­ç›®å½•ï¼ˆå¦‚é¡¹ç›® mrseawave/imgsï¼ŒåŸŸåä¸º mrseawave.github.io/imgs ï¼Œä½†æ˜¯æˆ‘åœ¨å­é¡¹ç›®ä¸­å•ç‹¬é…ç½®åŸŸå xxx.comï¼Œæ‰€ä»¥ä¸åœ¨éœ€è¦ pathnameï¼Œç›´æ¥è®¿é—® xxx.com å³å¯ å‚è€ƒé“¾æ¥ GitHub Pages ç»‘å®šä¸ªäººåŸŸåï¼Œå… Cloudflare æ”¯æŒ HTTPS | reuixiy ç®¡ç† GitHub Pages ç«™ç‚¹çš„è‡ªå®šä¹‰åŸŸ - GitHub æ–‡æ¡£ å¤šä¸ª Github Pages é¡¹ç›®ä¸»é¡µ DNS é…ç½®æ–¹å¼ | Iifa Tree æ·»åŠ  CNAME æ–‡ä»¶åˆ°ä½ çš„å­˜å‚¨åº“ä¸­ - GitHub Pages æŒ‡å— - UDN å¼€æºæ–‡æ¡£ å¤šé¡¹ç›®éƒ¨ç½²ä¸ºåŒä¸€ä¸ª GitHub Pages - æ˜é‡‘","link":"/articles/2024/03/23/github-bind-domain/"},{"title":"Prettier V3 ä¸­è‹±æ–‡ä¹‹é—´ä¸æ”¯æŒç©ºæ ¼","text":"æœ€è¿‘åœ¨åš blog ä¾èµ–å‡çº§ï¼Œä½¿ç”¨ pnpm update --latest å‡çº§å®Œæ‰€æœ‰çš„ä¾èµ–åï¼Œå‘ç° prettier@3 ä¸å†æ”¯æŒç›˜å¤ä¹‹ç™½ï¼ˆåˆ†éš”ä¸­æ–‡ä¸è‹±è¯­çš„ç©ºç™½é—´éš”ï¼‰ è§£å†³åŠæ³•å‚è€ƒå®˜ç½‘ï¼Œå¦‚æœéœ€è¦ä¸€ä¸ªå¼ºåˆ¶é—´è·æ ·å¼çš„å·¥å…·ï¼Œè¯·è€ƒè™‘ textlint-ja æˆ– lint-mdï¼ˆè§„åˆ™ space-round-alphabet å’Œ space-round-numberï¼‰ï¼Œéœ€è¦å¼•å…¥é¢å¤–çš„æ’ä»¶é…ç½®ï¼Œé…ä¸åŠ¨äº†ï¼Œå› æ­¤æˆ‘é€‰æ‹©é™çº§è‡³ prettier@2.8.8ï¼Œæ²¡å•¥å¤ªå¤§å½±å“ï¼Œåç»­å¯èƒ½ä¼šå†æ¬¡å‡çº§ã€‚ é¢å¤–è¡¥å……æŒ‰ç…§w3cæ ‡å‡†ï¼Œ In horizontal writing mode, the basic approach uses proportional fonts to represent Western alphas and uses proportional or monospace fonts for European numerals. In principle, there is tracking or spacing between an adjacent Han character and a Western character of up to 1/4 em, except at the line start or end.æ¨ªæ’æ—¶ï¼Œè¥¿æ–‡å­—æ¯ä½¿ç”¨æ¯”ä¾‹å­—ä½“ï¼›é˜¿æ‹‰ä¼¯æ•°å­—åˆ™å¸¸ç”¨æ¯”ä¾‹å­—ä½“æˆ–ç­‰å®½å­—ä½“ã€‚åŸåˆ™ä¸Šï¼Œæ±‰å­—ä¸è¥¿æ–‡å­—æ¯ã€æ•°å­—é—´ä½¿ç”¨ä¸å¤šäºå››åˆ†ä¹‹ä¸€ä¸ªæ±‰å­—å®½çš„å­—è·æˆ–ç©ºç™½ã€‚ä½†è¥¿æ–‡å‡ºç°åœ¨è¡Œé¦–æˆ–è¡Œå°¾æ—¶ï¼Œåˆ™æ— é¡»åŠ å…¥ç©ºç™½ã€‚ çœ‹å…¶æ„æ€ï¼Œåº”è¯¥ä¹Ÿæ˜¯éœ€è¦ç©ºæ ¼çš„ï¼ˆor é—´è·ï¼‰ã€‚ æŒ‰ç…§ ä¸­åäººæ°‘å…±å’Œå›½æ–°é—»å‡ºç‰ˆè¡Œä¸šæ ‡å‡† CY/T 154â€”2017 å·ã€Šä¸­æ–‡å‡ºç‰ˆç‰©å¤¹ç”¨è‹±æ–‡çš„ç¼–è¾‘è§„èŒƒã€‹ç¬¬ 8.1 èŠ‚ ä¸­æ–‡æ–‡æœ¬ä¸­å¤¹ç”¨è‹±æ–‡æ—¶ï¼Œåº”æ ¹æ®æ‰€é€‰ç”¨çš„ä¸­è‹±æ–‡å­—ä½“ã€å­—ç¬¦é—´è·ä»¥åŠæ’ç‰ˆçš„è§†è§‰æ•ˆæœå†³å®šè‹±æ–‡è¯å¥ä¸ä¸­æ–‡æ–‡å­—ä¹‹é—´æ˜¯å¦ç•™æœ‰ç©ºæ ¼é—´è·ã€‚å¦‚ç•™ç©ºæ ¼ï¼Œåº”ä¿è¯ä½“ä¾‹çš„ç»Ÿä¸€ã€‚ å€Ÿé‰´çŸ¥ä¹ä¸Š - æ¢æµ·çš„å›ç­” æˆ‘åšæŒè¦åœ¨æ··æ’ä¸­åŠ ç©ºæ ¼ï¼Œä¸»è¦æ˜¯æˆ‘è§‰å¾—ä¸¤ç§æ–‡å­—çš„äº¤ç•Œå¤„åº”è¯¥æ˜¯ä¸ªå°½é‡å¹³æ»‘çš„è¿‡æ¸¡ï¼Œå°½é‡æ»¡è¶³åŒæ–¹æ–‡å­—çš„éœ€æ±‚ï¼Œå¹¶ä¸”è®©æ–‡æœ¬çš„èŠ‚å¥å°½é‡å¹³ç¨³ æ··æ’åŠ ç©ºæ ¼ä¸»è¦æ˜¯ä¸ºäº†é¡ºæ»‘ï¼è§†è§‰ç¾åŒ– å¦å¤–å¦‚æœéœ€è¦åŠ ç©ºæ ¼ï¼Œè¿™äº‹ä¹Ÿä¸è¯¥ç”±å†™ä½œè€…è‡ªå·±è¾“å…¥ï¼Œå·¥å…·è¯¥è‡ªåŠ¨åŒ–æ‰§è¡Œã€‚ å‚è€ƒé“¾æ¥ Prettier 3.0: Hello, ECMAScript Modules! Â· Prettier Markdown: Add an option to re-enable Prettier 2.xâ€™s automatic space insertion in CJK Â· Issue #15015 Â· prettier/prettier ç›˜å¤ä¹‹ç™½ | M-x Chris-An-Emacser ä¸­è¥¿æ–‡æ··æ’æ—¶æ±‰å­—ä¸æ‹‰ä¸å­—æ¯ä¹‹é—´æ˜¯å¦è¦æœ‰ç©ºæ ¼ï¼Ÿ - çŸ¥ä¹ ä¸­æ–‡æ–‡æ¡ˆæ’ç‰ˆæŒ‡åŒ— document-style-guide: ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","link":"/articles/2024/03/30/prettier-lint-space/"}],"tags":[{"name":"Mac","slug":"Mac","link":"/tags/Mac/"},{"name":"GoodNotes","slug":"GoodNotes","link":"/tags/GoodNotes/"},{"name":"Api","slug":"Api","link":"/tags/Api/"},{"name":"Doc","slug":"Doc","link":"/tags/Doc/"},{"name":"Apple","slug":"Apple","link":"/tags/Apple/"},{"name":"Gift","slug":"Gift","link":"/tags/Gift/"},{"name":"Charles","slug":"Charles","link":"/tags/Charles/"},{"name":"Chrome","slug":"Chrome","link":"/tags/Chrome/"},{"name":"Download","slug":"Download","link":"/tags/Download/"},{"name":"History","slug":"History","link":"/tags/History/"},{"name":"Hexo","slug":"Hexo","link":"/tags/Hexo/"},{"name":"CI&#x2F;CD","slug":"CI-CD","link":"/tags/CI-CD/"},{"name":"JS","slug":"JS","link":"/tags/JS/"},{"name":"Git","slug":"Git","link":"/tags/Git/"},{"name":"Lint","slug":"Lint","link":"/tags/Lint/"},{"name":"Engineered","slug":"Engineered","link":"/tags/Engineered/"},{"name":"GitHub","slug":"GitHub","link":"/tags/GitHub/"},{"name":"Proxy","slug":"Proxy","link":"/tags/Proxy/"},{"name":"VPN","slug":"VPN","link":"/tags/VPN/"},{"name":"Repository","slug":"Repository","link":"/tags/Repository/"},{"name":"Lerna","slug":"Lerna","link":"/tags/Lerna/"},{"name":"Publish","slug":"Publish","link":"/tags/Publish/"},{"name":"NPM","slug":"NPM","link":"/tags/NPM/"},{"name":"Actions","slug":"Actions","link":"/tags/Actions/"},{"name":"Workflow","slug":"Workflow","link":"/tags/Workflow/"},{"name":"Cache","slug":"Cache","link":"/tags/Cache/"},{"name":"Manual","slug":"Manual","link":"/tags/Manual/"},{"name":"Token","slug":"Token","link":"/tags/Token/"},{"name":"SEO","slug":"SEO","link":"/tags/SEO/"},{"name":"MD","slug":"MD","link":"/tags/MD/"},{"name":"JetBrains","slug":"JetBrains","link":"/tags/JetBrains/"},{"name":"Prettier","slug":"Prettier","link":"/tags/Prettier/"},{"name":"WebStorm","slug":"WebStorm","link":"/tags/WebStorm/"},{"name":"Format","slug":"Format","link":"/tags/Format/"},{"name":"WX","slug":"WX","link":"/tags/WX/"},{"name":"Hooks","slug":"Hooks","link":"/tags/Hooks/"},{"name":"Husky","slug":"Husky","link":"/tags/Husky/"},{"name":"Sourcetree","slug":"Sourcetree","link":"/tags/Sourcetree/"},{"name":"Install","slug":"Install","link":"/tags/Install/"},{"name":"Rust","slug":"Rust","link":"/tags/Rust/"},{"name":"Process","slug":"Process","link":"/tags/Process/"},{"name":"Koa","slug":"Koa","link":"/tags/Koa/"},{"name":"Static","slug":"Static","link":"/tags/Static/"},{"name":"Validator","slug":"Validator","link":"/tags/Validator/"},{"name":"JSON-Schema","slug":"JSON-Schema","link":"/tags/JSON-Schema/"},{"name":"Monorepo","slug":"Monorepo","link":"/tags/Monorepo/"},{"name":"MultiRepo","slug":"MultiRepo","link":"/tags/MultiRepo/"},{"name":"Recommend","slug":"Recommend","link":"/tags/Recommend/"},{"name":"MySQL","slug":"MySQL","link":"/tags/MySQL/"},{"name":"Node","slug":"Node","link":"/tags/Node/"},{"name":"Stream","slug":"Stream","link":"/tags/Stream/"},{"name":"File","slug":"File","link":"/tags/File/"},{"name":"Cron","slug":"Cron","link":"/tags/Cron/"},{"name":"Schedule","slug":"Schedule","link":"/tags/Schedule/"},{"name":"Image","slug":"Image","link":"/tags/Image/"},{"name":"Watermark","slug":"Watermark","link":"/tags/Watermark/"},{"name":"Babel","slug":"Babel","link":"/tags/Babel/"},{"name":"ZSH","slug":"ZSH","link":"/tags/ZSH/"},{"name":"Puppeteer","slug":"Puppeteer","link":"/tags/Puppeteer/"},{"name":"Optimize","slug":"Optimize","link":"/tags/Optimize/"},{"name":"Pkg","slug":"Pkg","link":"/tags/Pkg/"},{"name":"PM2","slug":"PM2","link":"/tags/PM2/"},{"name":"IPC","slug":"IPC","link":"/tags/IPC/"},{"name":"RGB","slug":"RGB","link":"/tags/RGB/"},{"name":"CSS","slug":"CSS","link":"/tags/CSS/"},{"name":"Color","slug":"Color","link":"/tags/Color/"},{"name":"SSH","slug":"SSH","link":"/tags/SSH/"},{"name":"Key","slug":"Key","link":"/tags/Key/"},{"name":"GitLab","slug":"GitLab","link":"/tags/GitLab/"},{"name":"Terminal","slug":"Terminal","link":"/tags/Terminal/"},{"name":"uPic","slug":"uPic","link":"/tags/uPic/"},{"name":"VS Code","slug":"VS-Code","link":"/tags/VS-Code/"},{"name":"Plugins","slug":"Plugins","link":"/tags/Plugins/"},{"name":"Ide","slug":"Ide","link":"/tags/Ide/"},{"name":"Webpack","slug":"Webpack","link":"/tags/Webpack/"},{"name":"Html","slug":"Html","link":"/tags/Html/"},{"name":"Mini-Programs","slug":"Mini-Programs","link":"/tags/Mini-Programs/"},{"name":"Cross","slug":"Cross","link":"/tags/Cross/"},{"name":"Spawn","slug":"Spawn","link":"/tags/Spawn/"},{"name":"Dependencies","slug":"Dependencies","link":"/tags/Dependencies/"},{"name":"Clean","slug":"Clean","link":"/tags/Clean/"},{"name":"G2","slug":"G2","link":"/tags/G2/"},{"name":"Legend","slug":"Legend","link":"/tags/Legend/"},{"name":"Source Code","slug":"Source-Code","link":"/tags/Source-Code/"},{"name":"Analysis","slug":"Analysis","link":"/tags/Analysis/"},{"name":"Script","slug":"Script","link":"/tags/Script/"},{"name":"Monitor","slug":"Monitor","link":"/tags/Monitor/"},{"name":"SQL","slug":"SQL","link":"/tags/SQL/"},{"name":"Sequelize","slug":"Sequelize","link":"/tags/Sequelize/"},{"name":"ORM","slug":"ORM","link":"/tags/ORM/"},{"name":"analysis","slug":"analysis","link":"/tags/analysis/"},{"name":"Weekly","slug":"Weekly","link":"/tags/Weekly/"},{"name":"Github","slug":"Github","link":"/tags/Github/"}],"categories":[{"name":"Tools","slug":"Tools","link":"/categories/Tools/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","link":"/categories/%E6%8A%80%E6%9C%AF/"},{"name":"Other","slug":"Other","link":"/categories/Other/"},{"name":"analysis","slug":"analysis","link":"/categories/analysis/"},{"name":"Weekly","slug":"Weekly","link":"/categories/Weekly/"}],"pages":[{"title":"About me","text":".heimu { color: #000; background-color: #000; } .heimu:hover { color: #fff; } 95åå‰ç«¯å¼€å‘ä¸€æšï¼Œçˆ±å¥½åŠ¨æ¼«ï¼Œæ’¸çŒ«ï¼Œ å®¶æœ‰ä¸¤åªçŒ«ï¼Œä¸€åªè’‚é˜¿ç‘ï¼ˆè‹±çŸ­é“¶æ¸å±‚ï¼‰ï¼Œä¸€åªé€¢å‚å¤§æ²³ï¼ˆç‹¸èŠ±çŒ«ï¼‰ï¼Œæ—…æ¸¸ï¼Œæ¸¸æˆï¼Œps4ï¼ˆFantasy_FishViyï¼‰ï¼Œswitchå…š ç‹¬çˆ±é­‚ç³»æ¸¸æˆï¼Œæ¬¢è¿ä¸€èµ·æ¥ä¼ ç«ï¼ 2020å¹´åŠ å…¥ å¦‚æœé’å¹´ å’Œæœ‹å‹ä»¬ä¸€èµ·æäº‹æƒ…ï¼Œå“‡å“ˆå“ˆå“ˆ åšå®¢ä¸»è¦å†™æ–‡ç« ï¼ŒæŠ€æœ¯ or è‡ªå·±è¿˜æ²¡èƒ½è§£å†³çš„å‘ï¼Œä½†å¯èƒ½å› ä¸ºè¡¨è¿°ä¼šæœ‰ç‚¹é—®é¢˜ï¼Œåšå®¢æ›´å¤šåªæ˜¯å†™ç»™è‡ªå·±çœ‹çš„ï¼Œå¦‚æœå‘ç°ä¸æ‡‚ä¹‹å¤„å’Œå¯ä»¥æ”¹è¿›çš„åœ°æ–¹æ¬¢è¿ç•™è¨€ ğŸ™ æœ¬ç«™æ–‡ç« å¦‚æ— ç‰¹åˆ«å£°æ˜ï¼Œå‡ä¸ºåŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜æ¥æº","link":"/about/index.html"},{"title":"å‹äººå¸","text":"function changeFrameHeight(){ const ifm= document.getElementById(\"blogFriend\"); ifm.height=ifm.contentWindow.document.body.scrollHeight; }; window.onresize=function(){ changeFrameHeight(); }","link":"/friends/index.html"},{"title":"ç•™è¨€æ¿","text":"ä¸ç•™ä¸‹ç‚¹ä»€ä¹ˆè¯æ˜ä½ æ¥è¿‡å—~","link":"/messages/index.html"}]}